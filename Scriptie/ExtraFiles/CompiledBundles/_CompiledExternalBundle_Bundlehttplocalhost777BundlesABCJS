(function(){var a=function(){};Function.prototype.inherit=function(b,c){a.prototype=b.prototype;this.prototype=new a();if(c){I.extend(this.prototype,c)}this.prototype.constructor=this;this.prototype._parent=b;this.prototype.parentObj=b}})();Date.prototype.getMonthName=function(){return lists.months.items[this.getMonth()]};Date.prototype.getDayName=function(){return lists.days.items[this.getDay()]};Date.prototype.getDateWithoutTime=function(){return new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0,0)};if(!Date.now){Date.now=function now(){return new Date().getTime()}}Number.prototype.dec=function(b){var a=Math.pow(10,b);return Math.round(this*a)/a};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}if(!String.prototype.startsWith){String.prototype.startsWith=function(a){return this.slice(0,a.length)===a}}if(!String.prototype.endsWith){String.prototype.endsWith=function(a){return this.slice(-a.length)===a}}String.prototype.firstIsUpper=function(){return this.charAt(0)===this.charAt(0).toUpperCase()};String.prototype.firstIsLower=function(){return this.charAt(0)===this.charAt(0).toLowerCase()};String.prototype.capitalize=String.prototype.firstToUpper=function(){return this.charAt(0).toUpperCase()+this.slice(1)};String.prototype.firstToLower=function(){return this.charAt(0).toLowerCase()+this.slice(1)};String.random=function(c,a){a=a||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var d="";for(var b=0;b<c;b++){d+=a.charAt(Math.floor(Math.random()*a.length))}return d};Array.prototype.isArray=true;Array.range=function(c,a,d){var b=[];var j=typeof c;var g=typeof a;if(d===0){throw TypeError("Step cannot be zero.")}if(j==="undefined"||g==="undefined"){throw TypeError("Must pass start and end arguments.")}else{if(j!=g){throw TypeError("Start and end arguments must be of same type.")}}typeof d==="undefined"&&(d=1);if(a<c){d=-d}if(j==="number"){while(d>0?a>=c:a<=c){b.push(c);c+=d}}else{if(j==="string"){if(c.length!==1||a.length!==1){throw TypeError("Only strings with one character are supported.")}c=c.charCodeAt(0);a=a.charCodeAt(0);while(d>0?a>=c:a<=c){b.push(String.fromCharCode(c));c+=d}}else{throw TypeError("Only string and number types are supported")}}return b};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c,a){if(!I.has(a)){a=0}else{if(a<0){a=Math.max(0,this.length+a)}}for(var d=a,b=this.length;d<b;d++){if(this[d]===c){return d}}return -1}}if(!Array.prototype.includes){Array.prototype.includes=function(a){return this.indexOf(a)!==-1}}Array.prototype.oneOf=function(a){var b=this.length,c=0;for(;c<b;c++){if(a(this[c])){return true}}return false};if(!Array.prototype.map){Array.prototype.map=function(c,b){var d=0,j=Object(this),g=j.length>>>0,a=new Array(g);while(d<g){if(d in j){a[d]=c.call(b,j[d],d,j)}d++}return a}}Array.prototype.each=function(a,d){var b=this.length,c=0;for(;c<b;c++){a.call(d,this[c])}return this};Array.prototype.eachWithBreak=function(a,d){var b=this.length,c=0;for(;c<b;c++){if(a.call(d,this[c])){break}}return this};Array.prototype.spliceObj=function(b){var a=this.indexOf(b);if(a!==-1){this.splice(a,1);return true}return false};if(!Array.prototype.clear){Array.prototype.clear=function(){this.length=0}}Array.prototype.shuffle=function(){for(var b,c,a=this.length;a;b=Math.floor(Math.random()*a),c=this[--a],this[a]=this[b],this[b]=c){}return this};if(!Number.prototype.round){Number.prototype.round=function(a){return +(Math.round(this+"e+"+a)+"e-"+a)}}if(!window.getComputedStyle){window.getComputedStyle=function(a,b){return a.currentStyle}}if(!Object.keys){Object.keys=function(c){var b=[],a;for(a in c){if(Object.prototype.hasOwnProperty.call(c,a)){b.push(a)}}return b}}var I=function(b){var a=I.dom.findHtml(b);if(a&&a._I){return a._I}return new I.Interface(a)};(function(a){var b=Array.prototype.slice;a.useFor=function(d,c){if(arguments.length>1){c.apply(d,b.call(arguments,1))}else{c.call(d)}return d};a.extend=function(g,c){for(var d in c){if(c.hasOwnProperty(d)){g[d]=c[d]}}return g};a.initParent=function(c){var d=c.parentObj;this.parentObj=d.prototype.parentObj;return d.apply(c,b.call(arguments,1))}})(I);if(window.AppConfig){I.config=window.AppConfig;window.AppConfig=null}else{I.config={useWebsockets:false,primary_useDedicatedGreeter:true,primary_useDynamicServer:false,primary_isLive:true,stopScrollPropegation:true}}
/*
 * UAParser.js v0.7.21
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright Â© 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */
(function(O,H){var k="0.7.21",g="",J="?",j="function",G="undefined",y="object",C="string",m="major",w="model",x="name",E="type",L="vendor",M="version",b="architecture",c="console",u="mobile",D="tablet",B="smarttv",N="wearable",d="embedded";var K={extend:function(S,P){var R={};for(var Q in S){if(P[Q]&&P[Q].length%2===0){R[Q]=P[Q].concat(S[Q])}else{R[Q]=S[Q]}}return R},has:function(P,Q){if(typeof P==="string"){return Q.toLowerCase().indexOf(P.toLowerCase())!==-1}else{return false}},lowerize:function(P){return P.toLowerCase()},major:function(P){return typeof(P)===C?P.replace(/[^\d\.]/g,"").split(".")[0]:H},trim:function(P){return P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}};var n={rgx:function(Z,P){var Q=0,R,S,V,X,U,T;while(Q<P.length&&!U){var Y=P[Q],W=P[Q+1];R=S=0;while(R<Y.length&&!U){U=Y[R++].exec(Z);if(!!U){for(V=0;V<W.length;V++){T=U[++S];X=W[V];if(typeof X===y&&X.length>0){if(X.length==2){if(typeof X[1]==j){this[X[0]]=X[1].call(this,T)}else{this[X[0]]=X[1]}}else{if(X.length==3){if(typeof X[1]===j&&!(X[1].exec&&X[1].test)){this[X[0]]=T?X[1].call(this,T,X[2]):H}else{this[X[0]]=T?T.replace(X[1],X[2]):H}}else{if(X.length==4){this[X[0]]=T?X[3].call(this,T.replace(X[1],X[2])):H}}}}else{this[X]=T?T:H}}}}Q+=2}},str:function(S,R){for(var P in R){if(typeof R[P]===y&&R[P].length>0){for(var Q=0;Q<R[P].length;Q++){if(K.has(R[P][Q],S)){return(P===J)?H:P}}}else{if(K.has(R[P],S)){return(P===J)?H:P}}}return S}};var o={browser:{oldsafari:{version:{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0","2000":"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0","7":"NT 6.1","8":"NT 6.2","8.1":"NT 6.3","10":["NT 6.4","NT 10.0"],RT:"ARM"}}}};var A={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[x,M],[/(opios)[\/\s]+([\w\.]+)/i],[[x,"Opera Mini"],M],[/\s(opr)\/([\w\.]+)/i],[[x,"Opera"],M],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[x,M],[/(konqueror)\/([\w\.]+)/i],[[x,"Konqueror"],M],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[x,"IE"],M],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[x,"Edge"],M],[/(yabrowser)\/([\w\.]+)/i],[[x,"Yandex"],M],[/(Avast)\/([\w\.]+)/i],[[x,"Avast Secure Browser"],M],[/(AVG)\/([\w\.]+)/i],[[x,"AVG Secure Browser"],M],[/(puffin)\/([\w\.]+)/i],[[x,"Puffin"],M],[/(focus)\/([\w\.]+)/i],[[x,"Firefox Focus"],M],[/(opt)\/([\w\.]+)/i],[[x,"Opera Touch"],M],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[x,"UCBrowser"],M],[/(comodo_dragon)\/([\w\.]+)/i],[[x,/_/g," "],M],[/(windowswechat qbcore)\/([\w\.]+)/i],[[x,"WeChat(Win) Desktop"],M],[/(micromessenger)\/([\w\.]+)/i],[[x,"WeChat"],M],[/(brave)\/([\w\.]+)/i],[[x,"Brave"],M],[/(qqbrowserlite)\/([\w\.]+)/i],[x,M],[/(QQ)\/([\d\.]+)/i],[x,M],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[x,M],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[x,M],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[x,M],[/(MetaSr)[\/\s]?([\w\.]+)/i],[x],[/(LBBROWSER)/i],[x],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[M,[x,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[M,[x,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[x,M],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[M,[x,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[x,/(.+)/,"$1 WebView"],M],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[x,/(.+(?:g|us))(.+)/,"$1 $2"],M],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[M,[x,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[x,"Sailfish Browser"],M],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[x,M],[/(dolfin)\/([\w\.]+)/i],[[x,"Dolphin"],M],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[x,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[x,"Chrome"],M],[/(coast)\/([\w\.]+)/i],[[x,"Opera Coast"],M],[/fxios\/([\w\.-]+)/i],[M,[x,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[M,[x,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[M,x],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[x,"GSA"],M],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[x,[M,n.str,o.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[x,M],[/(navigator|netscape)\/([\w\.-]+)/i],[[x,"Netscape"],M],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[x,M]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,K.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[b,/ower/,"",K.lowerize]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[b,K.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[w,L,[E,D]],[/applecoremedia\/[\w\.]+ \((ipad)/],[w,[L,"Apple"],[E,D]],[/(apple\s{0,1}tv)/i],[[w,"Apple TV"],[L,"Apple"],[E,B]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[L,w,[E,D]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[w,[L,"Amazon"],[E,D]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[w,n.str,o.device.amazon.model],[L,"Amazon"],[E,u]],[/android.+aft([bms])\sbuild/i],[w,[L,"Amazon"],[E,B]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[w,L,[E,u]],[/\((ip[honed|\s\w*]+);/i],[w,[L,"Apple"],[E,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[L,w,[E,u]],[/\(bb10;\s(\w+)/i],[w,[L,"BlackBerry"],[E,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[w,[L,"Asus"],[E,D]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[L,"Sony"],[w,"Xperia Tablet"],[E,D]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[L,"Sony"],[E,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[L,w,[E,c]],[/android.+;\s(shield)\sbuild/i],[w,[L,"Nvidia"],[E,c]],[/(playstation\s[34portablevi]+)/i],[w,[L,"Sony"],[E,c]],[/(sprint\s(\w+))/i],[[L,n.str,o.device.sprint.vendor],[w,n.str,o.device.sprint.model],[E,u]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[L,[w,/_/g," "],[E,u]],[/(nexus\s9)/i],[w,[L,"HTC"],[E,D]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[w,[L,"Huawei"],[E,u]],[/android.+(bah2?-a?[lw]\d{2})/i],[w,[L,"Huawei"],[E,D]],[/(microsoft);\s(lumia[\s\w]+)/i],[L,w,[E,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[w,[L,"Microsoft"],[E,c]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[L,"Microsoft"],[E,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[w,[L,"Motorola"],[E,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[w,[L,"Motorola"],[E,D]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[L,K.trim],[w,K.trim],[E,B]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[L,"Samsung"],[E,B]],[/\(dtv[\);].+(aquos)/i],[w,[L,"Sharp"],[E,B]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[L,"Samsung"],w,[E,D]],[/smart-tv.+(samsung)/i],[L,[E,B],w],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[L,"Samsung"],w,[E,u]],[/sie-(\w*)/i],[w,[L,"Siemens"],[E,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[L,"Nokia"],w,[E,u]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[w,[L,"Acer"],[E,D]],[/android.+([vl]k\-?\d{3})\s+build/i],[w,[L,"LG"],[E,D]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[L,"LG"],w,[E,D]],[/(lg) netcast\.tv/i],[L,w,[E,B]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[w,[L,"LG"],[E,u]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[L,w,[E,D]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[w,[L,"Lenovo"],[E,D]],[/(lenovo)[_\s-]?([\w-]+)/i],[L,w,[E,u]],[/linux;.+((jolla));/i],[L,w,[E,u]],[/((pebble))app\/[\d\.]+\s/i],[L,w,[E,N]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[L,w,[E,u]],[/crkey/i],[[w,"Chromecast"],[L,"Google"],[E,B]],[/android.+;\s(glass)\s\d/i],[w,[L,"Google"],[E,N]],[/android.+;\s(pixel c)[\s)]/i],[w,[L,"Google"],[E,D]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[w,[L,"Google"],[E,u]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[w,/_/g," "],[L,"Xiaomi"],[E,u]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[w,/_/g," "],[L,"Xiaomi"],[E,D]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[w,[L,"Meizu"],[E,u]],[/(mz)-([\w-]{2,})/i],[[L,"Meizu"],w,[E,u]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[w,[L,"OnePlus"],[E,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[w,[L,"RCA"],[E,D]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[w,[L,"Dell"],[E,D]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[w,[L,"Verizon"],[E,D]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[L,"Barnes & Noble"],w,[E,D]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[w,[L,"NuVision"],[E,D]],[/android.+;\s(k88)\sbuild/i],[w,[L,"ZTE"],[E,D]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[w,[L,"Swiss"],[E,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[w,[L,"Swiss"],[E,D]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[w,[L,"Zeki"],[E,D]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[L,"Dragon Touch"],w,[E,D]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[w,[L,"Insignia"],[E,D]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[w,[L,"NextBook"],[E,D]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[L,"Voice"],w,[E,u]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[L,"LvTel"],w,[E,u]],[/android.+;\s(PH-1)\s/i],[w,[L,"Essential"],[E,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[w,[L,"Envizen"],[E,D]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[L,w,[E,D]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[w,[L,"MachSpeed"],[E,D]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[L,w,[E,D]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[w,[L,"Rotor"],[E,D]],[/android.+(KS(.+))\s+build/i],[w,[L,"Amazon"],[E,D]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[L,w,[E,D]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[E,K.lowerize],L,w],[/[\s\/\(](smart-?tv)[;\)]/i],[[E,B]],[/(android[\w\.\s\-]{0,9});.+build/i],[w,[L,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[M,[x,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[M,[x,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[x,M],[/rv\:([\w\.]{1,9}).+(gecko)/i],[M,x]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[x,M],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[x,[M,n.str,o.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[x,"Windows"],[M,n.str,o.os.windows.version]],[/\((bb)(10);/i],[[x,"BlackBerry"],M],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[x,M],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[x,"Symbian"],M],[/\((series40);/i],[x],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[x,"Firefox OS"],M],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[x,M],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[x,"Chromium OS"],M],[/(sunos)\s?([\w\.\d]*)/i],[[x,"Solaris"],M],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[x,M],[/(haiku)\s(\w+)/i],[x,M],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[M,/_/g,"."],[x,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[x,"Mac OS"],[M,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[x,M]]};var F=function(S,P){if(typeof S==="object"){P=S;S=H}if(!(this instanceof F)){return new F(S,P).getResult()}var R=S||((O&&O.navigator&&O.navigator.userAgent)?O.navigator.userAgent:g);var Q=P?K.extend(A,P):A;this.getBrowser=function(){var T={name:H,version:H};n.rgx.call(T,R,Q.browser);T.major=K.major(T.version);return T};this.getCPU=function(){var T={architecture:H};n.rgx.call(T,R,Q.cpu);return T};this.getDevice=function(){var T={vendor:H,model:H,type:H};n.rgx.call(T,R,Q.device);return T};this.getEngine=function(){var T={name:H,version:H};n.rgx.call(T,R,Q.engine);return T};this.getOS=function(){var T={name:H,version:H};n.rgx.call(T,R,Q.os);return T};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return R};this.setUA=function(T){R=T;return this};return this};F.VERSION=k;F.BROWSER={NAME:x,MAJOR:m,VERSION:M};F.CPU={ARCHITECTURE:b};F.DEVICE={MODEL:w,VENDOR:L,TYPE:E,CONSOLE:c,MOBILE:u,SMARTTV:B,TABLET:D,WEARABLE:N,EMBEDDED:d};F.ENGINE={NAME:x,VERSION:M};F.OS={NAME:x,VERSION:M};if(typeof(exports)!==G){if(typeof module!==G&&module.exports){exports=module.exports=F}exports.UAParser=F}else{if(typeof(define)==="function"&&define.amd){define(function(){return F})}else{if(O){O.UAParser=F}}}var a=O&&(O.jQuery||O.Zepto);if(a&&!a.ua){var z=new F();a.ua=z.getResult();a.ua.get=function(){return z.getUA()};a.ua.set=function(R){z.setUA(R);var Q=z.getResult();for(var P in Q){a.ua[P]=Q[P]}}}})(typeof window==="object"?window:this);I.support=(function(j,g){var d,a=j.document.createElement("div");a.innerHTML=" <div>a</div>";var c;try{c=j.localStorage}catch(b){}d={transitions:false,transforms:false,formData:(j.FormData!==g),leadingWhitespace:(a.firstChild.nodeType===2),oninput:a.oninput!==g,opacity:j.document.body.style.opacity!==g,history:j.history.pushState!==g,innerText:a.innerText!==g,textContent:a.textContent!==g,getBoundingClientRect:a.getBoundingClientRect!==g,offsetTop:a.offsetTop!==g,cloneNode:false,localStorage:(function(u,n){var o=new Date,m=false;if(n){try{n.setItem(o,o);m=n.getItem(o)==o;n.removeItem(o);return m}catch(k){}}return false})(j,c)};d.webSockets=(j.WebSocket!==g)&&j.WebSocket.CLOSED>2;a=null;return d})(window);var count=0;I.call={events:{},raiseNext:function(b,c,a){if(b.next()){try{b.item.fn.apply(b.item.scope,a);if(!c.done&&b.item.once===true){b.removeItem()}}finally{this.raiseNext(b,c,a)}}},raise_andDontCatchTheError:function(a){var c=this.events[a],b;if(c){Array.prototype.shift.call(arguments);b=c.getIterator();this.raiseNext(b,c,arguments)}return this},raiseOnce_andDontCatchTheError:function(a){var b=this.events[a];if(b){b.done=true;this.raise_andDontCatchTheError.apply(this,arguments)}this.events[a]=false;return this},raise:function(b){var d=this.events[b],c;if(d){Array.prototype.shift.call(arguments);c=d.getIterator();while(c.next()){try{c.item.fn.apply(c.item.scope,arguments)}catch(a){I.logError(a)}if(!d.done&&c.item.once===true){c.removeItem()}}}return this},raiseOnce:function(a){var b=this.events[a];if(b){b.done=true;this.raise.apply(this,arguments)}this.events[a]=false;return this},remove:function(a,b,g){var d=this.events[a],c;if(d){c=d.getIterator();while(c.next()){if(c.item.fn===b&&(g==null||c.item.scope===g)){c.removeItem();c.end();break}}}return this},on:function(a,b,g,d){var c=this.events[a];if(c===false){b.apply(g)}else{b={fn:b,scope:I.has(g)?g:window,once:d};if(c){c.add(b)}else{this.events[a]=I.AL([b])}}return this},onOnce:function(a,b,c){return this.on(a,b,c,true)}};I.Timer=function(b,a,d,c){this.init(b,a,d,c)};I.Timer.prototype={init:function(b,a,d,c){this.callback=a;this.scope=d;this.remaining=this.interval=b;this.isInFactInterval=this.isInterval=!!c;this.inProgress=false;this.resume()},stop:function(){if(this.isInterval){clearInterval(this.timerId)}else{clearTimeout(this.timerId)}this.inProgress=false;this.remaining=this.interval},pause:function(){if(this.inProgress){if(this.isInterval){clearInterval(this.timerId);this.remaining=this.interval-((new Date()-(this.start-(this.interval-this.remaining)))%this.interval)}else{clearTimeout(this.timerId);this.remaining-=new Date()-this.start}this.inProgress=false}},resume:function(){if(!this.inProgress){this.start=new Date();if(this.isInFactInterval){this.isInterval=false;this.timerId=setTimeout(I.scope(this.setInterval,this),this.remaining)}else{this.timerId=setTimeout(I.scope(this.callback,this.scope),this.remaining)}this.inProgress=true}},setInterval:function(){this.isInterval=true;this.remaining=this.interval;this.callback.call(this.scope);this.timerId=setInterval(I.scope(this.callback,this.scope),this.interval)}};(function(a){var b={add:function(k,j,d,n,m){if(d==null&&!a.has(n)){return this.raise(k,j)}if(!k.e){k.e={}}var c=k.e[j];if(m){if(!c){return k}if(d===null){k.e[j]=null}else{var g=c.getIterator(true);while(g.prev()){if(g.item.fn===d&&(n==null||g.item.scope===n)){if(g.length===0){k.e[j]=null}else{g.removeItem()}g.end();break}}}}else{d={fn:d,scope:a.has(n)?n:k};if(!c){k.e[j]=a.AL([d])}else{c.add(d)}}return k},raise:function(k,j,c){if(k.e){var d=k.e[j],g;if(d){g=d.getIterator();while(g.next()){if(c){g.item.fn.apply(g.item.scope,c)}else{g.item.fn.apply(g.item.scope)}}}}if(k.L){k.L.objectHandler(j,k,c?c[0]:null)}return k},apply:function(j,d){var g=j,c=d;Array.prototype.shift.call(arguments);Array.prototype.shift.call(arguments);this.raise(g,c,arguments)}};a.queue=b;a.q=function(c){return function(d,j,g){return b.add(this,c,d,j,g)}};a.qRaise=function(c){return function(){return b.raise(this,c,arguments)}}})(I);(function(b){var d=[],a=function(g,j){if(d.length){return(d.pop()).init(g,j)}else{return new c(g,j)}};var c=function(g,j){this.init(g,j)};c.prototype={init:function(g,j){this.list=g;this.length=g.length();this.reverse=j;this.index=j?this.length:-1;this.nextIterator=this.item=null;b.page.disposer(this);return this},prev:function(){if(this.list){this.index--;if(this.index>=0){this.item=this.list.iterate(this.index);return true}else{this.end()}}return false},next:function(){if(this.list){this.index++;if(this.length>this.index){this.item=this.list.iterate(this.index);return true}else{this.end()}}return false},end:function(){if(this.list){var g=this.list;while(g.nextIterator&&g.nextIterator!==this){g=g.nextIterator}if(g.nextIterator){g.nextIterator=this.nextIterator}this.list=null;this.nextIterator=null;d.push(this)}},removeItem:function(){this.list.remove(this.index)},itemAdded:function(g){this.length++;if(g<=this.index){this.index++}if(this.nextIterator){this.nextIterator.itemAdded(g)}},itemRemoved:function(g){this.length--;if(g<this.index){this.index--}else{if(!this.reverse&&g===this.index){this.index--}}if(this.nextIterator){this.nextIterator.itemRemoved(g)}},addNextIterator:function(g){if(this.nextIterator){this.nextIterator.addNextIterator(g)}else{this.nextIterator=g}}};c.prototype.dispose=c.prototype.end;b.D=function(j,g){return new b.Dictionary(j,g)};b.Dictionary=function(j,g){if(j||g){this.fill(j,g)}else{return this.reset()}};b.Dictionary.prototype=(function(g){return{isDictionary:true,reset:function(){this.lookup={};this.count=0;this.endIterators();return this},key:function(j){this.keysFn=j;return this},onAdd:g.q("add"),raiseAdd:g.qRaise("add"),onUpdate:g.q("update"),raiseUpdate:g.qRaise("update"),onRemove:g.q("remove"),raiseRemove:g.qRaise("remove"),onCountChange:g.q("count"),raiseCountChange:g.qRaise("count"),follow:function(j){if(j.isInterface){if(this.followers){this.followers.push(j)}else{this.followers=[j]}j.dispose(this.unfollow,this)}return this},unfollow:function(j){if(this.followers){this.followers.spliceObj(j)}},fill:function(m,j){this.reset();if(!j&&m){j=m;m=null}if(!m&&j&&!j.isArray){this.lookup=j;this.count=Object.keys(this.lookup).length}else{if(j){this.count=j.length;for(var o=0,n=this.count;o<n;o++){var k=j[o];if(m){this.lookup[m[o]]=k}else{if(this.keysFn){this.lookup[this.keysFn(k)]=k}else{this.lookup[o]=k}}this.addKeyValues(k)}}}if(this.followers){for(o=0,n=this.followers.length;o<n;o++){this.followers[o].fill(this)}}return this.raiseCountChange()},addItems:function(k,j){if(!this.count){this.fill(k,j)}else{this.addItemsToExisting(k,j)}},addItemsToExisting:function(k,j){if(!j){if(!k){return this}j=k;k=null}for(var n=0,m=j.length;n<m;n++){if(k){this.add(k[n],j[n])}else{this.add(j[n])}}},add:function(k,j){if(!j){if(!k){return this}j=k;k=this.keysFn(j)}if(typeof this.lookup[k]==="undefined"){this.lookup[k]=j;this.count++;this.addKeyValues(j);if(this.followers){for(var n=0,m=this.followers.length;n<m;n++){if(this.followers[n].addItem){this.followers[n].addItem(k,j)}}}this.raiseAdd(j).raiseCountChange()}else{this.update(k,j)}return this},update:function(k,n){if(!n){if(!k){return this}n=k;k=this.keysFn(n)}var j=this.lookup[k];if(g.has(j)){if(g.has(n)){this.lookup[k]=n}this.itemHandler(n,k,false);if(this.followers){for(var o=0,m=this.followers.length;o<m;o++){if(this.followers[o].updateItem){this.followers[o].updateItem(k,n)}}}this.raiseUpdate(n)}return this},remove:function(k){var j=this.lookup[k];if(g.has(j)){delete this.lookup[k];this.count--;this.removeKeyValues(j);this.itemHandler(j,k,true);if(this.followers){for(var n=0,m=this.followers.length;n<m;n++){if(this.followers[n].removeItem){this.followers[n].removeItem(k,j)}}}this.raiseRemove(j).raiseCountChange()}this.removeAllListeners();return this},length:function(){return this.count},getIterator:function(){},endIterators:function(){var j=this.nextIterator;while(j){j.end();j=this.nextIterator}},addToIterators:function(j){if(this.nextIterator){this.nextIterator.itemAdded(j)}},removeFromIterators:function(j){if(this.nextIterator){this.nextIterator.itemRemoved(j)}},iterate:function(j){return this.items[j]},first:function(){return this.iterate(0)},last:function(){return this.iterate(this.length()-1)},empty:function(){return !this.length()},get:function(j){return this.lookup[j]},getWithKey:function(m,n){var k=this[m+"Lookup"];if(k){var j=k[n];if(g.has(j)){return k[n]}}return null},find:function(k){if(k!=null){for(var j in this.lookup){if(this.lookup.hasOwnProperty(j)&&this.lookup[j]==k){return j}}}return null},removeAllListeners:function(j){if(this.removeListeners){delete this.removeListeners[j]}if(this.updateListeners){delete this.updateListeners[j]}},itemUpdate:function(k,j,n,m){return this.onItem(false,k,j,n,m)},itemRemove:function(k,j,n,m){return this.onItem(true,k,j,n,m)},onItem:function(w,n,j,x,u){if(j==null&&!g.has(x)){return this.itemHandler(n,w)}var o,m;if(w){o=this.removeListeners;if(!o){o=this.removeListeners={}}}else{o=this.updateListeners;if(!o){o=this.updateListeners={}}}m=o[n];if(u){if(m){if(j==null){delete o[n]}else{var k=m.getIterator(true);while(k.prev()){if(k.item.fn===j&&(x==null||k.item.scope===x)){k.removeItem();k.end();break}}}}}else{if(x!==true){j={fn:j,scope:g.has(x)?x:this}}if(!m){o[n]=g.AL([j])}else{m.add(j)}}return this},itemHandler:function(k,n,u){var o,m;if(u){o=this.removeListeners}else{o=this.updateListeners}if(o){m=o[n];if(m){var j=m.getIterator();while(j.next()){j.item.fn.call(j.item.scope,j.item,n,u)}}}return this},select:function(j,n){if(this.binds){var k=this.binds.getIterator();while(k.next()){if(k.item.obj==j){if(g.has(k.item.key)){this.itemUpdate(k.item.key,k.item.fn,null).itemRemove(k.item.key,k.item.fn,null)}this.itemUpdate(n,k.item,true).itemRemove(n,k.item,true);k.item.key=n;k.end();break}}}if(this.followers){var m=this.lookup[n];for(var u=0,o=this.followers.length;u<o;u++){if(this.followers[u].selectItem){this.followers[u].selectItem(n,m)}}}return this},onselect:function(j,k,n){if(!this.binds){this.binds=g.AL()}var m=this.binds.getIterator();while(m.next()){if(m.item.obj==j){m.item.fn=k;m.item.scope=g.has(n)?n:this;m.end();return this}}this.binds.add({obj:j,fn:k,scope:g.has(n)?n:this});return this},addKey:function(j){if(this.keysPairs){this.keysPairs.add(j)}else{this.keysPairs=g.AL([j])}this[j+"Lookup"]={};return this},addKeyValues:function(k){if(this.keysPairs&&k!=null){var j=this.keysPairs.getIterator();while(j.next()){var n=this[j.item+"Lookup"];if(n){var m=k[j.item];if(g.has(m)){n[m]=k}}}}},removeKeyValues:function(k){if(this.keysPairs&&k!=null){var j=this.keysPairs.getIterator();while(j.next()){var o=this[j.item+"Lookup"];if(o){var n=k[j.item];if(g.has(n)){var m=o[n];if(m===k){delete o[n];j.end();return}}}}}}}})(b);b.AL=function(g){return new b.ArrayList(g)};b.ArrayList=function(g){if(g){this.fill(g)}else{return this.reset()}};b.ArrayList.inherit(b.Dictionary,{isDictionary:false,isList:true,reset:function(){this.items=[];this.endIterators();return this},fill:function(g){if(g){this.items=g;this.endIterators()}else{this.reset()}return this.raiseCountChange(this.items.length)},add:function(g,j){if(j!=null&&j<this.items.length&&j>-1){this.items.splice(j,0,g)}else{this.items.push(g);j=this.items.length-1}this.addToIterators(j);return this},addItems:function(g){if(!this.items.length){this.fill(g)}else{this.addItemsToExisting(g)}},prepend:function(g){return this.add(g,0)},update:function(j,g){if(j!=null&&j>-1&&j<this.items.length){this.items[j]=g}return this},remove:function(g){if(g!=null&&g>-1&&g<this.items.length){this.items.splice(g,1);this.removeFromIterators(g)}return this},removeItem:function(g){return this.remove(this.indexOf(g))},length:function(){return this.items.length},indexOf:function(g){if(g!=null){for(var k=0,j=this.items.length;k<j;k++){if(this.items[k]===g){return k}}}return -1},get:b.Dictionary.prototype.iterate,getIterator:function(j){var g=a(this,j);if(this.nextIterator){this.nextIterator.addNextIterator(g)}else{this.nextIterator=g}return g},shuffle:function(){this.items.shuffle()}});b.L=function(g){return new b.List(g)};b.List=function(g){if(g){this.fill(g)}else{return this.reset()}};b.List.inherit(b.ArrayList,{reset:function(){if(!this.items||this.index){this.items=[];this.lookup={};this.index=0}this.endIterators();return this},fill:function(g){this.reset();if(g){for(var m=0,k=g.length;m<k;m++){var j=g[m];this.lookup[m]=j;this.addKeyValues(j)}this.items=g;this.index=m;if(this.followers){for(m=0,k=this.followers.length;m<k;m++){this.followers[m].fill(this)}}}return this.raiseCountChange(this.items.length)},add:function(g,k){if(k!=null&&k<this.items.length&&k>-1){this.items.splice(k,0,g)}else{this.items.push(g)}this.lookup[this.index]=g;this.addKeyValues(g);if(this.followers){for(var m=0,j=this.followers.length;m<j;m++){if(this.followers[m].addItem){this.followers[m].addItem(this.index,g,beforeKey)}}}this.addToIterators(this.index++);this.raiseAdd(g).raiseCountChange(this.items.length);return this},addItems:function(j,g){if(!this.items.length){this.fill(j,g)}else{this.addItemsToExisting(j,g)}},addAfter:function(g,k){var j=this.indexOf(this.get(g));return this.add(k,j===-1?0:j)},addBefore:function(g,k){var j=this.indexOf(this.get(g));return this.add(item,j===-1?undefined:j)},update:function(j,m){var g=this.lookup[j];j=parseInt(j);if(b.has(g)){if(b.has(m)){this.lookup[j]=m;this.items[this.indexOf(g)]=m}this.itemHandler(m,j,false);if(this.followers){for(var n=0,k=this.followers.length;n<k;n++){if(this.followers[n].updateItem){this.followers[n].updateItem(j,m)}}}}this.raiseUpdate(m);return this},removeItem:function(g){return this.remove(this.find(g))},remove:function(k){var j=this.lookup[k];k=parseInt(k);if(b.has(j)){var g=this.indexOf(j);delete this.lookup[k];this.items.splice(g,1);this.removeKeyValues(j);this.itemHandler(j,k,true);if(this.followers){for(var n=0,m=this.followers.length;n<m;n++){if(this.followers[n].removeItem){this.followers[n].removeItem(k,j)}}}this.removeFromIterators(g);this.raiseRemove(j).raiseCountChange(this.items.length)}this.removeAllListeners();return this},get:b.Dictionary.prototype.get,next:function(j){var g=this.indexOf(this.get(j));if(g!==-1){return this.items[g+1]}else{return null}},prev:function(j){var g=this.indexOf(this.get(j));if(g!==-1){return this.items[g-1]}else{return null}}});b.C=function(j,g){return new b.Catalog(j,g)};b.Catalog=function(j,g){if(j||g){return this.fill(j,g)}else{return this.reset()}};b.Catalog.inherit(b.List,{isDictionary:true,isCatalog:true,reset:function(){if(!this.items||this.items.length){this.items=[];this.keys=[];this.lookup={}}this.endIterators();return this},transform:function(g,n,m){if(!m){var o=[],j=[];for(var w=0,u=g.length;w<u;w++){var k=g[w];o.push(k[n]);j.push(k)}this.fill(o,j);return this}var o=[],j=[];for(var w=0,u=g.length;w<u;w++){var k=g[w];o.push(k[n]);j.push(k[m])}this.fill(o,j);return this},fill:function(m,g){this.reset();if(!g&&m){g=m;m=null}var k,j;if(g===true){var o=m;this.lookup=o;for(var u in o){if(!o.hasOwnProperty(u)){continue}var j=o[u];this.keys.push(u);this.items.push(j);this.addKeyValues(j)}}else{if(g){for(var w=0,n=g.length;w<n;w++){j=g[w];if(m){k=m[w]}else{if(this.keysFn){k=this.keysFn(j)}else{break}}this.items.push(j);this.keys.push(k);this.lookup[k]=j;this.addKeyValues(j)}}}if(this.followers){for(w=0,n=this.followers.length;w<n;w++){this.followers[w].fill(this)}}return this.raiseCountChange(this.items.length)},add:function(j,g,m){if(!g){if(!j){return this}g=j;j=this.keysFn(g)}if(typeof this.lookup[j]==="undefined"){if(m!=null&&m<this.items.length&&m>-1){this.items.splice(m,0,g);this.keys.splice(m,0,j)}else{this.keys.push(j);this.items.push(g);m=this.items.length-1}this.lookup[j]=g;this.addKeyValues(g);if(this.followers){for(var n=0,k=this.followers.length;n<k;n++){if(this.followers[n].addItem){this.followers[n].addItem(j,g,m)}}}this.addToIterators(m);this.raiseAdd(g).raiseCountChange(this.items.length)}else{this.update(j,g)}return this},prepend:function(j,g){return this.add(j,g,0)},addAfter:function(g,m,k){var j=this.indexOfKey(g);return this.add(m,k,j===-1?0:j+1)},addBefore:function(g,m,k){var j=this.indexOfKey(g);return this.add(m,k,j===-1?undefined:j)},update:function(j,m){if(!m){if(!j){return this}m=j;j=this.keysFn(m)}var g=this.indexOfKey(j);if(g!==-1){if(b.has(m)){this.lookup[j]=m;this.items[g]=m}this.itemHandler(m,j,false);if(this.followers){for(var n=0,k=this.followers.length;n<k;n++){if(this.followers[n].updateItem){this.followers[n].updateItem(j,m)}}}this.raiseUpdate(m)}return this},remove:function(k){var g=this.indexOfKey(k),j=this.items[g];if(g!==-1){delete this.lookup[k];this.items.splice(g,1);this.keys.splice(g,1);this.removeKeyValues(j);this.itemHandler(j,k,true);if(this.followers){for(var n=0,m=this.followers.length;n<m;n++){if(this.followers[n].removeItem){this.followers[n].removeItem(k,j)}}}this.removeFromIterators(g);this.raiseRemove(j).raiseCountChange(this.items.length)}this.removeAllListeners();return this},find:function(g){if(g!=null){return this.keys[this.indexOf(g)]}else{return null}},indexOfKey:function(g){if(g!=null){for(var k=0,j=this.keys.length;k<j;k++){if(this.keys[k]===g){return k}}}return -1}})})(I);I.logError=function(a){console.log("%cCAUGHT ERROR","color: red; font-weight: bold;font-size:18px");if(console.error){console.error(a)}else{console.log(a)}};I.util=(function(g){var c=/^\s\s*/,b={rnotwhite:/\S/,rspace:/\s+/,rclass:/[\t\r\n]/g,rleadingWhitespace:/^\s+/,rallWhitespace:c,rhtml:/<|&#?\w+;/,remail:/^[\w.%+-]+@[\w.-]+\.[a-zA-Z]{2,6}$/,whitespace:"[\\x20\\t\\r\\n\\f]",evaluate:function(j){return !!j},sortFirstElementNonEqual:function(j,k){return((j[0]<k[0])?-1:1)},args:function(){return arguments},cleanJSONString:function(j){a.lastIndex=0;return a.test(j)?'"'+j.replace(a,function(k){var m=d[k];return typeof m==="string"?m:"\\u"+("0000"+k.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+j+'"'},mapParseInt:function(j){return parseInt(j,10)},mapParseFloat:function(j){return parseFloat(j,10)},emptyFn:function(){},getId:function(j){return j.id},date:new Date(),random:function(k,j){return Math.floor(Math.random()*(j-k+1)+k)},isNumber:function(j){return !isNaN(j-0)&&j!==null&&j.replace(c,"")!==""&&j!==false},toNumber:function(k){k=k+"";var j=k.replace(/(\s)/g,"");return j.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},addUrlParameter:function(j,k,n){var m=(j.indexOf("?")>-1)?"&":"?";return j+m+k+"="+n},getUrlParameter:function(j){j=j.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var k=new RegExp("[\\?&]"+j+"=([^&#]*)"),m=k.exec(location.search);return m===null?"":decodeURIComponent(m[1].replace(/\+/g," "))}},d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;if(!g.console||!g.console.log){g.console={log:b.emptyFn}}(function(k){var m=new UAParser();m.setUA(navigator.userAgent);var n=m.getResult();k.UA=n;k.browser=n.browser.name;k.version=n.browser.version;k.engine=n.engine.name;k["is"+k.browser.capitalize()]=true;k["is"+k.engine.capitalize()+"Engine"]=true;return;var u=navigator.userAgent,o,j=u.match(/(edge|opera|chrome|safari|firefox|msie|trident)\/?\s*([\d\.]+)/i);console.log(j);if(j[2]){k.browser=j[1];k.version=j[2]}else{k.browser=navigator.appName;k.version=navigator.appVersion}if((o=u.match(/version\/([\.\d]+)/i))!=null){k.version=o[1]}k["is"+k.browser.capitalize()]=true})(b);return b})(window);I.has=function(a){return a!==undefined};I.scope=function(a,b){return function(){return a.apply(b,arguments)}};I.timeout=function(c,a,b){if(arguments.length>3){return I.timeoutArgs.apply(this,arguments)}if(b){return setTimeout(function(){return a.call(b)},c)}return setTimeout(a,c)};I.timeoutArgs=function(d,b,c){var a=arguments;return setTimeout(function(){return b.apply(c||window,Array.prototype.slice.call(a,3))},d)};I.interval=function(c,a,b){if(b){return setInterval(function(){return a.call(b)},c)}return setInterval(a,c)};I.cookieList=[];I.cookies={consentGiven:false,giveConsent:function(){I.cookies.consentGiven=true;I.cookies.setItem("cookieConsent",I.cookies.Functional.value()?"on":"off",100,true,true);if(!I.cookies.consentGiven){var b=I.cookieList;for(var c=0;c<b.length;c++){var a=b[c];I.cookies.setItem(a.name,a.value,a.exdays,a.sharedDomain,a.strictlyNecessary)}}},displayBanner:function(){if(!I.cookies.bannerDisplayed){I.cookies.bannerDisplayed=true;var a=I("<div class='cookieBanner'><div class='cookieBannerTitle'><i class='fas fa-cookie cookieBannerCookie' style='display: none'></i>Cookie Preferences</div><div class='cookieBannerBody'>Cookies are used to enable basic functions such as access to secure areas of the website, storing preferences and tracking user sessions.</div><div class='cookieBox'></div><div class='cookieBannerButtons'><div class='nButton' id='CookieBannerAllowAll'>Allow All Cookies</div><div class='nButton' id='CookieBannerReject'>Save and Continue</div><div id='CookiePrivacy'><a href='https://www.almonds.com/privacy-policy-and-terms-of-use' target='_blank'>Privacy Policy and Terms</a></div></div></div>");I.body.append(a);var g=a.find(".cookieBox");var c=I.CheckBox.create({id:"CbCookiesEssential",label:"Essential Cookies",name:"CookiesEssential"});c.value(1);c.disable();var d=I.CheckBox.create({id:"CbCookiesFunctional",label:"Functional Cookies",name:"CookiesFunctional"});if(I.cookies.functionalConsent){d.value(1)}g.append(c);g.append(d);I.cookies.Functional=d;var b=I.NB("#CookieBannerAllowAll");b.execute(function(){b.startProcessing();I.cookies.Functional.value(1);I.timeout(700,function(){if(I.cookies.Functional.value()){I.cookies.functionalConsent=true}else{I.cookies.functionalConsent=false}I.cookies.giveConsent();a.fadeOut(400,null,function(){a.remove();I.cookies.bannerDisplayed=false})})});I.NB("#CookieBannerReject").execute(function(){if(I.cookies.Functional.value()){I.cookies.functionalConsent=true}else{I.cookies.functionalConsent=false}I.cookies.giveConsent();a.fadeOut(400,null,function(){a.remove();I.cookies.bannerDisplayed=false})})}},getItem:function(c){var b,d,g,a=document.cookie.split(";");for(b=0;b<a.length;b++){d=a[b].substr(0,a[b].indexOf("="));g=a[b].substr(a[b].indexOf("=")+1);d=d.replace(/^\s+|\s+$/g,"");if(d==c){return unescape(g)}}},setItem:function(j,o,g,k,m){if(!I.cookies.consentGiven){var a=I.cookies.getItem("cookieConsent");if(a){I.cookies.consentGiven=true;if(a==="on"){I.cookies.functionalConsent=true}else{I.cookies.functionalConsent=false}}else{I.cookieList.push({name:j,value:o,exdays:g,sharedDomain:k,strictlyNecessary:m});this.displayBanner()}}if(!I.cookies.consentGiven&&!m){return}if(!g){g=365}var d;if(I.cookies.consentGiven||g===-1||j==="cookieConsent"){d=new Date();d.setDate(d.getDate()+g)}var b="";if(k){var c=document.domain.match(/[^\.]*\.[^.]*$/);if(c&&c.length){b="domain="+c[0]+";"}}var n=escape(o)+((d==null)?"":"; expires="+d.toUTCString())+"; path=/ ;"+b;document.cookie=j+"="+n},removeItem:function(a,b){this.setItem(a,"",-1,null,b)}};I.stringStorage={getItem:function(a){return I.support.localStorage?(I.cookies.consentGiven?window.localStorage.getItem(a):window.sessionStorage.getItem(a)):I.cookies.getItem(a)},setItem:function(a,b){return I.support.localStorage?(I.cookies.consentGiven?window.localStorage.setItem(a,b):window.sessionStorage.setItem(a,b)):I.cookies.setItem(a,b)}};I.objectStorage={getItem:function(b){try{var c=I.stringStorage.getItem(b);if(c!=null){return JSON.parse(c)}else{return null}}catch(a){return null}},setItem:function(a,b){if(b==null){b=""}else{if(typeof b!=="string"){b=JSON.stringify(b)}}I.stringStorage.setItem(a,b)}};I.throttle=function(k,d,j){k||(k=250);j||(j=this);var g,b,a,c=function(){g=now;d.apply(j,a)};return function(){var m=+new Date;if(g&&m<g+k){clearTimeout(b);a=arguments;b=setTimeout(c,k)}else{g=m;d.apply(j,arguments)}}};I.framedThrottle=function(d,k,c){k||(k=this);var a,j=false,g,b=function(){j=false;d.apply(k,a)};return function(m){if(j){if(m===true){window.cancelAnimationFrame(g);j=false;a=null}else{a=arguments}}else{if(m!==true){if(c){c=false;d.apply(k,arguments)}else{a=arguments;j=true;g=window.requestAnimationFrame(b)}}}}};I.framedFPSThrottle=function(d,c,k,b){k=k||this;d=d||60;var m=window.requestAnimationFrame.now(),a,g=false;var j=1000/d,n=function(u){var o=u-m;if(o>j){g=false;m=u-(o%j);c.apply(k,a)}else{window.requestAnimationFrame(n)}};return function(){if(g){a=arguments}else{if(b){b=false;c.apply(k,arguments)}else{a=arguments;g=true;window.requestAnimationFrame(n)}}}};(function(u){var n=["ms","moz","webkit","o"],g=true,m=u.requestAnimationFrame,b=u.cancelAnimationFrame;if(!m||!b){for(var c=0;c<n.length;c++){var o=n[c];m=u[o+"RequestAnimationFrame"];if(m){b=(u[o+"CancelAnimationFrame"]||u[o+"CancelRequestAnimationFrame"])}}if(!m||!b){g=false;(function(B){var y=[],x=1,A,z=1000/60,w=function(){var F=Date.now(),C=y;x++;A=false;y=[];for(var D=0,E=C.length;D<E;D++){C[D](F)}};B.requestAnimationFrame=function(C){y.push(C);if(!A){A=true;setTimeout(w,z)}return x+"#"+(y.length-1)};B.cancelAnimationFrame=function(E){var D=E.indexOf("#"),C=E.substring(0,D);if(x==C){y.splice(E.substring(D+1),1)}}})(u);m=u.requestAnimationFrame}else{u.requestAnimationFrame=m;u.cancelAnimationFrame=b}}var k=u.performance,j,d=true;if(k){j=k.now||k.webkitNow||k.msNow||k.mozNow}else{u.performance=k={}}if(!j){d=false;(function(y){var x;if(y.timing&&y.timing.navigationStart){x=y.timing.navigationStart}else{x=Date.now()}u.performance.now=function w(){return Date.now()-x}})(k)}else{u.performance.now=j}if(g&&d){var a=[];m.onready=function(w){a.push(w)};m(function(x){if(x<1000000000000){m.highRes=true;m.now=(function(){return function(){return k.now()}})()}else{m.highRes=false;m.now=(function(){return function(){return Date.now()}})()}m.onready=null;m.ready=true;for(var w=0;w<a.length;w++){a[w].call()}})}else{m.ready=true;m.highRes=false;m.now=Date.now}})(window);if(I.config.debug){function sleep(b){var c=new Date().getTime();for(var a=0;a<10000000;a++){if((new Date().getTime()-c)>b){break}}}}I.validation=(function(c){var a=/^\d+$/;var b={isEmptyField:function(d){return d!==""&&d!==null&&d!==undefined},isEmptyTextField:function(d){return d!==null&&d!==undefined&&d.trim()!==""},isNumberString:function(d){return !isNaN(d)},isInteger:function(d){if(d==null){return false}if(typeof d==="number"){return d%1===0}if(typeof d==="string"){return a.test(d)}return false},isDouble:function(d){if(d==null){return false}if(d===true||d===false){return true}if(typeof d==="number"){return true}if(typeof d==="string"){if(d.trim()===""){return false}else{if(!isNaN(d)){return true}}}return false}};return b})(window);I.div=function(b,a){if(!b&&!a){return document.createElement("div")}else{return I.dom.createElement("<div "+(b==null?"":"id='"+b+"' ")+"class='"+(a==null?"":a)+"'></div>")}};I.dom={findHtml:function(b){if(b){if(b.nodeType){return b}else{if(b.isInterface){return b.html}else{if(b.charAt){var a=b.charAt(0);if(a==="#"){return document.getElementById(b.substring(1))}else{if(a==="."){return this.getElementByClass(b.substring(1))}}}else{if(b===window){return b}}}}}return this.createElement(b)},query:function(d,a,g){if(d&&d.charAt){if(d.charAt(0)==="#"){var b=a.querySelector(d);if(b){return g?b:[b]}}else{var c=d.indexOf(".");if(c!==-1){return this.getElementsByClass(d.substring(c+1),c===0?null:d.substring(0,c),a,g)}else{return this.getElementsByTagName(d,a,g)}}}if(g){return null}return[]},array:function(a,c){if(a){if(!c){c=I}var b=[],g=0,d;for(d=a.length;g<d;g++){b.push(c(a[g]))}return b}return[]},getElementsByTagName:function(d,b,c){if(b==null){b=document}var a=b.getElementsByTagName(d);if(c){return a?a[0]:null}else{return a}},getElementsByClass:function(m,w,n,u){if(n==null){n=document}if(w==null){w="*"}if(w==="*"&&n.getElementsByClassName){var b=n.getElementsByClassName(m);if(u){return b?b[0]:null}else{return b}}var c=n.getElementsByTagName(w),d=0,a=null,g,k=c.length,o=new RegExp("(^|\\s)"+m+"(\\s|$)");if(!u){a=[];g=0}for(;d<k;d++){if(o.test(c[d].className)){if(u){return c[d]}else{a[g++]=c[d]}}}return a},getElementByClass:function(a,c,b){return this.getElementsByClass(a,c,b,true)},createElement:function(j){if(!j){return null}if(typeof j==="number"){return document.createTextNode(j+"")}if(typeof j==="string"){if(j.charAt(0)==="+"){return document.createElement(j.substring(1))}if(!I.util.rhtml.test(j)){return document.createTextNode(j)}else{var g=document.createDocumentFragment(),d;d=document.createElement("div");g.appendChild(d);d.innerHTML=j;var b=d.firstChild;while(b){if(b.nodeType===3&&!b.nodeValue.replace(/^\s+|\s+$/g,"")){var a=b.nextSibling;d.removeChild(b);b=a;continue}b=b.nextSibling}if(d.childNodes.length===1){j=d.firstChild}else{j=d}g.removeChild(d);return j}}return null},hasClass:function hasClass(b,a){if(b){return(" "+b.className+" ").indexOf(" "+a+" ")>-1}else{return false}},convert:function(a,b){var g,c,d=[];for(g=0,c=a.length;g<c;g++){d.push(b(a[g]))}return d},eventHandlers:{},bindEventhandler:function(c,b){var a=this.eventHandlers[c];if(!a){a=this.eventHandlers[c]=function(d){var g=this._I,j;if(g){j=g.eventHandler(c,d);return j}}}if(b==null){throw"HTML element not found."}b[c]=a},isChildOf:function(b,a){while(b){if(b==a){return true}b=b.parentNode}return false},toElement:function(a,b){return this.isChildOf(a.toElement||a.relatedTarget,b)}};if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,rep;var quote=I.util.cleanJSONString;function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):b.moment=a()}(this,(function(){var b1;function b2(){return b1.apply(null,arguments)}function ep(e9){b1=e9}function cc(e9){return e9 instanceof Array||Object.prototype.toString.call(e9)==="[object Array]"}function cp(e9){return e9!=null&&Object.prototype.toString.call(e9)==="[object Object]"}function cq(fa){var e9;for(e9 in fa){return false}return true}function cx(e9){return e9===void 0}function co(e9){return typeof e9==="number"||Object.prototype.toString.call(e9)==="[object Number]"}function cf(e9){return e9 instanceof Date||Object.prototype.toString.call(e9)==="[object Date]"}function dd(e9,fa){var fc=[],fb;for(fb=0;fb<e9.length;++fb){fc.push(fa(e9[fb],fb))}return fc}function bZ(e9,fa){return Object.prototype.hasOwnProperty.call(e9,fa)}function ba(e9,fa){for(var fb in fa){if(bZ(fa,fb)){e9[fb]=fa[fb]}}if(bZ(fa,"toString")){e9.toString=fa.toString}if(bZ(fa,"valueOf")){e9.valueOf=fa.valueOf}return e9}function ax(fa,e9,fb,fc){return av(fa,e9,fb,fc,true).utc()}function aW(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function bu(e9){if(e9._pf==null){e9._pf=aW()}return e9._pf}var ev;if(Array.prototype.some){ev=Array.prototype.some}else{ev=function(e9){var fc=Object(this);var fb=fc.length>>>0;for(var fa=0;fa<fb;fa++){if(fa in fc&&e9.call(this,fc[fa],fa,fc)){return true}}return false}}var ew=ev;function cA(fb){if(fb._isValid==null){var e9=bu(fb);var fc=ew.call(e9.parsedDateParts,function(fd){return fd!=null});var fa=!isNaN(fb._d.getTime())&&e9.overflow<0&&!e9.empty&&!e9.invalidMonth&&!e9.invalidWeekday&&!e9.nullInput&&!e9.invalidFormat&&!e9.userInvalidated&&(!e9.meridiem||(e9.meridiem&&fc));if(fb._strict){fa=fa&&e9.charsLeftOver===0&&e9.unusedTokens.length===0&&e9.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(fb)){fb._isValid=fa}else{return fa}}return fb._isValid}function aq(e9){var fa=ax(NaN);if(e9!=null){ba(bu(fa),e9)}else{bu(fa).userInvalidated=true}return fa}var dI=b2.momentProperties=[];function al(fc,e9){var fa,fb,fd;if(!cx(e9._isAMomentObject)){fc._isAMomentObject=e9._isAMomentObject}if(!cx(e9._i)){fc._i=e9._i}if(!cx(e9._f)){fc._f=e9._f}if(!cx(e9._l)){fc._l=e9._l}if(!cx(e9._strict)){fc._strict=e9._strict}if(!cx(e9._tzm)){fc._tzm=e9._tzm}if(!cx(e9._isUTC)){fc._isUTC=e9._isUTC}if(!cx(e9._offset)){fc._offset=e9._offset}if(!cx(e9._pf)){fc._pf=bu(e9)}if(!cx(e9._locale)){fc._locale=e9._locale}if(dI.length>0){for(fa=0;fa<dI.length;fa++){fb=dI[fa];fd=e9[fb];if(!cx(fd)){fc[fb]=fd}}}return fc}var eT=false;function dH(e9){al(this,e9);this._d=new Date(e9._d!=null?e9._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(eT===false){eT=true;b2.updateOffset(this);eT=false}}function cn(e9){return e9 instanceof dH||(e9!=null&&e9._isAMomentObject!=null)}function d(e9){if(e9<0){return Math.ceil(e9)||0}else{return Math.floor(e9)}}function eH(e9){var fa=+e9,fb=0;if(fa!==0&&isFinite(fa)){fb=d(fa)}return fb}function aa(e9,fa,fc){var fe=Math.min(e9.length,fa.length),ff=Math.abs(e9.length-fa.length),fb=0,fd;for(fd=0;fd<fe;fd++){if((fc&&e9[fd]!==fa[fd])||(!fc&&eH(e9[fd])!==eH(fa[fd]))){fb++}}return fb+ff}function eX(e9){if(b2.suppressDeprecationWarnings===false&&(typeof console!=="undefined")&&console.warn){console.warn("Deprecation warning: "+e9)}}function a3(fb,fa){var e9=true;return ba(function(){if(b2.deprecationHandler!=null){b2.deprecationHandler(null,fb)}if(e9){var fd=[];var fc;for(var fe=0;fe<arguments.length;fe++){fc="";if(typeof arguments[fe]==="object"){fc+="\n["+fe+"] ";for(var ff in arguments[0]){fc+=ff+": "+arguments[0][ff]+", "}fc=fc.slice(0,-2)}else{fc=arguments[fe]}fd.push(fc)}eX(fb+"\nArguments: "+Array.prototype.slice.call(fd).join("")+"\n"+(new Error()).stack);e9=false}return fa.apply(this,arguments)},fa)}var a5={};function a4(fa,e9){if(b2.deprecationHandler!=null){b2.deprecationHandler(fa,e9)}if(!a5[fa]){eX(e9);a5[fa]=true}}b2.suppressDeprecationWarnings=false;b2.deprecationHandler=null;function ck(e9){return e9 instanceof Function||Object.prototype.toString.call(e9)==="[object Function]"}function en(e9){var fb,fa;for(fa in e9){fb=e9[fa];if(ck(fb)){this[fa]=fb}else{this["_"+fa]=fb}}this._config=e9;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+(/\d{1,2}/).source)}function dz(fa,e9){var fc=ba({},fa),fb;for(fb in e9){if(bZ(e9,fb)){if(cp(fa[fb])&&cp(e9[fb])){fc[fb]={};ba(fc[fb],fa[fb]);ba(fc[fb],e9[fb])}else{if(e9[fb]!=null){fc[fb]=e9[fb]}else{delete fc[fb]}}}}for(fb in fa){if(bZ(fa,fb)&&!bZ(e9,fb)&&cp(fa[fb])){fc[fb]=ba({},fc[fb])}}return fc}function cR(e9){if(e9!=null){this.set(e9)}}var cD;if(Object.keys){cD=Object.keys}else{cD=function(fa){var e9,fb=[];for(e9 in fa){if(bZ(fa,e9)){fb.push(e9)}}return fb}}var cE=cD;var aI={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function T(e9,fa,fb){var fc=this._calendar[e9]||this._calendar.sameElse;return ck(fc)?fc.call(fa,fb):fc}var aS={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function c8(fb){var e9=this._longDateFormat[fb],fa=this._longDateFormat[fb.toUpperCase()];if(e9||!fa){return e9}this._longDateFormat[fb]=fa.replace(/MMMM|MM|DD|dddd/g,function(fc){return fc.slice(1)});return this._longDateFormat[fb]}var aK="Invalid date";function ca(){return this._invalidDate}var aV="%d";var aJ=/\d{1,2}/;function dY(e9){return this._ordinal.replace("%d",e9)}var aX={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function eh(fa,fd,fc,e9){var fb=this._relativeTime[fc];return(ck(fb))?fb(fa,fd,fc,e9):fb.replace(/%d/i,fa)}function d4(e9,fb){var fa=this._relativeTime[e9>0?"future":"past"];return ck(fa)?fa(fb):fa.replace(/%s/i,fb)}var C={};function y(fb,fa){var e9=fb.toLowerCase();C[e9]=C[e9+"s"]=C[fa]=fb}function dT(e9){return typeof e9==="string"?C[e9]||C[e9.toLowerCase()]:undefined}function dS(e9){var fa={},fb,fc;for(fc in e9){if(bZ(e9,fc)){fb=dT(fc);if(fb){fa[fb]=e9[fc]}}}return fa}var d9={};function z(fa,e9){d9[fa]=e9}function bv(fb){var fa=[];for(var e9 in fb){fa.push({unit:e9,priority:d9[e9]})}fa.sort(function(fc,fd){return fc.priority-fd.priority});return fa}function db(fa,e9){return function(fb){if(fb!=null){eo(this,fa,fb);b2.updateOffset(this,e9);return this}else{return bk(this,fa)}}}function bk(e9,fa){return e9.isValid()?e9._d["get"+(e9._isUTC?"UTC":"")+fa]():NaN}function eo(e9,fa,fb){if(e9.isValid()){e9._d["set"+(e9._isUTC?"UTC":"")+fa](fb)}}function ey(e9){e9=dT(e9);if(ck(this[e9])){return this[e9]()}return this}function ez(fb,fc){if(typeof fb==="object"){fb=dS(fb);var fa=bv(fb);for(var e9=0;e9<fa.length;e9++){this[fa[e9].unit](fb[fa[e9].unit])}}else{fb=dT(fb);if(ck(this[fb])){return this[fb](fc)}}return this}function e8(fb,fd,fa){var e9=""+Math.abs(fb),fe=fd-e9.length,fc=fb>=0;return(fc?(fa?"+":""):"-")+Math.pow(10,Math.max(0,fe)).toString().substr(1)+e9}var bg=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;var c7=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var be={};var bh={};function m(fd,fc,fb,e9){var fa=e9;if(typeof e9==="string"){fa=function(){return this[e9]()}}if(fd){bh[fd]=fa}if(fc){bh[fc[0]]=function(){return e8(fa.apply(this,arguments),fc[1],fc[2])}}if(fb){bh[fb]=function(){return this.localeData().ordinal(fa.apply(this,arguments),fd)}}}function ej(e9){if(e9.match(/\[[\s\S]/)){return e9.replace(/^\[|\]$/g,"")}return e9.replace(/\\/g,"")}function da(fa){var e9=fa.match(bg),fb,fc;for(fb=0,fc=e9.length;fb<fc;fb++){if(bh[e9[fb]]){e9[fb]=bh[e9[fb]]}else{e9[fb]=ej(e9[fb])}}return function(fe){var ff="",fd;for(fd=0;fd<fc;fd++){ff+=ck(e9[fd])?e9[fd].call(fe,fa):e9[fd]}return ff}}function bf(fa,e9){if(!fa.isValid()){return fa.localeData().invalidDate()}e9=a9(e9,fa.localeData());be[e9]=be[e9]||da(e9);return be[e9](fa)}function a9(e9,fb){var fa=5;function fc(fd){return fb.longDateFormat(fd)||fd}c7.lastIndex=0;while(fa>=0&&c7.test(e9)){e9=e9.replace(c7,fc);c7.lastIndex=0;fa-=1}return e9}var de=/\d/;var dj=/\d\d/;var dk=/\d{3}/;var dm=/\d{4}/;var dp=/[+-]?\d{6}/;var df=/\d\d?/;var dl=/\d\d\d\d?/;var dn=/\d\d\d\d\d\d?/;var dg=/\d{1,3}/;var dh=/\d{1,4}/;var di=/[+-]?\d{1,6}/;var dv=/\d+/;var dt=/[+-]?\d+/;var dr=/Z|[+-]\d\d:?\d\d/gi;var ds=/Z|[+-]\d\d(?::?\d\d)?/gi;var du=/[+-]?\d+(\.\d{1,3})?/;var dw=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var ef={};function o(fb,e9,fa){ef[fb]=ck(e9)?e9:function(fc,fd){return(fc&&fa)?fa:e9}}function bt(fa,e9){if(!bZ(ef,fa)){return new RegExp(eR(fa))}return ef[fa](e9._strict,e9._locale)}function eR(e9){return eg(e9.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(fa,fb,fc,fd,fe){return fb||fc||fd||fe}))}function eg(e9){return e9.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var eM={};function n(fc,e9){var fb,fa=e9;if(typeof fc==="string"){fc=[fc]}if(co(e9)){fa=function(fe,fd){fd[e9]=eH(fe)}}for(fb=0;fb<fc.length;fb++){eM[fc[fb]]=fa}}function A(fa,e9){n(fa,function(fd,fb,fc,fe){fc._w=fc._w||{};e9(fd,fc._w,fc,fe)})}function x(fb,fa,e9){if(fa!=null&&bZ(eM,fb)){eM[fb](fa,e9._a,e9,fb)}}var e6=0;var dK=1;var aB=2;var b3=3;var dF=4;var el=5;var dC=6;var eY=7;var eZ=8;var b6;if(Array.prototype.indexOf){b6=Array.prototype.indexOf}else{b6=function(fa){var e9;for(e9=0;e9<this.length;++e9){if(this[e9]===fa){return e9}}return -1}}var b7=b6;function aF(fa,e9){return new Date(Date.UTC(fa,e9+1,0)).getUTCDate()}m("M",["MM",2],"Mo",function(){return this.month()+1});m("MMM",0,0,function(e9){return this.localeData().monthsShort(this,e9)});m("MMMM",0,0,function(e9){return this.localeData().months(this,e9)});y("month","M");z("month",8);o("M",df);o("MM",df,dj);o("MMM",function(e9,fa){return fa.monthsShortRegex(e9)});o("MMMM",function(e9,fa){return fa.monthsRegex(e9)});n(["M","MM"],function(fa,e9){e9[dK]=eH(fa)-1});n(["MMM","MMMM"],function(fb,e9,fa,fd){var fc=fa._locale.monthsParse(fb,fd,fa._strict);if(fc!=null){e9[dK]=fc}else{bu(fa).invalidMonth=fb}});var dN=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;var aM="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function cY(fa,e9){if(!fa){return cc(this._months)?this._months:this._months.standalone}return cc(this._months)?this._months[fa.month()]:this._months[(this._months.isFormat||dN).test(e9)?"format":"standalone"][fa.month()]}var aN="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function c0(fa,e9){if(!fa){return cc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}return cc(this._monthsShort)?this._monthsShort[fa.month()]:this._monthsShort[dN.test(e9)?"format":"standalone"][fa.month()]}function bW(fe,e9,ff){var fa,fb,fd,fc=fe.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(fa=0;fa<12;++fa){fd=ax([2000,fa]);this._shortMonthsParse[fa]=this.monthsShort(fd,"").toLocaleLowerCase();this._longMonthsParse[fa]=this.months(fd,"").toLocaleLowerCase()}}if(ff){if(e9==="MMM"){fb=b7.call(this._shortMonthsParse,fc);return fb!==-1?fb:null}else{fb=b7.call(this._longMonthsParse,fc);return fb!==-1?fb:null}}else{if(e9==="MMM"){fb=b7.call(this._shortMonthsParse,fc);if(fb!==-1){return fb}fb=b7.call(this._longMonthsParse,fc);return fb!==-1?fb:null}else{fb=b7.call(this._longMonthsParse,fc);if(fb!==-1){return fb}fb=b7.call(this._shortMonthsParse,fc);return fb!==-1?fb:null}}}function cZ(fc,e9,fe){var fa,fb,fd;if(this._monthsParseExact){return bW.call(this,fc,e9,fe)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(fa=0;fa<12;fa++){fb=ax([2000,fa]);if(fe&&!this._longMonthsParse[fa]){this._longMonthsParse[fa]=new RegExp("^"+this.months(fb,"").replace(".","")+"$","i");this._shortMonthsParse[fa]=new RegExp("^"+this.monthsShort(fb,"").replace(".","")+"$","i")}if(!fe&&!this._monthsParse[fa]){fd="^"+this.months(fb,"")+"|^"+this.monthsShort(fb,"");this._monthsParse[fa]=new RegExp(fd.replace(".",""),"i")}if(fe&&e9==="MMMM"&&this._longMonthsParse[fa].test(fc)){return fa}else{if(fe&&e9==="MMM"&&this._shortMonthsParse[fa].test(fc)){return fa}else{if(!fe&&this._monthsParse[fa].test(fc)){return fa}}}}}function eq(fa,fb){var e9;if(!fa.isValid()){return fa}if(typeof fb==="string"){if(/^\d+$/.test(fb)){fb=eH(fb)}else{fb=fa.localeData().monthsParse(fb);if(!co(fb)){return fa}}}e9=Math.min(fa.date(),aF(fa.year(),fb));fa._d["set"+(fa._isUTC?"UTC":"")+"Month"](fb,e9);return fa}function bH(e9){if(e9!=null){eq(this,e9);b2.updateOffset(this,true);return this}else{return bk(this,"Month")}}function bp(){return aF(this.year(),this.month())}var aU=dw;function dP(e9){if(this._monthsParseExact){if(!bZ(this,"_monthsRegex")){ab.call(this)}if(e9){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!bZ(this,"_monthsShortRegex")){this._monthsShortRegex=aU}return this._monthsShortStrictRegex&&e9?this._monthsShortStrictRegex:this._monthsShortRegex}}var aT=dw;function dO(e9){if(this._monthsParseExact){if(!bZ(this,"_monthsRegex")){ab.call(this)}if(e9){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!bZ(this,"_monthsRegex")){this._monthsRegex=aT}return this._monthsStrictRegex&&e9?this._monthsStrictRegex:this._monthsRegex}}function ab(){function e9(ff,fg){return fg.length-ff.length}var fe=[],fb=[],fc=[],fa,fd;for(fa=0;fa<12;fa++){fd=ax([2000,fa]);fe.push(this.monthsShort(fd,""));fb.push(this.months(fd,""));fc.push(this.months(fd,""));fc.push(this.monthsShort(fd,""))}fe.sort(e9);fb.sort(e9);fc.sort(e9);for(fa=0;fa<12;fa++){fe[fa]=eg(fe[fa]);fb[fa]=eg(fb[fa])}for(fa=0;fa<24;fa++){fc[fa]=eg(fc[fa])}this._monthsRegex=new RegExp("^("+fc.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+fb.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+fe.join("|")+")","i")}m("Y",0,0,function(){var e9=this.year();return e9<=9999?""+e9:"+"+e9});m(0,["YY",2],0,function(){return this.year()%100});m(0,["YYYY",4],0,"year");m(0,["YYYYY",5],0,"year");m(0,["YYYYYY",6,true],0,"year");y("year","y");z("year",1);o("Y",dt);o("YY",df,dj);o("YYYY",dh,dm);o("YYYYY",di,dp);o("YYYYYY",di,dp);n(["YYYYY","YYYYYY"],e6);n("YYYY",function(fa,e9){e9[e6]=fa.length===2?b2.parseTwoDigitYear(fa):eH(fa)});n("YY",function(fa,e9){e9[e6]=b2.parseTwoDigitYear(fa)});n("Y",function(fa,e9){e9[e6]=parseInt(fa,10)});function aG(e9){return cl(e9)?366:365}function cl(e9){return(e9%4===0&&e9%100!==0)||e9%400===0}b2.parseTwoDigitYear=function(e9){return eH(e9)+(eH(e9)>68?1900:2000)};var bQ=db("FullYear",true);function bq(){return cl(this.year())}function an(fg,fc,e9,fb,fd,ff,fe){var fa=new Date(fg,fc,e9,fb,fd,ff,fe);if(fg<100&&fg>=0&&isFinite(fa.getFullYear())){fa.setFullYear(fg)}return fa}function ay(fa){var e9=new Date(Date.UTC.apply(null,arguments));if(fa<100&&fa>=0&&isFinite(e9.getUTCFullYear())){e9.setUTCFullYear(fa)}return e9}function bc(fd,e9,fa){var fb=7+e9-fa,fc=(7+ay(fd,0,fb).getUTCDay()-e9)%7;return -fc+fb-1}function aD(fi,ff,fg,fa,fb){var fc=(7+fg-fa)%7,fh=bc(fi,fa,fb),e9=1+7*(ff-1)+fc+fh,fe,fd;if(e9<=0){fe=fi-1;fd=aG(fe)+e9}else{if(e9>aG(fi)){fe=fi+1;fd=e9-aG(fi)}else{fe=fi;fd=e9}}return{year:fe,dayOfYear:fd}}function e3(fb,e9,fa){var ff=bc(fb.year(),e9,fa),fe=Math.floor((fb.dayOfYear()-ff-1)/7)+1,fc,fd;if(fe<1){fd=fb.year()-1;fc=fe+e5(fd,e9,fa)}else{if(fe>e5(fb.year(),e9,fa)){fc=fe-e5(fb.year(),e9,fa);fd=fb.year()+1}else{fd=fb.year();fc=fe}}return{week:fc,year:fd}}function e5(fd,e9,fa){var fb=bc(fd,e9,fa),fc=bc(fd+1,e9,fa);return(aG(fd)-fb+fc)/7}m("w",["ww",2],"wo","week");m("W",["WW",2],"Wo","isoWeek");y("week","w");y("isoWeek","W");z("week",5);z("isoWeek",5);o("w",df);o("ww",df,dj);o("W",df);o("WW",df,dj);A(["w","ww","W","WW"],function(fa,fc,e9,fb){fc[fb.substr(0,1)]=eH(fa)});function c2(e9){return e3(e9,this._week.dow,this._week.doy).week}var aO={dow:0,doy:6};function cU(){return this._week.dow}function cV(){return this._week.doy}function bN(e9){var fa=this.localeData().week(this);return e9==null?fa:this.add((e9-fa)*7,"d")}function bC(e9){var fa=e3(this,1,4).week;return e9==null?fa:this.add((e9-fa)*7,"d")}m("d",0,"do","day");m("dd",0,0,function(e9){return this.localeData().weekdaysMin(this,e9)});m("ddd",0,0,function(e9){return this.localeData().weekdaysShort(this,e9)});m("dddd",0,0,function(e9){return this.localeData().weekdays(this,e9)});m("e",0,0,"weekday");m("E",0,0,"isoWeekday");y("day","d");y("weekday","e");y("isoWeekday","E");z("day",11);z("weekday",11);z("isoWeekday",11);o("d",df);o("e",df);o("E",df);o("dd",function(e9,fa){return fa.weekdaysMinRegex(e9)});o("ddd",function(e9,fa){return fa.weekdaysShortRegex(e9)});o("dddd",function(e9,fa){return fa.weekdaysRegex(e9)});A(["dd","ddd","dddd"],function(fa,fc,e9,fb){var fd=e9._locale.weekdaysParse(fa,fb,e9._strict);if(fd!=null){fc.d=fd}else{bu(e9).invalidWeekday=fa}});A(["d","e","E"],function(fa,fc,e9,fb){fc[fb]=eH(fa)});function d2(e9,fa){if(typeof e9!=="string"){return e9}if(!isNaN(e9)){return parseInt(e9,10)}e9=fa.weekdaysParse(e9);if(typeof e9==="number"){return e9}return null}function d0(e9,fa){if(typeof e9==="string"){return fa.weekdaysParse(e9)%7||7}return isNaN(e9)?null:e9}var aP="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function c3(fa,e9){if(!fa){return cc(this._weekdays)?this._weekdays:this._weekdays.standalone}return cc(this._weekdays)?this._weekdays[fa.day()]:this._weekdays[this._weekdays.isFormat.test(e9)?"format":"standalone"][fa.day()]}var aR="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function c6(e9){return(e9)?this._weekdaysShort[e9.day()]:this._weekdaysShort}var aQ="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function c4(e9){return(e9)?this._weekdaysMin[e9.day()]:this._weekdaysMin}function bX(ff,e9,fe){var fa,fb,fd,fc=ff.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(fa=0;fa<7;++fa){fd=ax([2000,1]).day(fa);this._minWeekdaysParse[fa]=this.weekdaysMin(fd,"").toLocaleLowerCase();this._shortWeekdaysParse[fa]=this.weekdaysShort(fd,"").toLocaleLowerCase();this._weekdaysParse[fa]=this.weekdays(fd,"").toLocaleLowerCase()}}if(fe){if(e9==="dddd"){fb=b7.call(this._weekdaysParse,fc);return fb!==-1?fb:null}else{if(e9==="ddd"){fb=b7.call(this._shortWeekdaysParse,fc);return fb!==-1?fb:null}else{fb=b7.call(this._minWeekdaysParse,fc);return fb!==-1?fb:null}}}else{if(e9==="dddd"){fb=b7.call(this._weekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._shortWeekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._minWeekdaysParse,fc);return fb!==-1?fb:null}else{if(e9==="ddd"){fb=b7.call(this._shortWeekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._weekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._minWeekdaysParse,fc);return fb!==-1?fb:null}else{fb=b7.call(this._minWeekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._weekdaysParse,fc);if(fb!==-1){return fb}fb=b7.call(this._shortWeekdaysParse,fc);return fb!==-1?fb:null}}}}function c5(fe,e9,fd){var fa,fb,fc;if(this._weekdaysParseExact){return bX.call(this,fe,e9,fd)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(fa=0;fa<7;fa++){fb=ax([2000,1]).day(fa);if(fd&&!this._fullWeekdaysParse[fa]){this._fullWeekdaysParse[fa]=new RegExp("^"+this.weekdays(fb,"").replace(".",".?")+"$","i");this._shortWeekdaysParse[fa]=new RegExp("^"+this.weekdaysShort(fb,"").replace(".",".?")+"$","i");this._minWeekdaysParse[fa]=new RegExp("^"+this.weekdaysMin(fb,"").replace(".",".?")+"$","i")}if(!this._weekdaysParse[fa]){fc="^"+this.weekdays(fb,"")+"|^"+this.weekdaysShort(fb,"")+"|^"+this.weekdaysMin(fb,"");this._weekdaysParse[fa]=new RegExp(fc.replace(".",""),"i")}if(fd&&e9==="dddd"&&this._fullWeekdaysParse[fa].test(fe)){return fa}else{if(fd&&e9==="ddd"&&this._shortWeekdaysParse[fa].test(fe)){return fa}else{if(fd&&e9==="dd"&&this._minWeekdaysParse[fa].test(fe)){return fa}else{if(!fd&&this._weekdaysParse[fa].test(fe)){return fa}}}}}}function bx(fa){if(!this.isValid()){return fa!=null?this:NaN}var e9=this._isUTC?this._d.getUTCDay():this._d.getDay();if(fa!=null){fa=d2(fa,this.localeData());return this.add(fa-e9,"d")}else{return e9}}function bE(e9){if(!this.isValid()){return e9!=null?this:NaN}var fa=(this.day()+7-this.localeData()._week.dow)%7;return e9==null?fa:this.add(e9-fa,"d")}function bB(e9){if(!this.isValid()){return e9!=null?this:NaN}if(e9!=null){var fa=d0(e9,this.localeData());return this.day(this.day()%7?fa:fa-7)}else{return this.day()||7}}var a0=dw;function e1(e9){if(this._weekdaysParseExact){if(!bZ(this,"_weekdaysRegex")){ac.call(this)}if(e9){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!bZ(this,"_weekdaysRegex")){this._weekdaysRegex=a0}return this._weekdaysStrictRegex&&e9?this._weekdaysStrictRegex:this._weekdaysRegex}}var a1=dw;function e2(e9){if(this._weekdaysParseExact){if(!bZ(this,"_weekdaysRegex")){ac.call(this)}if(e9){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!bZ(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=a1}return this._weekdaysShortStrictRegex&&e9?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var aZ=dw;function e0(e9){if(this._weekdaysParseExact){if(!bZ(this,"_weekdaysRegex")){ac.call(this)}if(e9){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!bZ(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=aZ}return this._weekdaysMinStrictRegex&&e9?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function ac(){function e9(fj,fk){return fk.length-fj.length}var fe=[],fi=[],fc=[],ff=[],fa,fg,fd,fh,fb;for(fa=0;fa<7;fa++){fg=ax([2000,1]).day(fa);fd=this.weekdaysMin(fg,"");fh=this.weekdaysShort(fg,"");fb=this.weekdays(fg,"");fe.push(fd);fi.push(fh);fc.push(fb);ff.push(fd);ff.push(fh);ff.push(fb)}fe.sort(e9);fi.sort(e9);fc.sort(e9);ff.sort(e9);for(fa=0;fa<7;fa++){fi[fa]=eg(fi[fa]);fc[fa]=eg(fc[fa]);ff[fa]=eg(ff[fa])}this._weekdaysRegex=new RegExp("^("+ff.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+fc.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+fi.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+fe.join("|")+")","i")}function b0(){return this.hours()%12||12}function cF(){return this.hours()||24}m("H",["HH",2],0,"hour");m("h",["hh",2],0,b0);m("k",["kk",2],0,cF);m("hmm",0,0,function(){return""+b0.apply(this)+e8(this.minutes(),2)});m("hmmss",0,0,function(){return""+b0.apply(this)+e8(this.minutes(),2)+e8(this.seconds(),2)});m("Hmm",0,0,function(){return""+this.hours()+e8(this.minutes(),2)});m("Hmmss",0,0,function(){return""+this.hours()+e8(this.minutes(),2)+e8(this.seconds(),2)});function dA(fa,e9){m(fa,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e9)})}dA("a",true);dA("A",false);y("hour","h");z("hour",13);function dq(e9,fa){return fa._meridiemParse}o("a",dq);o("A",dq);o("H",df);o("h",df);o("k",df);o("HH",df,dj);o("hh",df,dj);o("kk",df,dj);o("hmm",dl);o("hmmss",dn);o("Hmm",dl);o("Hmmss",dn);n(["H","HH"],b3);n(["k","kk"],function(fb,e9,fa){var fc=eH(fb);e9[b3]=fc===24?0:fc});n(["a","A"],function(fb,e9,fa){fa._isPm=fa._locale.isPM(fb);fa._meridiem=fb});n(["h","hh"],function(fb,e9,fa){e9[b3]=eH(fb);bu(fa).bigHour=true});n("hmm",function(fb,e9,fa){var fc=fb.length-2;e9[b3]=eH(fb.substr(0,fc));e9[dF]=eH(fb.substr(fc));bu(fa).bigHour=true});n("hmmss",function(fb,e9,fa){var fc=fb.length-4;var fd=fb.length-2;e9[b3]=eH(fb.substr(0,fc));e9[dF]=eH(fb.substr(fc,2));e9[el]=eH(fb.substr(fd));bu(fa).bigHour=true});n("Hmm",function(fb,e9,fa){var fc=fb.length-2;e9[b3]=eH(fb.substr(0,fc));e9[dF]=eH(fb.substr(fc))});n("Hmmss",function(fb,e9,fa){var fc=fb.length-4;var fd=fb.length-2;e9[b3]=eH(fb.substr(0,fc));e9[dF]=eH(fb.substr(fc,2));e9[el]=eH(fb.substr(fd))});function cW(e9){return((e9+"").toLowerCase().charAt(0)==="p")}var aL=/[ap]\.?m?\.?/i;function cX(e9,fb,fa){if(e9>11){return fa?"pm":"PM"}else{return fa?"am":"AM"}}var bA=db("Hours",true);var P={calendar:aI,longDateFormat:aS,invalidDate:aK,ordinal:aV,dayOfMonthOrdinalParse:aJ,relativeTime:aX,months:aM,monthsShort:aN,week:aO,weekdays:aP,weekdaysMin:aQ,weekdaysShort:aR,meridiemParse:aL};var c1={};var cT={};var bV;function dR(e9){return e9?e9.toLowerCase().replace("_","-"):e9}function W(fc){var e9=0,fa,fd,fb,fe;while(e9<fc.length){fe=dR(fc[e9]).split("-");fa=fe.length;fd=dR(fc[e9+1]);fd=fd?fd.split("-"):null;while(fa>0){fb=cP(fe.slice(0,fa).join("-"));if(fb){return fb}if(fd&&fd.length>=fa&&aa(fe,fd,true)>=fa-1){break}fa--}e9++}return null}function cP(fa){var fb=null;if(!c1[fa]&&(typeof module!=="undefined")&&module&&module.exports){try{fb=bV._abbr;require("./locale/"+fa);bz(fb)}catch(e9){}}return c1[fa]}function bz(fa,fb){var e9;if(fa){if(cx(fb)){e9=bs(fa)}else{e9=a2(fa,fb)}if(e9){bV=e9}}return bV._abbr}function a2(fa,e9){if(e9!==null){var fb=P;e9.abbr=fa;if(c1[fa]!=null){a4("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");fb=c1[fa]._config}else{if(e9.parentLocale!=null){if(c1[e9.parentLocale]!=null){fb=c1[e9.parentLocale]._config}else{if(!cT[e9.parentLocale]){cT[e9.parentLocale]=[]}cT[e9.parentLocale].push({name:fa,config:e9});return null}}}c1[fa]=new cR(dz(fb,e9));if(cT[fa]){cT[fa].forEach(function(fc){a2(fc.name,fc.config)})}bz(fa);return c1[fa]}else{delete c1[fa];return null}}function eU(fb,e9){if(e9!=null){var fa,fc=P;if(c1[fb]!=null){fc=c1[fb]._config}e9=dz(fc,e9);fa=new cR(e9);fa.parentLocale=c1[fb];c1[fb]=fa;bz(fb)}else{if(c1[fb]!=null){if(c1[fb].parentLocale!=null){c1[fb]=c1[fb].parentLocale}else{if(c1[fb]!=null){delete c1[fb]}}}}return c1[fb]}function bs(e9){var fa;if(e9&&e9._locale&&e9._locale._abbr){e9=e9._locale._abbr}if(!e9){return bV}if(!cc(e9)){fa=cP(e9);if(fa){return fa}e9=[e9]}return W(e9)}function cH(){return cE(c1)}function V(fa){var fb;var e9=fa._a;if(e9&&bu(fa).overflow===-2){fb=e9[dK]<0||e9[dK]>11?dK:e9[aB]<1||e9[aB]>aF(e9[e6],e9[dK])?aB:e9[b3]<0||e9[b3]>24||(e9[b3]===24&&(e9[dF]!==0||e9[el]!==0||e9[dC]!==0))?b3:e9[dF]<0||e9[dF]>59?dF:e9[el]<0||e9[el]>59?el:e9[dC]<0||e9[dC]>999?dC:-1;if(bu(fa)._overflowDayOfYear&&(fb<e6||fb>aB)){fb=aB}if(bu(fa)._overflowWeeks&&fb===-1){fb=eY}if(bu(fa)._overflowWeekday&&fb===-1){fb=eZ}bu(fa).overflow=fb}return fa}var bb=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var Q=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var eQ=/Z|[+-]\d\d(?::?\d\d)?/;var cr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]];var ct=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]];var K=/^\/?Date\((\-?\d+)/i;function af(fa){var fc,fd,ff=fa._i,fe=bb.exec(ff)||Q.exec(ff),e9,fb,fg,fh;if(fe){bu(fa).iso=true;for(fc=0,fd=cr.length;fc<fd;fc++){if(cr[fc][1].exec(fe[1])){fb=cr[fc][0];e9=cr[fc][2]!==false;break}}if(fb==null){fa._isValid=false;return}if(fe[3]){for(fc=0,fd=ct.length;fc<fd;fc++){if(ct[fc][1].exec(fe[3])){fg=(fe[2]||" ")+ct[fc][0];break}}if(fg==null){fa._isValid=false;return}}if(!e9&&fg!=null){fa._isValid=false;return}if(fe[4]){if(eQ.exec(fe[4])){fh="Z"}else{fa._isValid=false;return}}fa._f=fb+(fg||"")+(fh||"");ak(fa)}else{fa._isValid=false}}var R=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function ah(e9){var fg,fc,fb,fa,fh,fl;var fk={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};var fd="YXWVUTSRQPONZABCDEFGHIKLM";var fi,fj;fg=e9._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,"");fc=R.exec(fg);if(fc){fb=fc[1]?"ddd"+((fc[1].length===5)?", ":" "):"";fa="D MMM "+((fc[2].length>10)?"YYYY ":"YY ");fh="HH:mm"+(fc[4]?":ss":"");if(fc[1]){var fe=new Date(fc[2]);var ff=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][fe.getDay()];if(fc[1].substr(0,3)!==ff){bu(e9).weekdayMismatch=true;e9._isValid=false;return}}switch(fc[5].length){case 2:if(fj===0){fi=" +0000"}else{fj=fd.indexOf(fc[5][1].toUpperCase())-12;fi=((fj<0)?" -":" +")+((""+fj).replace(/^-?/,"0")).match(/..$/)[0]+"00"}break;case 4:fi=fk[fc[5]];break;default:fi=fk[" GMT"]}fc[5]=fi;e9._i=fc.splice(1).join("");fl=" ZZ";e9._f=fb+fa+fh+fl;ak(e9);bu(e9).rfc2822=true}else{e9._isValid=false}}function ai(e9){var fa=K.exec(e9._i);if(fa!==null){e9._d=new Date(+fa[1]);return}af(e9);if(e9._isValid===false){delete e9._isValid}else{return}ah(e9);if(e9._isValid===false){delete e9._isValid}else{return}b2.createFromInputFallback(e9)}b2.createFromInputFallback=a3("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e9){e9._d=new Date(e9._i+(e9._useUTC?" UTC":""))});function aY(e9,fa,fb){if(e9!=null){return e9}if(fa!=null){return fa}return fb}function aA(e9){var fa=new Date(b2.now());if(e9._useUTC){return[fa.getUTCFullYear(),fa.getUTCMonth(),fa.getUTCDate()]}return[fa.getFullYear(),fa.getMonth(),fa.getDate()]}function ad(e9){var fc,fb,fd=[],fa,fe;if(e9._d){return}fa=aA(e9);if(e9._w&&e9._a[aB]==null&&e9._a[dK]==null){aC(e9)}if(e9._dayOfYear!=null){fe=aY(e9._a[e6],fa[e6]);if(e9._dayOfYear>aG(fe)||e9._dayOfYear===0){bu(e9)._overflowDayOfYear=true}fb=ay(fe,0,e9._dayOfYear);e9._a[dK]=fb.getUTCMonth();e9._a[aB]=fb.getUTCDate()}for(fc=0;fc<3&&e9._a[fc]==null;++fc){e9._a[fc]=fd[fc]=fa[fc]}for(;fc<7;fc++){e9._a[fc]=fd[fc]=(e9._a[fc]==null)?(fc===2?1:0):e9._a[fc]}if(e9._a[b3]===24&&e9._a[dF]===0&&e9._a[el]===0&&e9._a[dC]===0){e9._nextDay=true;e9._a[b3]=0}e9._d=(e9._useUTC?ay:an).apply(null,fd);if(e9._tzm!=null){e9._d.setUTCMinutes(e9._d.getUTCMinutes()-e9._tzm)}if(e9._nextDay){e9._a[b3]=24}}function aC(e9){var fe,fi,ff,fg,fb,fc,fd,fh;fe=e9._w;if(fe.GG!=null||fe.W!=null||fe.E!=null){fb=1;fc=4;fi=aY(fe.GG,e9._a[e6],e3(au(),1,4).year);ff=aY(fe.W,1);fg=aY(fe.E,1);if(fg<1||fg>7){fh=true}}else{fb=e9._locale._week.dow;fc=e9._locale._week.doy;var fa=e3(au(),fb,fc);fi=aY(fe.gg,e9._a[e6],fa.year);ff=aY(fe.w,fa.week);if(fe.d!=null){fg=fe.d;if(fg<0||fg>6){fh=true}}else{if(fe.e!=null){fg=fe.e+fb;if(fe.e<0||fe.e>6){fh=true}}else{fg=fb}}}if(ff<1||ff>e5(fi,fb,fc)){bu(e9)._overflowWeeks=true}else{if(fh!=null){bu(e9)._overflowWeekday=true}else{fd=aD(fi,ff,fg,fb,fc);e9._a[e6]=fd.year;e9._dayOfYear=fd.dayOfYear}}}b2.ISO_8601=function(){};b2.RFC_2822=function(){};function ak(e9){if(e9._f===b2.ISO_8601){af(e9);return}if(e9._f===b2.RFC_2822){ah(e9);return}e9._a=[];bu(e9).empty=true;var fd=""+e9._i,fa,fb,fg,ff,fc,fe=fd.length,fh=0;fg=a9(e9._f,e9._locale).match(bg)||[];for(fa=0;fa<fg.length;fa++){ff=fg[fa];fb=(fd.match(bt(ff,e9))||[])[0];if(fb){fc=fd.substr(0,fd.indexOf(fb));if(fc.length>0){bu(e9).unusedInput.push(fc)}fd=fd.slice(fd.indexOf(fb)+fb.length);fh+=fb.length}if(bh[ff]){if(fb){bu(e9).empty=false}else{bu(e9).unusedTokens.push(ff)}x(ff,fb,e9)}else{if(e9._strict&&!fb){bu(e9).unusedTokens.push(ff)}}}bu(e9).charsLeftOver=fe-fh;if(fd.length>0){bu(e9).unusedInput.push(fd)}if(e9._a[b3]<=12&&bu(e9).bigHour===true&&e9._a[b3]>0){bu(e9).bigHour=undefined}bu(e9).parsedDateParts=e9._a.slice(0);bu(e9).meridiem=e9._meridiem;e9._a[b3]=dB(e9._locale,e9._a[b3],e9._meridiem);ad(e9);V(e9)}function dB(fb,e9,fc){var fa;if(fc==null){return e9}if(fb.meridiemHour!=null){return fb.meridiemHour(e9,fc)}else{if(fb.isPM!=null){fa=fb.isPM(fc);if(fa&&e9<12){e9+=12}if(!fa&&e9===12){e9=0}return e9}else{return e9}}}function aj(fa){var fe,e9,fd,fc,fb;if(fa._f.length===0){bu(fa).invalidFormat=true;fa._d=new Date(NaN);return}for(fc=0;fc<fa._f.length;fc++){fb=0;fe=al({},fa);if(fa._useUTC!=null){fe._useUTC=fa._useUTC}fe._f=fa._f[fc];ak(fe);if(!cA(fe)){continue}fb+=bu(fe).charsLeftOver;fb+=bu(fe).unusedTokens.length*10;bu(fe).score=fb;if(fd==null||fb<fd){fd=fb;e9=fe}}ba(fa,e9||fe)}function ag(e9){if(e9._d){return}var fa=dS(e9._i);e9._a=dd([fa.year,fa.month,fa.day||fa.date,fa.hour,fa.minute,fa.second,fa.millisecond],function(fb){return fb&&parseInt(fb,10)});ad(e9)}function ap(e9){var fa=new dH(V(d7(e9)));if(fa._nextDay){fa.add(1,"d");fa._nextDay=undefined}return fa}function d7(e9){var fb=e9._i,fa=e9._f;e9._locale=e9._locale||bs(e9._l);if(fb===null||(fa===undefined&&fb==="")){return aq({nullInput:true})}if(typeof fb==="string"){e9._i=fb=e9._locale.preparse(fb)}if(cn(fb)){return new dH(V(fb))}else{if(cf(fb)){e9._d=fb}else{if(cc(fa)){aj(e9)}else{if(fa){ak(e9)}else{ae(e9)}}}}if(!cA(e9)){e9._d=null}return e9}function ae(e9){var fa=e9._i;if(cx(fa)){e9._d=new Date(b2.now())}else{if(cf(fa)){e9._d=new Date(fa.valueOf())}else{if(typeof fa==="string"){ai(e9)}else{if(cc(fa)){e9._a=dd(fa.slice(0),function(fb){return parseInt(fb,10)});ad(e9)}else{if(cp(fa)){ag(e9)}else{if(co(fa)){e9._d=new Date(fa)}else{b2.createFromInputFallback(e9)}}}}}}}function av(fb,fa,fd,fe,fc){var e9={};if(fd===true||fd===false){fe=fd;fd=undefined}if((cp(fb)&&cq(fb))||(cc(fb)&&fb.length===0)){fb=undefined}e9._isAMomentObject=true;e9._useUTC=e9._isUTC=fc;e9._l=fd;e9._i=fb;e9._f=fa;e9._strict=fe;return ap(e9)}function au(fa,e9,fb,fc){return av(fa,e9,fb,fc,false)}var ee=a3("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e9=au.apply(null,arguments);if(this.isValid()&&e9.isValid()){return e9<this?this:e9}else{return aq()}});var ed=a3("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e9=au.apply(null,arguments);if(this.isValid()&&e9.isValid()){return e9>this?this:e9}else{return aq()}});function d5(e9,fb){var fc,fa;if(fb.length===1&&cc(fb[0])){fb=fb[0]}if(!fb.length){return au()}fc=fb[0];for(fa=1;fa<fb.length;++fa){if(!fb[fa].isValid()||fb[fa][e9](fc)){fc=fb[fa]}}return fc}function dE(){var e9=[].slice.call(arguments,0);return d5("isBefore",e9)}function dy(){var e9=[].slice.call(arguments,0);return d5("isAfter",e9)}var dU=function(){return Date.now?Date.now():+(new Date())};var dX=["year","quarter","month","week","day","hour","minute","second","millisecond"];function cj(fb){for(var fa in fb){if(!(dX.indexOf(fa)!==-1&&(fb[fa]==null||!isNaN(fb[fa])))){return false}}var fc=false;for(var e9=0;e9<dX.length;++e9){if(fb[dX[e9]]){if(fc){return false}if(parseFloat(fb[dX[e9]])!==eH(fb[dX[e9]])){fc=true}}}return true}function cB(){return this._isValid}function ar(){return ao(NaN)}function a7(fa){var ff=dS(fa),fj=ff.year||0,fg=ff.quarter||0,fe=ff.month||0,fi=ff.week||0,e9=ff.day||0,fb=ff.hour||0,fd=ff.minute||0,fh=ff.second||0,fc=ff.millisecond||0;this._isValid=cj(ff);this._milliseconds=+fc+fh*1000+fd*60000+fb*1000*60*60;this._days=+e9+fi*7;this._months=+fe+fg*3+fj*12;this._data={};this._locale=bs();this._bubble()}function ci(e9){return e9 instanceof a7}function g(e9){if(e9<0){return Math.round(-1*e9)*-1}else{return Math.round(e9)}}function dV(fa,e9){m(fa,0,0,function(){var fb=this.utcOffset();var fc="+";if(fb<0){fb=-fb;fc="-"}return fc+e8(~~(fb/60),2)+e9+e8(~~(fb)%60,2)})}dV("Z",":");dV("ZZ","");o("Z",ds);o("ZZ",ds);n(["Z","ZZ"],function(fb,e9,fa){fa._useUTC=true;fa._tzm=dW(ds,fb)});var X=/([\+\-]|\d\d)/gi;function dW(fa,fe){var fb=(fe||"").match(fa);if(fb===null){return null}var e9=fb[fb.length-1]||[];var fd=(e9+"").match(X)||["-",0,0];var fc=+(fd[1]*60)+eH(fd[2]);return fc===0?0:fd[0]==="+"?fc:-fc}function Z(fa,fb){var fc,e9;if(fb._isUTC){fc=fb.clone();e9=(cn(fa)||cf(fa)?fa.valueOf():au(fa).valueOf())-fc.valueOf();fc._d.setTime(fc._d.valueOf()+e9);b2.updateOffset(fc,false);return fc}else{return au(fa).local()}}function bo(e9){return -Math.round(e9._d.getTimezoneOffset()/15)*15}b2.updateOffset=function(){};function bI(e9,fa,fb){var fd=this._offset||0,fc;if(!this.isValid()){return e9!=null?this:NaN}if(e9!=null){if(typeof e9==="string"){e9=dW(ds,e9);if(e9===null){return this}}else{if(Math.abs(e9)<16&&!fb){e9=e9*60}}if(!this._isUTC&&fa){fc=bo(this)}this._offset=e9;this._isUTC=true;if(fc!=null){this.add(fc,"m")}if(fd!==e9){if(!fa||this._changeInProgress){u(this,ao(e9-fd,"m"),1,false)}else{if(!this._changeInProgress){this._changeInProgress=true;b2.updateOffset(this,true);this._changeInProgress=null}}}return this}else{return this._isUTC?fd:bo(this)}}function bR(e9,fa){if(e9!=null){if(typeof e9!=="string"){e9=-e9}this.utcOffset(e9,fa);return this}else{return -this.utcOffset()}}function et(e9){return this.utcOffset(0,e9)}function er(e9){if(this._isUTC){this.utcOffset(0,e9);this._isUTC=false;if(e9){this.subtract(bo(this),"m")}}return this}function es(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else{if(typeof this._i==="string"){var e9=dW(dr,this._i);if(e9!=null){this.utcOffset(e9)}else{this.utcOffset(0,true)}}}return this}function bY(e9){if(!this.isValid()){return false}e9=e9?au(e9).utcOffset():0;return(this.utcOffset()-e9)%60===0}function cg(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())}function ch(){if(!cx(this._isDSTShifted)){return this._isDSTShifted}var e9={};al(e9,this);e9=d7(e9);if(e9._a){var fa=e9._isUTC?ax(e9._a):au(e9._a);this._isDSTShifted=this.isValid()&&aa(e9._a,fa.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function cm(){return this.isValid()?!this._isUTC:false}function cz(){return this.isValid()?this._isUTC:false}function cy(){return this.isValid()?this._isUTC&&this._offset===0:false}var L=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;var cs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function ao(fb,fc){var fa=fb,fd=null,ff,fe,e9;if(ci(fb)){fa={ms:fb._milliseconds,d:fb._days,M:fb._months}}else{if(co(fb)){fa={};if(fc){fa[fc]=fb}else{fa.milliseconds=fb}}else{if(!!(fd=L.exec(fb))){ff=(fd[1]==="-")?-1:1;fa={y:0,d:eH(fd[aB])*ff,h:eH(fd[b3])*ff,m:eH(fd[dF])*ff,s:eH(fd[el])*ff,ms:eH(g(fd[dC]*1000))*ff}}else{if(!!(fd=cs.exec(fb))){ff=(fd[1]==="-")?-1:1;fa={y:dZ(fd[2],ff),M:dZ(fd[3],ff),w:dZ(fd[4],ff),d:dZ(fd[5],ff),h:dZ(fd[6],ff),m:dZ(fd[7],ff),s:dZ(fd[8],ff)}}else{if(fa==null){fa={}}else{if(typeof fa==="object"&&("from" in fa||"to" in fa)){e9=dJ(au(fa.from),au(fa.to));fa={};fa.ms=e9.milliseconds;fa.M=e9.months}}}}}}fe=new a7(fa);if(ci(fb)&&bZ(fb,"_locale")){fe._locale=fb._locale}return fe}ao.fn=a7.prototype;ao.invalid=ar;function dZ(e9,fb){var fa=e9&&parseFloat(e9.replace(",","."));return(isNaN(fa)?0:fa)*fb}function d6(e9,fa){var fb={milliseconds:0,months:0};fb.months=fa.month()-e9.month()+(fa.year()-e9.year())*12;if(e9.clone().add(fb.months,"M").isAfter(fa)){--fb.months}fb.milliseconds=+fa-+(e9.clone().add(fb.months,"M"));return fb}function dJ(e9,fa){var fb;if(!(e9.isValid()&&fa.isValid())){return{milliseconds:0,months:0}}fa=Z(fa,e9);if(e9.isBefore(fa)){fb=d6(e9,fa)}else{fb=d6(fa,e9);fb.milliseconds=-fb.milliseconds;fb.months=-fb.months}return fb}function am(e9,fa){return function(fe,fc){var fb,fd;if(fc!==null&&!isNaN(+fc)){a4(fa,"moment()."+fa+"(period, number) is deprecated. Please use moment()."+fa+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");fd=fe;fe=fc;fc=fd}fe=typeof fe==="string"?+fe:fe;fb=ao(fe,fc);u(this,fb,e9);return this}}function u(fd,fa,fb,ff){var fc=fa._milliseconds,e9=g(fa._days),fe=g(fa._months);if(!fd.isValid()){return}ff=ff==null?true:ff;if(fc){fd._d.setTime(fd._d.valueOf()+fc*fb)}if(e9){eo(fd,"Date",bk(fd,"Date")+e9*fb)}if(fe){eq(fd,bk(fd,"Month")+fe*fb)}if(ff){b2.updateOffset(fd,e9||fe)}}var j=am(1,"add");var eB=am(-1,"subtract");function bn(fa,fb){var e9=fa.diff(fb,"days",true);return e9<-6?"sameElse":e9<-1?"lastWeek":e9<0?"lastDay":e9<1?"sameDay":e9<2?"nextDay":e9<7?"nextWeek":"sameElse"}function U(fe,fa){var fb=fe||au(),fd=Z(fb,this).startOf("day"),e9=b2.calendarFormat(this,fd)||"sameElse";var fc=fa&&(ck(fa[e9])?fa[e9].call(this,fb):fa[e9]);return this.format(fc||this.localeData().calendar(e9,this,au(fb)))}function Y(){return new dH(this)}function cb(e9,fb){var fa=cn(e9)?e9:au(e9);if(!(this.isValid()&&fa.isValid())){return false}fb=dT(!cx(fb)?fb:"millisecond");if(fb==="millisecond"){return this.valueOf()>fa.valueOf()}else{return fa.valueOf()<this.clone().startOf(fb).valueOf()}}function cd(e9,fb){var fa=cn(e9)?e9:au(e9);if(!(this.isValid()&&fa.isValid())){return false}fb=dT(!cx(fb)?fb:"millisecond");if(fb==="millisecond"){return this.valueOf()<fa.valueOf()}else{return this.clone().endOf(fb).valueOf()<fa.valueOf()}}function ce(e9,fb,fc,fa){fa=fa||"()";return(fa[0]==="("?this.isAfter(e9,fc):!this.isBefore(e9,fc))&&(fa[1]===")"?this.isBefore(fb,fc):!this.isAfter(fb,fc))}function cu(e9,fc){var fb=cn(e9)?e9:au(e9),fa;if(!(this.isValid()&&fb.isValid())){return false}fc=dT(fc||"millisecond");if(fc==="millisecond"){return this.valueOf()===fb.valueOf()}else{fa=fb.valueOf();return this.clone().startOf(fc).valueOf()<=fa&&fa<=this.clone().endOf(fc).valueOf()}}function cv(e9,fa){return this.isSame(e9,fa)||this.isAfter(e9,fa)}function cw(e9,fa){return this.isSame(e9,fa)||this.isBefore(e9,fa)}function a6(fb,fe,e9){var fd,ff,fa,fc;if(!this.isValid()){return NaN}fd=Z(fb,this);if(!fd.isValid()){return NaN}ff=(fd.utcOffset()-this.utcOffset())*60000;fe=dT(fe);if(fe==="year"||fe==="month"||fe==="quarter"){fc=dL(this,fd);if(fe==="quarter"){fc=fc/3}else{if(fe==="year"){fc=fc/12}}}else{fa=this-fd;fc=fe==="second"?fa/1000:fe==="minute"?fa/60000:fe==="hour"?fa/3600000:fe==="day"?(fa-ff)/86400000:fe==="week"?(fa-ff)/604800000:fa}return e9?fc:d(fc)}function dL(e9,fd){var fe=((fd.year()-e9.year())*12)+(fd.month()-e9.month()),fb=e9.clone().add(fe,"months"),fc,fa;if(fd-fb<0){fc=e9.clone().add(fe-1,"months");fa=(fd-fb)/(fb-fc)}else{fc=e9.clone().add(fe+1,"months");fa=(fd-fb)/(fc-fb)}return -(fe+fa)||0}b2.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";b2.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function eP(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eI(){if(!this.isValid()){return null}var e9=this.clone().utc();if(e9.year()<0||e9.year()>9999){return bf(e9,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}if(ck(Date.prototype.toISOString)){return this.toDate().toISOString()}return bf(e9,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function b8(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var fa="moment";var fe="";if(!this.isLocal()){fa=this.utcOffset()===0?"moment.utc":"moment.parseZone";fe="Z"}var fb="["+fa+'("]';var fd=(0<=this.year()&&this.year()<=9999)?"YYYY":"YYYYYY";var e9="-MM-DD[T]HH:mm:ss.SSS";var fc=fe+'[")]';return this.format(fb+fd+e9+fc)}function bd(e9){if(!e9){e9=this.isUtc()?b2.defaultFormatUtc:b2.defaultFormat}var fa=bf(this,e9);return this.localeData().postformat(fa)}function bi(e9,fa){if(this.isValid()&&((cn(e9)&&e9.isValid())||au(e9).isValid())){return ao({to:this,from:e9}).locale(this.locale()).humanize(!fa)}else{return this.localeData().invalidDate()}}function bj(e9){return this.from(au(),e9)}function eE(e9,fa){if(this.isValid()&&((cn(e9)&&e9.isValid())||au(e9).isValid())){return ao({from:this,to:e9}).locale(this.locale()).humanize(!fa)}else{return this.localeData().invalidDate()}}function eN(e9){return this.to(au(),e9)}function cQ(e9){var fa;if(e9===undefined){return this._locale._abbr}else{fa=bs(e9);if(fa!=null){this._locale=fa}return this}}var cG=a3("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e9){if(e9===undefined){return this.localeData()}else{return this.locale(e9)}});function cS(){return this._locale}function ex(e9){e9=dT(e9);switch(e9){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(e9==="week"){this.weekday(0)}if(e9==="isoWeek"){this.isoWeekday(1)}if(e9==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function a8(e9){e9=dT(e9);if(e9===undefined||e9==="millisecond"){return this}if(e9==="date"){e9="day"}return this.startOf(e9).add(1,(e9==="isoWeek"?"week":e9)).subtract(1,"ms")}function eV(){return this._d.valueOf()-((this._offset||0)*60000)}function eS(){return Math.floor(this.valueOf()/1000)}function eG(){return new Date(this.valueOf())}function eF(){var e9=this;return[e9.year(),e9.month(),e9.date(),e9.hour(),e9.minute(),e9.second(),e9.millisecond()]}function eO(){var e9=this;return{years:e9.year(),months:e9.month(),date:e9.date(),hours:e9.hours(),minutes:e9.minutes(),seconds:e9.seconds(),milliseconds:e9.milliseconds()}}function eK(){return this.isValid()?this.toISOString():null}function cC(){return cA(this)}function d3(){return ba({},bu(this))}function b9(){return bu(this).overflow}function az(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}m(0,["gg",2],0,function(){return this.weekYear()%100});m(0,["GG",2],0,function(){return this.isoWeekYear()%100});function B(fa,e9){m(0,[fa,fa.length],0,e9)}B("gggg","weekYear");B("ggggg","weekYear");B("GGGG","isoWeekYear");B("GGGGG","isoWeekYear");y("weekYear","gg");y("isoWeekYear","GG");z("weekYear",1);z("isoWeekYear",1);o("G",dt);o("g",dt);o("GG",df,dj);o("gg",df,dj);o("GGGG",dh,dm);o("gggg",dh,dm);o("GGGGG",di,dp);o("ggggg",di,dp);A(["gggg","ggggg","GGGG","GGGGG"],function(fa,fc,e9,fb){fc[fb.substr(0,2)]=eH(fa)});A(["gg","GG"],function(fa,fc,e9,fb){fc[fb]=b2.parseTwoDigitYear(fa)});function bO(e9){return bP.call(this,e9,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function bD(e9){return bP.call(this,e9,this.isoWeek(),this.isoWeekday(),1,4)}function br(){return e5(this.year(),1,4)}function bS(){var e9=this.localeData()._week;return e5(this.year(),e9.dow,e9.doy)}function bP(fb,fc,fd,e9,fa){var fe;if(fb==null){return e3(this,e9,fa).year}else{fe=e5(fb,e9,fa);if(fc>fe){fc=fe}return eu.call(this,fb,fc,fd,e9,fa)}}function eu(ff,fd,fe,fb,fc){var fa=aD(ff,fd,fe,fb,fc),e9=ay(fa.year,0,fa.dayOfYear);this.year(e9.getUTCFullYear());this.month(e9.getUTCMonth());this.date(e9.getUTCDate());return this}m("Q",0,"Qo","quarter");y("quarter","Q");z("quarter",7);o("Q",de);n("Q",function(fa,e9){e9[dK]=(eH(fa)-1)*3});function bJ(e9){return e9==null?Math.ceil((this.month()+1)/3):this.month((e9-1)*3+this.month()%3)}m("D",["DD",2],"Do","date");y("date","D");z("date",9);o("D",df);o("DD",df,dj);o("Do",function(e9,fa){return e9?(fa._dayOfMonthOrdinalParse||fa._ordinalParse):fa._dayOfMonthOrdinalParseLenient});n(["D","DD"],aB);n("Do",function(fa,e9){e9[aB]=eH(fa.match(df)[0],10)});var bw=db("Date",true);m("DDD",["DDDD",3],"DDDo","dayOfYear");y("dayOfYear","DDD");z("dayOfYear",4);o("DDD",dg);o("DDDD",dk);n(["DDD","DDDD"],function(fb,e9,fa){fa._dayOfYear=eH(fb)});function by(fa){var e9=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return fa==null?e9:this.add((fa-e9),"d")}m("m",["mm",2],0,"minute");y("minute","m");z("minute",14);o("m",df);o("mm",df,dj);n(["m","mm"],dF);var bG=db("Minutes",false);m("s",["ss",2],0,"second");y("second","s");z("second",15);o("s",df);o("ss",df,dj);n(["s","ss"],el);var bM=db("Seconds",false);m("S",0,0,function(){return ~~(this.millisecond()/100)});m(0,["SS",2],0,function(){return ~~(this.millisecond()/10)});m(0,["SSS",3],0,"millisecond");m(0,["SSSS",4],0,function(){return this.millisecond()*10});m(0,["SSSSS",5],0,function(){return this.millisecond()*100});m(0,["SSSSSS",6],0,function(){return this.millisecond()*1000});m(0,["SSSSSSS",7],0,function(){return this.millisecond()*10000});m(0,["SSSSSSSS",8],0,function(){return this.millisecond()*100000});m(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1000000});y("millisecond","ms");z("millisecond",16);o("S",dg,de);o("SS",dg,dj);o("SSS",dg,dk);var eL;for(eL="SSSS";eL.length<=9;eL+="S"){o(eL,dv)}function d1(fa,e9){e9[dC]=eH(("0."+fa)*1000)}for(eL="S";eL.length<=9;eL+="S"){n(eL,d1)}var bF=db("Milliseconds",false);m("z",0,0,"zoneAbbr");m("zz",0,0,"zoneName");function bT(){return this._isUTC?"UTC":""}function bU(){return this._isUTC?"Coordinated Universal Time":""}var ea=dH.prototype;ea.add=j;ea.calendar=U;ea.clone=Y;ea.diff=a6;ea.endOf=a8;ea.format=bd;ea.from=bi;ea.fromNow=bj;ea.to=eE;ea.toNow=eN;ea.get=ey;ea.invalidAt=b9;ea.isAfter=cb;ea.isBefore=cd;ea.isBetween=ce;ea.isSame=cu;ea.isSameOrAfter=cv;ea.isSameOrBefore=cw;ea.isValid=cC;ea.lang=cG;ea.locale=cQ;ea.localeData=cS;ea.max=ed;ea.min=ee;ea.parsingFlags=d3;ea.set=ez;ea.startOf=ex;ea.subtract=eB;ea.toArray=eF;ea.toObject=eO;ea.toDate=eG;ea.toISOString=eI;ea.inspect=b8;ea.toJSON=eK;ea.toString=eP;ea.unix=eS;ea.valueOf=eV;ea.creationData=az;ea.year=bQ;ea.isLeapYear=bq;ea.weekYear=bO;ea.isoWeekYear=bD;ea.quarter=ea.quarters=bJ;ea.month=bH;ea.daysInMonth=bp;ea.week=ea.weeks=bN;ea.isoWeek=ea.isoWeeks=bC;ea.weeksInYear=bS;ea.isoWeeksInYear=br;ea.date=bw;ea.day=ea.days=bx;ea.weekday=bE;ea.isoWeekday=bB;ea.dayOfYear=by;ea.hour=ea.hours=bA;ea.minute=ea.minutes=bG;ea.second=ea.seconds=bM;ea.millisecond=ea.milliseconds=bF;ea.utcOffset=bI;ea.utc=et;ea.local=er;ea.parseZone=es;ea.hasAlignedHourOffset=bY;ea.isDST=cg;ea.isLocal=cm;ea.isUtcOffset=cz;ea.isUtc=cy;ea.isUTC=cy;ea.zoneAbbr=bT;ea.zoneName=bU;ea.dates=a3("dates accessor is deprecated. Use date instead.",bw);ea.months=a3("months accessor is deprecated. Use month instead",bH);ea.years=a3("years accessor is deprecated. Use year instead",bQ);ea.zone=a3("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",bR);ea.isDSTShifted=a3("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ch);function aw(e9){return au(e9*1000)}function at(){return au.apply(null,arguments).parseZone()}function d8(e9){return e9}var eb=cR.prototype;eb.calendar=T;eb.longDateFormat=c8;eb.invalidDate=ca;eb.ordinal=dY;eb.preparse=d8;eb.postformat=d8;eb.relativeTime=eh;eb.pastFuture=d4;eb.set=en;eb.months=cY;eb.monthsShort=c0;eb.monthsParse=cZ;eb.monthsRegex=dO;eb.monthsShortRegex=dP;eb.week=c2;eb.firstDayOfYear=cV;eb.firstDayOfWeek=cU;eb.weekdays=c3;eb.weekdaysMin=c4;eb.weekdaysShort=c6;eb.weekdaysParse=c5;eb.weekdaysRegex=e1;eb.weekdaysShortRegex=e2;eb.weekdaysMinRegex=e0;eb.isPM=cW;eb.meridiem=cX;function bl(fa,fb,e9,fd){var fc=bs();var fe=ax().set(fd,fb);return fc[e9](fe,fa)}function cJ(fa,fc,e9){if(co(fa)){fc=fa;fa=undefined}fa=fa||"";if(fc!=null){return bl(fa,fc,e9,"month")}var fb;var fd=[];for(fb=0;fb<12;fb++){fd[fb]=bl(fa,fb,e9,"month")}return fd}function cM(fe,fa,fc,e9){if(typeof fe==="boolean"){if(co(fa)){fc=fa;fa=undefined}fa=fa||""}else{fa=fe;fc=fa;fe=false;if(co(fa)){fc=fa;fa=undefined}fa=fa||""}var fd=bs(),fg=fe?fd._week.dow:0;if(fc!=null){return bl(fa,(fc+fg)%7,e9,"day")}var fb;var ff=[];for(fb=0;fb<7;fb++){ff[fb]=bl(fa,(fb+fg)%7,e9,"day")}return ff}function cI(e9,fa){return cJ(e9,fa,"months")}function cK(e9,fa){return cJ(e9,fa,"monthsShort")}function cL(fb,e9,fa){return cM(fb,e9,fa,"weekdays")}function cO(fb,e9,fa){return cM(fb,e9,fa,"weekdaysShort")}function cN(fb,e9,fa){return cM(fb,e9,fa,"weekdaysMin")}bz("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(fa){var e9=fa%10,fb=(eH(fa%100/10)===1)?"th":(e9===1)?"st":(e9===2)?"nd":(e9===3)?"rd":"th";return fa+fb}});b2.lang=a3("moment.lang is deprecated. Use moment.locale instead.",bz);b2.langData=a3("moment.langData is deprecated. Use moment.localeData instead.",bs);var dx=Math.abs;function a(){var e9=this._data;this._milliseconds=dx(this._milliseconds);this._days=dx(this._days);this._months=dx(this._months);e9.milliseconds=dx(e9.milliseconds);e9.seconds=dx(e9.seconds);e9.minutes=dx(e9.minutes);e9.hours=dx(e9.hours);e9.months=dx(e9.months);e9.years=dx(e9.years);return this}function w(fa,fb,fd,e9){var fc=ao(fb,fd);fa._milliseconds+=e9*fc._milliseconds;fa._days+=e9*fc._days;fa._months+=e9*fc._months;return fa._bubble()}function k(e9,fa){return w(this,e9,fa,1)}function eC(e9,fa){return w(this,e9,fa,-1)}function c(e9){if(e9<0){return Math.floor(e9)}else{return Math.ceil(e9)}}function S(){var fc=this._milliseconds;var fa=this._days;var fe=this._months;var e9=this._data;var fg,fd,fb,fh,ff;if(!((fc>=0&&fa>=0&&fe>=0)||(fc<=0&&fa<=0&&fe<=0))){fc+=c(dQ(fe)+fa)*86400000;fa=0;fe=0}e9.milliseconds=fc%1000;fg=d(fc/1000);e9.seconds=fg%60;fd=d(fg/60);e9.minutes=fd%60;fb=d(fd/60);e9.hours=fb%24;fa+=d(fb/24);ff=d(aH(fa));fe+=ff;fa-=c(dQ(ff));fh=d(fe/12);fe%=12;e9.days=fa;e9.months=fe;e9.years=fh;return this}function aH(e9){return e9*4800/146097}function dQ(e9){return e9*146097/4800}function D(fc){if(!this.isValid()){return NaN}var e9;var fb;var fa=this._milliseconds;fc=dT(fc);if(fc==="month"||fc==="year"){e9=this._days+fa/86400000;fb=this._months+aH(e9);return fc==="month"?fb:fb/12}else{e9=this._days+Math.round(dQ(this._months));switch(fc){case"week":return e9/7+fa/604800000;case"day":return e9+fa/86400000;case"hour":return e9*24+fa/3600000;case"minute":return e9*1440+fa/60000;case"second":return e9*86400+fa/1000;case"millisecond":return Math.floor(e9*86400000)+fa;default:throw new Error("Unknown unit "+fc)}}}function eW(){if(!this.isValid()){return NaN}return(this._milliseconds+this._days*86400000+(this._months%12)*2592000000+eH(this._months/12)*31536000000)}function c9(e9){return function(){return this.as(e9)}}var G=c9("ms");var M=c9("s");var H=c9("m");var F=c9("h");var E=c9("d");var N=c9("w");var J=c9("M");var O=c9("y");function bm(e9){e9=dT(e9);return this.isValid()?this[e9+"s"]():NaN}function dc(e9){return function(){return this.isValid()?this._data[e9]:NaN}}var dD=dc("milliseconds");var em=dc("seconds");var dG=dc("minutes");var b4=dc("hours");var aE=dc("days");var dM=dc("months");var e7=dc("years");function e4(){return d(this.days()/7)}var ek=Math.round;var eD={ss:44,s:45,m:45,h:22,d:26,M:11};function eA(fc,fb,fd,e9,fa){return fa.relativeTime(fb||1,!!fd,fc,e9)}function ei(fg,fi,fd){var fb=ao(fg).abs();var fh=ek(fb.as("s"));var fe=ek(fb.as("m"));var fc=ek(fb.as("h"));var fa=ek(fb.as("d"));var ff=ek(fb.as("M"));var fj=ek(fb.as("y"));var e9=fh<=eD.ss&&["s",fh]||fh<eD.s&&["ss",fh]||fe<=1&&["m"]||fe<eD.m&&["mm",fe]||fc<=1&&["h"]||fc<eD.h&&["hh",fc]||fa<=1&&["d"]||fa<eD.d&&["dd",fa]||ff<=1&&["M"]||ff<eD.M&&["MM",ff]||fj<=1&&["y"]||["yy",fj];e9[2]=fi;e9[3]=+fg>0;e9[4]=fd;return eA.apply(null,e9)}function bK(e9){if(e9===undefined){return ek}if(typeof(e9)==="function"){ek=e9;return true}return false}function bL(fa,e9){if(eD[fa]===undefined){return false}if(e9===undefined){return eD[fa]}eD[fa]=e9;if(fa==="s"){eD.ss=e9-1}return true}function b5(fb){if(!this.isValid()){return this.localeData().invalidDate()}var e9=this.localeData();var fa=ei(this,!fb,e9);if(fb){fa=e9.pastFuture(+this,fa)}return e9.postformat(fa)}var b=Math.abs;function eJ(){if(!this.isValid()){return this.localeData().invalidDate()}var fi=b(this._milliseconds)/1000;var fa=b(this._days);var fg=b(this._months);var ff,fc,fl;ff=d(fi/60);fc=d(ff/60);fi%=60;ff%=60;fl=d(fg/12);fg%=12;var fk=fl;var fe=fg;var e9=fa;var fb=fc;var fd=ff;var fh=fi;var fj=this.asSeconds();if(!fj){return"P0D"}return(fj<0?"-":"")+"P"+(fk?fk+"Y":"")+(fe?fe+"M":"")+(e9?e9+"D":"")+((fb||fd||fh)?"T":"")+(fb?fb+"H":"")+(fd?fd+"M":"")+(fh?fh+"S":"")}var ec=a7.prototype;ec.isValid=cB;ec.abs=a;ec.add=k;ec.subtract=eC;ec.as=D;ec.asMilliseconds=G;ec.asSeconds=M;ec.asMinutes=H;ec.asHours=F;ec.asDays=E;ec.asWeeks=N;ec.asMonths=J;ec.asYears=O;ec.valueOf=eW;ec._bubble=S;ec.get=bm;ec.milliseconds=dD;ec.seconds=em;ec.minutes=dG;ec.hours=b4;ec.days=aE;ec.weeks=e4;ec.months=dM;ec.years=e7;ec.humanize=b5;ec.toISOString=eJ;ec.toString=eJ;ec.toJSON=eJ;ec.locale=cQ;ec.localeData=cS;ec.toIsoString=a3("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",eJ);ec.lang=cG;m("X",0,0,"unix");m("x",0,0,"valueOf");o("x",dt);o("X",du);n("X",function(fb,e9,fa){fa._d=new Date(parseFloat(fb,10)*1000)});n("x",function(fb,e9,fa){fa._d=new Date(eH(fb))});b2.version="2.18.1";ep(au);b2.fn=ea;b2.min=dE;b2.max=dy;b2.now=dU;b2.utc=ax;b2.unix=aw;b2.months=cI;b2.isDate=cf;b2.locale=bz;b2.invalid=aq;b2.duration=ao;b2.isMoment=cn;b2.weekdays=cL;b2.parseZone=at;b2.localeData=bs;b2.isDuration=ci;b2.monthsShort=cK;b2.weekdaysMin=cN;b2.defineLocale=a2;b2.updateLocale=eU;b2.locales=cH;b2.weekdaysShort=cO;b2.normalizeUnits=dT;b2.relativeTimeRounding=bK;b2.relativeTimeThreshold=bL;b2.calendarFormat=bn;b2.prototype=ea;return b2})));!function(b,c){"object"==typeof module&&module.exports?module.exports=c(require("moment")):"function"==typeof define&&define.amd?define(["moment"],c):c(b.moment)}(this,function(H){var Y,x={},ae={},al={},ap={};H&&"string"==typeof H.version||ab("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var w=H.version.split("."),R=+w[0],ak=+w[1];function an(b){return 96<b?b-87:64<b?b-29:b-48}function ag(b){var m=0,k=b.split("."),z=k[0],y=k[1]||"",g=1,d=0,u=1;for(45===b.charCodeAt(0)&&(u=-(m=1));m<z.length;m++){d=60*d+an(z.charCodeAt(m))}for(m=0;m<y.length;m++){g/=60,d+=an(y.charCodeAt(m))*g}return d*u}function ac(b){for(var c=0;c<b.length;c++){b[c]=ag(b[c])}}function V(b,d){var c,g=[];for(c=0;c<d.length;c++){g[c]=b[d[c]]}return g}function aa(b){var d=b.split("|"),c=d[2].split(" "),k=d[3].split(""),g=d[4].split(" ");return ac(c),ac(k),ac(g),function(m,o){for(var n=0;n<o;n++){m[n]=Math.round((m[n-1]||0)+60000*m[n])}m[o-1]=1/0}(g,k.length),{name:d[0],abbrs:V(d[1].split(" "),k),offsets:V(c,k),untils:g,population:0|d[5]}}function ai(b){b&&this._set(aa(b))}function ad(b){var d=b.toTimeString(),c=d.match(/\([a-z ]+\)/i);"GMT"===(c=c&&c[0]?(c=c[0].match(/[A-Z]/g))?c.join(""):void 0:(c=d.match(/[A-Z]{3,5}/g))?c[0]:void 0)&&(c=void 0),this.at=+b,this.abbr=c,this.offset=b.getTimezoneOffset()}function F(b){this.zone=b,this.offsetScore=0,this.abbrScore=0}function K(b,d){for(var c,g;g=60000*((d.at-b.at)/120000|0);){(c=new ad(new Date(b.at+g))).offset===b.offset?b=c:d=c}return b}function X(b,c){return b.offsetScore!==c.offsetScore?b.offsetScore-c.offsetScore:b.abbrScore!==c.abbrScore?b.abbrScore-c.abbrScore:c.zone.population-b.zone.population}function ar(b,d){var c,g;for(ac(d),c=0;c<d.length;c++){g=d[c],ap[g]=ap[g]||{},ap[g][b]=!0}}function U(){try{var b=Intl.DateTimeFormat().resolvedOptions().timeZone;if(b&&3<b.length){var m=al[W(b)];if(m){return m}ab("Moment Timezone found "+b+" from the Intl api, but did not have that data loaded.")}}catch(b){}var k,z,y,g=function(){var n,D,C,L=(new Date).getFullYear()-2,E=new ad(new Date(L,0,1)),A=[E];for(C=1;C<48;C++){(D=new ad(new Date(L,C,1))).offset!==E.offset&&(n=K(E,D),A.push(n),A.push(new ad(new Date(n.at+60000)))),E=D}for(C=0;C<4;C++){A.push(new ad(new Date(L+C,0,1))),A.push(new ad(new Date(L+C,6,1)))}return A}(),d=g.length,u=function(n){var L,E,N,M=n.length,D={},C=[];for(L=0;L<M;L++){for(E in N=ap[n[L].offset]||{}){N.hasOwnProperty(E)&&(D[E]=!0)}}for(L in D){D.hasOwnProperty(L)&&C.push(al[L])}return C}(g),B=[];for(z=0;z<u.length;z++){for(k=new F(aj(u[z]),d),y=0;y<d;y++){k.scoreOffsetAt(g[y])}B.push(k)}return B.sort(X),0<B.length?B[0].zone.name:void 0}function W(b){return(b||"").toLowerCase().replace(/\//g,"_")}function ao(b){var d,c,k,g;for("string"==typeof b&&(b=[b]),d=0;d<b.length;d++){g=W(c=(k=b[d].split("|"))[0]),x[g]=b[d],al[g]=c,ar(g,k[2].split(" "))}}function aj(b,d){b=W(b);var c,g=x[b];return g instanceof ai?g:"string"==typeof g?(g=new ai(g),x[b]=g):ae[b]&&d!==aj&&(c=aj(ae[b],aj))?((g=x[b]=new ai)._set(c),g.name=al[b],g):null}function am(b){var d,c,k,g;for("string"==typeof b&&(b=[b]),d=0;d<b.length;d++){k=W((c=b[d].split("|"))[0]),g=W(c[1]),ae[k]=g,al[k]=c[0],ae[g]=k,al[g]=c[1]}}function j(b){ao(b.zones),am(b.links),G.dataVersion=b.version}function Z(b){var c="X"===b._f||"x"===b._f;return !(!b._a||void 0!==b._tzm||c)}function ab(b){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(b)}function G(b){var d=Array.prototype.slice.call(arguments,0,-1),c=arguments[arguments.length-1],k=aj(c),g=H.utc.apply(null,d);return k&&!H.isMoment(b)&&Z(g)&&g.add(k.parse(g),"minutes"),g.tz(c),g}(R<2||2==R&&ak<6)&&ab("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+H.version+". See momentjs.com"),ai.prototype={_set:function(b){this.name=b.name,this.abbrs=b.abbrs,this.untils=b.untils,this.offsets=b.offsets,this.population=b.population},_index:function(b){var d,c=+b,g=this.untils;for(d=0;d<g.length;d++){if(c<g[d]){return d}}},parse:function(b){var m,k,z,y,g=+b,d=this.offsets,u=this.untils,B=u.length-1;for(y=0;y<B;y++){if(m=d[y],k=d[y+1],z=d[y?y-1:y],m<k&&G.moveAmbiguousForward?m=k:z<m&&G.moveInvalidForward&&(m=z),g<u[y]-60000*m){return d[y]}}return d[B]},abbr:function(b){return this.abbrs[this._index(b)]},offset:function(b){return ab("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(b)]},utcOffset:function(b){return this.offsets[this._index(b)]}},F.prototype.scoreOffsetAt=function(b){this.offsetScore+=Math.abs(this.zone.utcOffset(b.at)-b.offset),this.zone.abbr(b.at).replace(/[^A-Z]/g,"")!==b.abbr&&this.abbrScore++},G.version="0.5.25",G.dataVersion="",G._zones=x,G._links=ae,G._names=al,G.add=ao,G.link=am,G.load=j,G.zone=aj,G.zoneExists=function w(a){return w.didShowError||(w.didShowError=!0,ab("moment.tz.zoneExists('"+a+"') has been deprecated in favor of !moment.tz.zone('"+a+"')")),!!aj(a)},G.guess=function(b){return Y&&!b||(Y=U()),Y},G.names=function(){var b,c=[];for(b in al){al.hasOwnProperty(b)&&(x[b]||x[ae[b]])&&al[b]&&c.push(al[b])}return c.sort()},G.Zone=ai,G.unpack=aa,G.unpackBase60=ag,G.needsOffset=Z,G.moveInvalidForward=!0,G.moveAmbiguousForward=!1;var J,ah=H.fn;function af(b){return function(){return this._z?this._z.abbr(this):b.call(this)}}function Q(b){return function(){return this._z=null,b.apply(this,arguments)}}H.tz=G,H.defaultZone=null,H.updateOffset=function(b,d){var c,k=H.defaultZone;if(void 0===b._z&&(k&&Z(b)&&!b._isUTC&&(b._d=H.utc(b._a)._d,b.utc().add(k.parse(b),"minutes")),b._z=k),b._z){if(c=b._z.utcOffset(b),Math.abs(c)<16&&(c/=60),void 0!==b.utcOffset){var g=b._z;b.utcOffset(-c,d),b._z=g}else{b.zone(c,d)}}},ah.tz=function(b,c){if(b){if("string"!=typeof b){throw new Error("Time zone name must be a string, got "+b+" ["+typeof b+"]")}return this._z=aj(b),this._z?H.updateOffset(this,c):ab("Moment Timezone has no data for "+b+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z){return this._z.name}},ah.zoneName=af(ah.zoneName),ah.zoneAbbr=af(ah.zoneAbbr),ah.utc=Q(ah.utc),ah.local=Q(ah.local),ah.utcOffset=(J=ah.utcOffset,function(){return 0<arguments.length&&(this._z=null),J.apply(this,arguments)}),H.tz.setDefault=function(b){return(R<2||2==R&&ak<9)&&ab("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+H.version+"."),H.defaultZone=b?aj(b):null,H};var aq=H.momentProperties;return"[object Array]"===Object.prototype.toString.call(aq)?(aq.push("_z"),aq.push("_a")):aq&&(aq._z=null),j({version:"2019a",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|+00 +01|0 -10|01010101010101010101010101010101|1LHC0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Khartoum|EAT CAT|-30 -20|01|1Usl0|51e5","Africa/Sao_Tome|GMT WAT|0 -10|010|1UQN0 2q00","Africa/Tripoli|EET|-20|0||11e5","Africa/Windhoek|CAT WAT|-20 -10|010101010|1LKo0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1Lzo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1Lzn0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1LEP0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0|28e5","America/Panama|EST|50|0||15e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1LKw0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0|20e6","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1Lzl0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1LqP0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0|77e4","America/Cancun|CST CDT EST|60 50 50|0102|1LKw0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1Lzk0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1LKx0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1Lzm0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1Lzj0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Fort_Nelson|PST PDT MST|80 70 70|0102|1Lzm0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1Lzi0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e3","America/Grand_Turk|EST EDT AST|50 40 40|0101210101010101010|1Lzj0 1zb0 Op0 1zb0 5Ip0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1Lzh0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|012121201212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1Lzh0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|0101|1Lzg0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1Lzj0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|01010|1LSP0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1LSP0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1LqO0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0 1HB0 FX0 1HB0 IL0 1HB0 FX0 1HB0 IL0 1EN0 FX0 1HB0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1Lzhu 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+08 +11|-80 -b0|010|1RWg0 3m10|10","Asia/Bangkok|+07|-70|0||15e6","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1LKe0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|01010101010101010101010|1LGK0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|01010|1LHA0 1o00 11A0 1o00|27e5","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1LHy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|22e5","Asia/Kuala_Lumpur|+08|-80|0||71e5","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1LGK0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101012010101010101010|1LHB0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1LGK0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|0101012|1LI10 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1LGM0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PST|-80|0||24e6","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BA0|29e5","Asia/Qyzylorda|+06 +05|-60 -50|01|1Xei0|73e4","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1LEku 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1LKg0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1LKgu 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1LKf0 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1LSP0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/UTC|UTC|0|0|","Europe/Ulyanovsk|+04 +03|-40 -30|010|1N7y0 3rd0|13e5","Europe/London|GMT BST|0 -10|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1LHA0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Kirov|+04 +03|-40 -30|01|1N7y0|48e4","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET MSK MSK|-20 -40 -30|012|1LHA0 1nW0|33e4","Europe/Volgograd|+04 +03|-40 -30|010|1N7y0 9Jd0|10e5","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1LHB0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1LKe0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1LKe0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Lfp0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|010|1S4d0 s00|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Juba","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Araguaina","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Bahia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Eirunepe","America/Lima|America/Guayaquil","America/Lima|America/Porto_Acre","America/Lima|America/Rio_Branco","America/Lima|Brazil/Acre","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Antarctica/Davis","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qostanay","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Brunei","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Etc/GMT-8","Asia/Kuala_Lumpur|Singapore","Asia/Makassar|Asia/Ujung_Pandang","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Ulyanovsk|Europe/Astrakhan","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]}),H});(function(){var k=document.attachEvent,E=false;if(!k){var A=(function(){var F=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(G){return window.setTimeout(G,20)};return function(G){return F(G)}})();var m=(function(){var F=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(G){return F(G)}})();function B(G){var K=G.__resizeTriggers__,H=K.firstElementChild,F=K.lastElementChild,J=H.firstElementChild;F.scrollLeft=F.scrollWidth;F.scrollTop=F.scrollHeight;J.style.width=H.offsetWidth+1+"px";J.style.height=H.offsetHeight+1+"px";H.scrollLeft=H.scrollWidth;H.scrollTop=H.scrollHeight}function n(F){return F.offsetWidth!=F.__resizeLast__.width||F.offsetHeight!=F.__resizeLast__.height}function C(F){var G=this;B(this);if(this.__resizeRAF__){m(this.__resizeRAF__)}this.__resizeRAF__=A(function(){if(n(G)){G.__resizeLast__.width=G.offsetWidth;G.__resizeLast__.height=G.offsetHeight;G.__resizeListeners__.forEach(function(H){H.call(G,F)})}})}var a=false,g="animation",y="",d="animationstart",u="Webkit Moz O ms".split(" "),D="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),z="";var w=document.createElement("fakeelement");if(w.style.animationName!==undefined){a=true}if(a===false){for(var x=0;x<u.length;x++){if(w.style[u[x]+"AnimationName"]!==undefined){z=u[x];g=z+"Animation";y="-"+z.toLowerCase()+"-";d=D[x];a=true;break}}}var c="resizeanim";var b="@"+y+"keyframes "+c+" { from { opacity: 0; } to { opacity: 0; } } ";var j=y+"animation: 1ms "+c+"; "}function o(){if(!E){var F=(b?b:"")+".resize-triggers { "+(j?j:"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',G=document.head||document.getElementsByTagName("head")[0],H=document.createElement("style");H.type="text/css";if(H.styleSheet){H.styleSheet.cssText=F}else{H.appendChild(document.createTextNode(F))}G.appendChild(H);E=true}}window.addResizeListener=function(F,G){if(k){F.attachEvent("onresize",G)}else{if(!F.__resizeTriggers__){if(getComputedStyle(F).position=="static"){F.style.position="relative"}o();F.__resizeLast__={};F.__resizeListeners__=[];(F.__resizeTriggers__=document.createElement("div")).className="resize-triggers";F.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';F.appendChild(F.__resizeTriggers__);B(F);F.addEventListener("scroll",C,true);d&&F.__resizeTriggers__.addEventListener(d,function(H){if(H.animationName==c){B(F)}})}F.__resizeListeners__.push(G)}};window.removeResizeListener=function(F,G){if(k){F.detachEvent("onresize",G)}else{F.__resizeListeners__.splice(F.__resizeListeners__.indexOf(G),1);if(!F.__resizeListeners__.length){F.removeEventListener("scroll",C);F.__resizeTriggers__=!F.removeChild(F.__resizeTriggers__)}}}})();(function(a,b){a.WebElement={add:function(c){var g=c.name;if(!g){throw"WebElement.add(): No name given."}var j=function(m,k){k=this.options(k);this.init(m,k);return this};a[g]=j;if(c.shortName){a[c.shortName]=function(m,k){return new j(m,k)}}if(!c.inherits){c.inherits=c.isFormElement?"FormElement":"Interface"}if(c.inherits){j.inherit(a[c.inherits],c.public)}else{j.prototype=c.public}if(c.template){var d=c.template;j.HTML=function(k){k=j.prototype.options(k);return d(k)}}else{j.HTML=function(k){j.prototype.options(k)}}j.create=function(k){return new j(j.HTML(k),k)}}}})(I,window);I.Interface=function(a){if(a!==false){this.html=this.dom.findHtml(a);if(this.html==null){throw"Element not found: "+a}}if(this.html){this.html._I=this}return this};I.Interface.prototype=(function(u){var c=u.css,z=u.queue,n=u.has,o,m=function(){return false},B=function(F,D,E){var G=[];if(!E){E=u}for(;F;F=F.nextSibling){if(F.nodeType===1&&F!==D){G.push(E(F))}}return G},y=function(D){var E;if(E=this.html.previousElementSibling){}else{E=this.html;do{E=E.previousSibling;if(!E){return null}}while(E.nodeType!==1)}return u(E)},w=function(D){var E;if(E=this.html.nextElementSibling){}else{E=this.html;do{E=E.nextSibling;if(!E){return null}}while(E.nodeType!==1)}return u(E)},a=function(D){if(u.mouseMove.is){return false}else{D=D||window.event;if(D.stopPropagation){D.stopPropagation()}else{D.cancelBubble=true}return true}},A=u.qRaise("dispose"),d=function(F,H){for(;F;F=F.nextSibling){if(F._I){var D=F._I;if(!D.saveElement){if(D.e&&D.e.dispose){A.call(D,D)}D.html=null;D.e=null;if(D.FL){var G,E;for(G=0,E=D.FL.length;G<E;G++){D.FL[G].close(true)}}F._I=null}else{continue}}d(F.firstChild);if(H){break}}},g=function(E){var D=E==="onenter"?"onmouseover":(E==="onleave"?"onmouseout":(E==="rclick"?"oncontextmenu":E));if(!this.delegating){this.delegating=[D]}else{this.delegating.push(D)}this.on(D,function(F,G){return j.call(this,D,F,G)},this)},j=function(G,D,F){var H,E;while(F&&F!==this.html){if(F._I&&F._I.D===this){H=F._I.eventHandler(G,D)}if(n(H)){E=H}if(D.stopped){return E}F=F.parentNode}return E},x=function(){this.returnValue=false},C=function(){this.cancelBubble=true},b=function(D){if(!this.D||!this.D.delegating.includes(D)){this.dom.bindEventhandler(D,this.html)}},k;k=u.e=function(D){return function(E,G,F,H){return this.on(D,E,G,F,H)}};return{isInterface:true,dom:u.dom,UID:function(D){return D==null?"U"+String.random(12):D},optionsInitialization:function(D){},options:function(D){if(D==null){D={id:this.UID()}}else{if(D._initialized!==true){D.id=this.UID(D.id);this.optionsInitialization(D);D._initialized=true}}return D},enableSelect:function(){if(n(document.onselectstart)){this.html.onselectstart=a}else{if(n(u.body.html.style.MozUserSelect)){this.replaceClass("disableSelect","enableSelect")}else{this.down(a,window)}}return this},disableSelect:function(){if(n(document.onselectstart)){this.html.onselectstart=m}else{if(u.has(u.body.html.style.MozUserSelect)){this.replaceClass("enableSelect","disableSelect")}else{this.down(m,window)}}return this},animate:function(F,H,J,D,E,G){new u.Animation(this,F,H,J,D,E,G);return this},stop:function(E,J){if(!this.animations){return this}if(E==="addTransform"||E==="removeTransform"){E="transform"}var F=this.animations.getIterator(),D=!n(E);if(D){while(F.next()){F.item.stop(J)}}else{while(F.next()){for(var H=0,G=F.item.pairs.length;H<G;H++){if(F.item.pairs[H].attr==E){F.item.stop(J);break}}}}return this},on:function(J,E,G,F,H){if(E==null&&!n(G)&&!n(H)){return this.eventHandler(J,null)}if(!this.e){this.e={}}if(F||E==null){if(E==null){if(!n(H)){if(!this.D){this.html[J]=null}this.e[J]=null}else{var D=this.e[J];if(!D){D=this.e[J]=u.AL();b.call(this,J)}D.stopPropagation=true}}else{this.removeEvent(J,E,G)}}else{var D=this.e[J];E={fn:E,stopProp:n(H)?H:false,scope:n(G)?G:this};if(!D){this.e[J]=u.AL([E]);b.call(this,J)}else{D.add(E)}}return this},removeEvent:function(K,E,J){if(this.e){var H,G,D=this.e[K];if(!D){return this}var F=D.getIterator(true);while(F.prev()){if(F.item.fn===E&&(J==null||F.item.scope===J)){if(F.length===1){this.html[K]=null;this.e[K]=null}else{D.remove(F.index)}F.end();break}}}return this},eventHandler:function(P,H){var D;if(this.e){D=this.e[P];if(!D&&!this.L){return}}else{if(!this.L){return}}H=H||window.event;var O,L,M,N,Q;if(H){M=H.target||H.originalTarget||H.srcElement;if(!H.preventDefault){H.preventDefault=x}if(!H.stopPropagation){H.stopPropagation=C}if(H.pageX==null&&H.clientX!=null){var J=this.html.ownerDocument||document,G=J.documentElement,F=J.body;H.pageX=H.clientX+(G&&G.scrollLeft||F&&F.scrollLeft||0)-(G&&G.clientLeft||F&&F.clientLeft||0);H.pageY=H.clientY+(G&&G.scrollTop||F&&F.scrollTop||0)-(G&&G.clientTop||F&&F.clientTop||0)}if(H.pageY!=null){var E=u.body;H.realX=H.pageX-E.scrollLeft();H.realY=H.pageY-E.scrollTop()}if(D&&D.stopPropagation){H.stopPropagation();H.stopped=true}}else{H={}}if(this.L){this.L.objectHandler(P,this,H);if(!D){return}}var K=D.getIterator();while(K.next()){if(!H.stopped&&K.item.stopProp&&H.stopPropagation){H.stopPropagation();H.stopped=true}Q=K.item.fn.call(K.item.scope,H,M);if(n(Q)){N=Q}}return N},delegate:function(G){var D;if(G==="link"){D=["onenter","onleave","onmousedown","onmouseup","onclick"]}else{D=arguments}for(var F=0,E=D.length;F<E;F++){g.call(this,D[F])}return this},onOnly:function(){this.onSwitchOnly=true;return this},actions:{enter:u.q("onenter"),leave:u.q("onleave"),enterRaise:u.qRaise("onenter"),leaveRaise:u.qRaise("onleave"),press:u.q("onpress"),release:u.q("onrelease"),pressRaise:u.qRaise("onpress"),releaseRaise:u.qRaise("onrelease"),switchFn:function(){if(this.isOn&&!this.onSwitchOnly){this.switchOff()}else{if(!this.wasOnDuringPress){this.switchOn()}}},catchLeave:function(D){if(this.hover||this.dontEnterUntilLeave){var E=D.toElement||D.relatedTarget;while(E){if(E==this.html){return}E=E.parentNode}this.dontEnterUntilLeave=false;if(this.hover){this.actions.doLeave.call(this,D)}}},doEnter:function(D){if(!this.hover&&!this.disabled&&!this.dontEnterUntilLeave){this.hover=true;this.actions.enterRaise.call(this,D)}},doLeave:function(D,E){if(this.hover){this.hover=false;this.actions.leaveRaise.call(this,D);if(!D&&!E){this.dontEnterUntilLeave=true}if(!this.isSticky||(this.isASwitch&&!this.isOn)){this.actions.doRelease.call(this)}}},mouseDown:function(D){if(!this.pressed){this.actions.doPress.call(this,D)}else{if(this.isSticky&&!this.isASwitch){this.actions.doRelease.call(this,D)}}},doPress:function(D){if(!this.pressed&&!this.disabled&&(!this.onSwitchOnly||!this.isOn)){this.pressed=true;if(this.dontEnterUntilLeave){this.dontEnterUntilLeave=false;this.enter()}this.actions.pressRaise.call(this,D);this.wasOnDuringPress=this.isOn}},doRelease:function(D){if(this.pressed){this.pressed=false;this.actions.releaseRaise.call(this,D)}}},enter:function(D,F,E){if(!E){if(D!=null){if(!this.e||!this.e.onleave){this.out(this.actions.catchLeave,this)}if(!this.e||!this.e.onenter){this.over(this.actions.doEnter,this)}}else{this.actions.doEnter.call(this);return this}}return this.actions.enter.call(this,D,F,E)},leave:function(D,F,E){if(!E){if(D!=null){if(!this.e||!this.e.onleave){this.out(this.actions.catchLeave,this)}if(!this.e||!this.e.onenter){this.over(this.actions.doEnter,this)}}else{this.actions.doLeave.call(this);return this}}return this.actions.leave.call(this,D,F,E)},doLeave:function(){this.actions.doLeave.call(this,true);return this},press:function(D,F,E){if(!E){if(D!=null){if(!this.e||!this.e.onpress){this.down(this.actions.mouseDown,this)}if(!this.e||!this.e.onrelease){this.up(this.actions.doRelease,this)}}else{this.actions.doPress.call(this);return this}}return this.actions.press.call(this,D,F,E)},release:function(D,F,E){if(!E){if(D!=null){if(!this.isSticky){if(!this.e||!this.e.onpress){this.down(this.actions.mouseDown,this)}if(!this.e||!this.e.onrelease){this.up(this.actions.doRelease,this)}}}else{this.actions.doRelease.call(this);return this}}return this.actions.release.call(this,D,F,E)},sticky:function(D){this.isSticky=true;this.permanentSticky=D;if(this.e&&this.e.onrelease){this.up(this.actions.doRelease,this,true)}return this},isSwitch:function(D){this.isASwitch=true;this.isOn=false;if(D===true){return this}else{return this.click(this.actions.switchFn,this)}},rclick:k("oncontextmenu"),click:k("onclick"),down:k("onmousedown"),up:k("onmouseup"),over:k("onmouseover"),out:k("onmouseout"),focus:k("onfocus"),blur:k("onblur"),scroll:k("onscroll"),keypress:k("onkeypress"),keydown:k("onkeydown"),keyup:k("onkeyup"),dblclick:k("ondblclick"),dispose:u.q("dispose"),input:function(D,F,E,G){if(u.support.oninput){return this.on("oninput",D,F,E,G)}else{return n(D)?this.on("onpaste",D,F,E,G).keypress(D,F,E,G):this.keypress()}},queue:function(E,D,G,F){return z.add(this,E,D,G,F)},queueHandler:function(E){var D=E;Array.prototype.shift.call(arguments);return z.raise(this,D,arguments)},change:function(D,F,E){return(!this.disabled||n(D))?this.queue("change",D,F,E):this},outside:function(E,G,F,D){if(D){this.outsideListener(true)}return this.queue("outside",E,G,F)},outsideListener:function(D){if(D&&!this.outsideListening&&this.e&&this.e.outside){this.outsideListening=true}else{if(!D&&this.outsideListening){this.outsideListening=false}else{return this}}u.page.setOutsider(this,D);return this},nav:function(G,D,E,F){this.click(function(){u.navigate(G,D,E,F)},this)},scaleIn:function(F,D,E){this.css("addTransform","scale(0.25)").css("opacity",0).css("display","");this.animate({opacity:1,addTransform:"scale(1)"},F?F:400,null,function(){this.show().css("removeTransform","scale");if(D){D.apply(n(E)?E:this)}},this)},fadeIn:function(H,J,E,F){var G=this.css("opacity"),D=this.css("display");if(G===""||(G===1&&D==="none")){this.css("opacity",0)}if(D==="none"){this.css("display","")}var K=this;this.animate({opacity:1},H==null?400:H,J,function(L,M){if(M){K.css("opacity","")}if(E){E.apply(n(F)?F:this)}},F);return this},fadeOut:function(G,H,E,F){var D=this;this.animate({opacity:0},G==null?400:G,H,function(J,K){if(K){D.hide()}if(E){E.apply(n(F)?F:this)}},F);return this},scrollTop:function(D){if(n(D)){this.html.scrollTop=D}else{return this.html.scrollTop}},scrollLeft:function(D){if(n(D)){this.html.scrollLeft=D}else{return this.html.scrollLeft}},scrollIntoView:function(){var F=this.offsetParent(),D=this.height(),E=this.html.offsetTop,G=F.height(),H=F.html.scrollTop;if(E<H){F.html.scrollTop=E}else{if(D+E>H+G){F.html.scrollTop=E-G+D}}return this},docScrollTop:function(F){if(n(F)){document.body.scrollTop=F;if(document.documentElement){document.documentElement.scrollTop=F}return this}else{var D=window.pageYOffset;if(n(D)){return D}else{var E=document.documentElement;return((E.clientHeight)?E:document.body).scrollTop}}},docScrollLeft:function(F){if(n(F)){if(!F){F=0}if(document.documentElement){document.documentElement.scrollLeft=F;if(document.documentElement.scrollLeft!==F){document.body.scrollLeft=F}}else{document.body.scrollLeft=F}return this}else{var D=window.pageXOffset;if(n(D)){return D}else{var E=document.documentElement;return((E.clientWidth)?E:document.body).scrollLeft}}},boxinfo:function(){var D;if(u.support.getBoundingClientRect){D=this.html.getBoundingClientRect();if(!u.has(D.width)){D={left:D.left,right:D.right,top:D.top,bottom:D.bottom,width:D.right-D.left,height:D.bottom-D.top}}}else{D={width:this.fullWidth(),height:this.fullHeight(),top:this.top(),left:this.left()};D.right=D.width+D.left;D.bottom=D.height+D.top}return D},offset:function(){var D=this.boxinfo();return{top:D.top+this.docScrollTop(),left:D.left+this.docScrollLeft()}},offsetWithParent:function(){if(u.support.offsetTop){return{top:this.html.offsetTop,left:this.html.offsetLeft}}else{var D=this.offset();var E=this.parent().offset();return{top:D.top-E.top,left:D.left-E.left}}},_parentResizeTickQueue:u.q("parentResizeTick"),_parentResizeQueue:u.q("parentResize"),_setParentResizeSensor:function(){if(!this._parentResizeSensorSet){this.resizeParent=this.offsetParent();if(this.resizeParent==null){this.resizeParent=this.parent()}if(this.resizeParent!=null){var D=this;addResizeListener(this.resizeParent.html,function(){D._parentResizeTickQueue()});if(IntersectionObserver!=null){var F={root:this.resizeParent.html};var E=new IntersectionObserver(function(G,J){if(G.length){var H=G[0];if(this._previousIntersection!=H.isIntersecting){D._parentResizeTickQueue()}this._previousIntersection=H.isIntersecting}},F);E.observe(this.html);this.dispose(function(){E.disconnect()},this)}this._parentResizeSensorSet=true}}},onParentResizeTick:function(D,F,E,G){this._setParentResizeSensor();return this._parentResizeTickQueue(D,F,E,G)},onParentResize:function(D,F,E,G){if(!this._resizeTickSensorSet){this._resizeTickSensorSet=true;this.onParentResizeTick(function(){if(this._parentResizeTimeout){clearTimeout(this._parentResizeTimeout);this._parentResizeTimeout=null}this._parentResizeTimeout=u.timeout(60,this._parentResizeQueue,this)},this)}return this._parentResizeQueue(D,F,E,G)},center:function(F,G,D){var E=this.css("position");if(E!=="fixed"&&E!=="absolute"){this.css("position","absolute")}this._keepCentered=true;this._keepCenteredX=F;this._keepCenteredY=G;if(D!==true){if(!this._recenterListenerAdded){this._recenterListenerAdded=true;this.onParentResizeTick(this.recenter,this)}}return this},recenter:function(){var G;var J=this._recenterListenerAdded;if(!this._recenterListenerAdded){this._recenterListenerAdded=true;this.onParentResizeTick(this.recenter,this)}if(J&&this.resizeParent==null){this._setParentResizeSensor()}if(this.resizeParent!=null){if(this._keepCenteredX!==false){var H=this.fullWidth(),F=this.resizeParent.fullWidth();if(H){this.left(F/2-H/2)}}if(this._keepCenteredY!==false){var D=this.fullHeight(),E=this.resizeParent.fullHeight();if(D){this.top(E/2-D/2)}}}},hasClass:function(J){if(this.html===null){return this}var D=this.html,G=D.className,F,H;if(G&&J){J=J.split(u.util.rspace);G=(" "+G+" ").replace(u.util.rclass," ");for(H=0,F=J.length;H<F;H++){var E=false;while(G.indexOf(" "+J[H]+" ")>=0){E=true;break}if(!E){return false}}}return true},addClass:function(E){if(this.html===null){return}var D=this.html.className;if(E&&typeof E==="string"){this.html.className=D?D+" "+E:E}return this},removeClass:function(H){if(this.html===null){return this}var D=this.html,F=D.className,E,G;if(F&&H){H=H.split(u.util.rspace);F=(" "+F+" ").replace(u.util.rclass," ");for(G=0,E=H.length;G<E;G++){while(F.indexOf(" "+H[G]+" ")>=0){F=F.replace(" "+H[G]+" "," ")}}D.className=F?F.trim():""}return this},replaceClass:function(E,D){return this.removeClass(E).addClass(D)},save:function(){this.saveElement=true;return this},remove:function(E){this.stop();var D=this.html;if(D){if(E!==true){d(D,true)}if(D.parentNode){D.parentNode.removeChild(D)}}return this},tagName:function(){return this.html.tagName.toUpperCase()},text:function(E){if(n(E)){if(E==null){E=""}else{if(E.isInterface){E=E.text()}}var D=this.html;if(D.firstChild){d(D.firstChild)}if(u.support.innerText){D.innerText=E}else{if(u.support.textContent){D.textContent=E}else{D.innerHTML=E}}return this}else{return u.body.innerText?this.html.innerText:this.html.textContent}},number:function(D){if(n(D)){D=u.util.toNumber(D);D=D.replace(/(\s)/g,"").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");return this.text(D)}else{return parseInt(this.html.innerText.replace(/,/g,""))}},content:function(E){if(n(E)){if(E!==null){if(E.isInterface){this.empty().append(E)}else{var D=this.html;d(D.firstChild);D.innerHTML=E;return this}}}else{return this.html.innerHTML}},value:function(E,D){if(n(E)){this.html.value=E;return D?this:this.change()}else{return this.html.value}},clone:function(){if(u.support.cloneNode){return u(this.html.cloneNode(true))}else{return u(this.html.outerHTML)}},replaceWith:function(D){if(D&&D.html!==null){if(!D.isInterface){D=u(D)}this.html.parentNode.insertBefore(D.html,this.html);return this.remove()}},append:function(D){if(D&&D.html!==null){if(!D.isInterface){D=u(D)}if(D.html[0]){while(D.html[0]){this.html.appendChild(D.html[0])}}else{this.html.appendChild(D.html)}}return this},insertBefore:function(E){if(E){if(!E.isInterface){E=u(E)}var D=this.html.parentNode;if(E.html[0]){while(E.html[0]){D.insertBefore(E.html[0],this.html)}}else{D.insertBefore(E.html,this.html)}}return this},insertAfter:function(E){if(E){if(!E.isInterface){E=u(E)}var D=this.html.parentNode;if(D.lastChild===this.html){if(E.html[0]){while(E.html[0]){D.appendChild(E.html[0])}}else{D.appendChild(E.html)}}else{if(E.html[0]){while(E.html[0]){D.insertBefore(E.html[0],this.html.nextSibling)}}else{D.insertBefore(E.html,this.html.nextSibling)}}}return this},prepend:function(D){if(D){if(!D.isInterface){D=u(D)}if(D.html[0]){while(D.html[0]){this.html.insertBefore(D.html[0],this.html.firstChild)}}else{this.html.insertBefore(D.html,this.html.firstChild)}}return this},addToHiddenDiv:function(){if(!o){o=u("<div style='opacity:0;visibility:hidden;position:absolute;left:-2000px;'></div>");u.body.append(o)}o.append(this)},empty:function(E){var D=this.html;if(E!==true&&D.firstChild){d(D.firstChild)}while(D.firstChild){D.removeChild(D.firstChild)}return this},find:function(E,D){if(!D){D=u}return D(this.dom.query(E,this.html,true))},findAll:function(E,D){return this.dom.array(this.dom.query(E,this.html),D)},siblings:function(D){return B(this.html.parentNode.firstChild,this.html,D)},children:function(D){return B(this.html.firstChild,undefined,D)},child:function(F,E){if(!E){E=u}var D;if(D=this.html.firstElementChild){while(D){if(!F--){return E(D)}D=D.nextElementSibling}}else{D=this.html.firstChild;F++;while(D){if(D.nodeType===1){F--}if(!F){return E(D)}D=D.nextSibling}}return null},parent:function(){var D=this.html.parentNode;return D&&D.nodeType!==11?u(D):null},offsetParent:function(){var D=this.html.offsetParent;return D&&D.nodeType!==11?u(D):null},next:function(){return w.call(this)},prev:function(D){return y.call(this)},extend:function(D){for(var E in D){if(D.hasOwnProperty(E)){this[E]=D[E]}}return this},initParent:function(){var D=this.parentObj;this.parentObj=D.prototype.parentObj;return D.apply(this,arguments)}}})(I);I.DA=function(a){return new I.Action(a)};I.S=function(a){return new I.Action(a).isSwitch().isLink()};I.ST=function(a){return new I.Action(a).sticky().isLink()};I.A=function(a){return new I.Action(a).isLink()};I.Action=function(a){return this.initParent(a)};I.Action.inherit(I.Interface,(function(){var a=function(d){if(d.keyCode===13){this.onEnterKey()}},b=function(){if(!this.elementDisabled&&!this.processing&&!this.disabled){this.execute()}},c=function(d){if(d.ctrlKey||d.shiftKey){return true}I.navigate(this);return false};return{isLink:function(){return this.addHover().addPress()},isTextBox:function(){return this.addFocus().enableSelect()},isButton:function(){return this.addHover().addPress().addFocus().addClick().addEnterKey()},setLink:function(d){if(d!=null&&d.length&&d[0]!=="/"){d="/"+d}this.html.href=d;this.click(c,d);return this},addClick:function(){return this.click(b)},addEnterKey:function(){this.listenForEnter();return this.onEnterKey(b)},addFocus:function(){return this.focus(this.focusFn,this).blur(this.blurFn,this)},addHover:function(){return this.enter(this.styleEnter,this).leave(this.styleLeave,this)},addPress:function(){return this.press(this.stylePress,this).release(this.styleRelease,this)},listenForEnter:function(){if(!this.listeningForEnter){this.listeningForEnter=true;return this.keypress(a,this)}},switchOn:function(d,j,g){if(I.has(d)||g){this.queue("on",d,j,g)}else{if(!this.isOn){this.isOn=true;this.queueHandler("on");this.styleOn()}}return this},switchOff:function(d,j,g){if(I.has(d)||g){this.queue("off",d,j,g)}else{if(this.isOn){this.isOn=false;this.queueHandler("off");this.styleOff();if(this.leaveOnSwitchOff){this.leave()}}}return this},leaveOnOff:function(){this.leaveOnSwitchOff=true;return this},deactivate:function(){this.leave()},onEnterKey:function(d,j,g){this.listenForEnter();if(I.has(d)){return this.queue("enterKey",d,j,g)}else{if(!this.processing&&!this.disabled){return this.queue("enterKey",d,j,g)}}return this},execute:function(d,j,g){if(I.has(d)){return this.queue("execute",d,j,g)}else{if(!this.processing&&!this.disabled){return this.queue("execute",d,j,g)}}return this},styleEnter:function(){this.addClass("hover")},styleLeave:function(){this.removeClass("hover")},stylePress:function(){this.addClass("active")},styleRelease:function(){this.removeClass("active")},styleFocus:function(){this.addClass("focus")},styleBlur:function(){this.removeClass("focus")},styleAlert:function(){this.addClass("alert")},styleDealert:function(){this.removeClass("alert")},styleEnable:function(){this.removeClass("disabled")},styleDisable:function(){this.addClass("disabled")},styleOn:function(){this.removeClass("active").addClass("on")},styleOff:function(){this.removeClass("on")},styleStartProcessing:function(){this.addClass("locked")},styleEndProcessing:function(k,d,g,j){this.removeClass("locked");if(g){g.call(j)}},alert:function(){if(!this.inAlert){this.inAlert=true;this.styleAlert()}return this},dealert:function(){if(this.inAlert){this.inAlert=false;this.styleDealert()}return this},enable:function(){if(this.disabled){this.disabled=false;this.styleEnable()}return this},disable:function(){if(!this.disabled){this.disabled=true;this.styleDisable();this.leave();this.release()}return this},startProcessing:function(){if(!this.processing){this.processing=true;this.styleStartProcessing()}return this},endProcessing:function(k,d,g,j){if(this.processing){this.processing=false;this.styleEndProcessing(k,d,g,j)}return this},focusFn:function(){if(!this.disabled&&!this.isFocused){this.isFocused=true;this.styleFocus()}},blurFn:function(){if(this.isFocused){this.isFocused=false;this.styleBlur()}},styleChild:function(g){var d=this.addClass;this.addClass=function(){g.addClass.apply(g,arguments);return d.apply(this,arguments)};var j=this.removeClass;this.removeClass=function(){g.removeClass.apply(g,arguments);return j.apply(this,arguments)};return this}}})());if(console.log&&window.serverConfig&&window.serverConfig.inProduction&&!window.serverConfig.debugging&&location.protocol==="https:"){console.log("%c Software developped by Sysmo Software | Amsterdam, The Netherlands | dennis@sysmo.com","background: #081b54; color: #fff; font-size:15px; padding: 4px")}I.state=(function(a){return{enabled:true,ended:false,docLoaded:false,pageInterfaced:false,appReady:false,userIsLoaded:false,hasFirstPrimaryConnection:false,isLoggedIn:false,inOfflineMode:false,enable:function(){if(!this.ended){this.enabled=true}},disable:function(){this.enabled=false},end:function(){this.ended=true;this.disable()},raiseDocLoad:function(){if(!this.docLoaded){this.docLoaded=true;console.log("STATE: onDocLoad");a.call.raiseOnce_andDontCatchTheError("load")}},onDocLoad:function(b,c){a.call.on("load",b,c)},raiseInterfaced:function(){if(!this.pageInterfaced){this.pageInterfaced=true;console.log("STATE: onInterfaced call.");a.timeout(0,function(){console.log("STATE: onInterfaced execute.");a.call.raiseOnce_andDontCatchTheError("interfaced")})}},onInterfaced:function(b,c){a.call.on("interfaced",b,c)},raiseConnected:function(){if(!this.hasFirstPrimaryConnection){this.hasFirstPrimaryConnection=true;a.timeout(0,function(){a.call.raiseOnce("connected");this.checkIfReady()},this)}},onConnected:function(b,c){a.call.on("connected",b,c)},checkIfReady:function(){if(this.hasFirstPrimaryConnection&&(!window._pl||window._pl.dataReceived)){if(window._pl!=null&&window._pl.data!=null){a.pageData=window._pl.data.reply}else{a.pageData={}}this.raiseReady()}},raiseReady:function(){if(!this.appReady){this.appReady=true;console.log("STATE: onReady call.");a.call.raiseOnce_andDontCatchTheError("ready");console.log("STATE: onReady executed.")}},onReady:function(b,c){a.call.on("ready",b,c)},raiseUserLoaded:function(){if(!this.userIsLoaded){this.userIsLoaded=true;console.log("STATE: raiseUserLoaded call.");a.call.raiseOnce("userLoaded")}},authCheck:function(c){if(!this.isLoggedIn){var b=a.authentication;if(b){return b.authCheck(c)}}return true},setLoggedIn:function(b){if(!this.isLoggedIn){this.isLoggedIn=true;console.log("STATE: onLogIn call.");a.call.raiseOnce("login");this.raiseUserLoaded()}},onLogIn:function(b,c){a.call.on("login",b,c)},checkConnection:function(){if((!this.canReachServer||!this.hasServer)&&!this.canReachGreeter){if(this.hasConnection){this.hasConnection=false;this.offlineMode(true)}}else{if(!this.hasConnection){this.hasConnection=true;this.offlineMode(false)}}},offlineMode:function(b){if(b||b==null){if(!this.inOfflineMode){this.inOfflineMode=true}}else{if(this.inOfflineMode){this.inOfflineMode=false}}}}})(I);(function(b){b.Toast=function(){};var a=function(d){if(d==null){return""}if(d==="alert"){return"<i class='fas fa-exclamation-triangle'></i> "}else{if(d==="message"){return"<i class='far far fa-info-circle'></i> "}else{if(d==="success"){return"<i class='fas fa-check-circle'></i> "}}}return""};b.Toast.inherit(b.Interface,{init:function(g,d){if(!g){g=""}if(!d){this.title="";this.msg=g}else{this.title=g;this.msg=d}},set:function(g,d){if(!this.closed){this.init(g,d);if(this.type){if(!this.title){this.titleDiv.hide();this.msgDiv.addClass("toastMsgAsTitle")}else{this.titleDiv.show();this.msgDiv.removeClass("toastMsgAsTitle")}this.titleDiv.content(this.title);this.msgDiv.content(this.msg)}}return this},close:function(){this.closeFade(80)},closeSlow:function(){this.closeFade(120)},closeFade:function(d){if(!this.fading&&!this.closed){this.fading=true;this.fadeOut(d,null,this.closeInstant,this)}},closeInstant:function(){if(!this.closed){this.fading=false;this.closed=true;this.remove()}},display:function(j,g){if(this.closed){return this}if(!this.type){this.active=true;this.initParent("<div class='toast toastAnimation'><div class='toastHolder "+j+"'><span class='toastIconHolder'></span><div class='toastTitle' "+(this.title?"":"style='display:none'")+">"+this.title+"</div><div class='toastMsg'>"+this.msg+"</div></div><div class='toastBottomBar "+j+"'><div class='toastBottomBarInner'></div></div><div></div></div>");var d=this.children();this.holder=d[0].enableSelect();this.bottomBar=d[1];this.bottomBarInner=this.bottomBar.child(0);this.closeBtnHolder=d[2];d=this.holder.children();this.iconDiv=d[0];this.titleDiv=d[1];this.msgDiv=d[2];if(!this.title){this.msgDiv.addClass("toastMsgAsTitle")}else{this.msgDiv.removeClass("toastMsgAsTitle")}if(c.container){c.container.append(this)}else{if(b.content!=null&&b.content.html!=null){b.content.append(this)}}this.iconDiv.content(a(j))}else{if(this.type!==j){this.iconDiv.content(a(j));this.holder.replaceClass(this.type,j);this.bottomBar.replaceClass(this.type,j)}else{this.hide().fadeIn(90).fading=false}}this.closeBtn=b.NB("<div class='toastClose cBDown "+j+"'><span class='toastX'></span>",false).click(this.close,this);this.closeBtn.styleChild(this.closeBtn.child(0));this.closeBtnHolder.content(this.closeBtn);if(this.messageBound){this.messageBound=false}if(this.closeTimer){clearTimeout(this.closeTimer);this.closeTimer=null}if(!b.has(g)){if(j==="alert"){g=13000}else{g=4500}}if(g){this.closeTimer=b.timeout(g,this.closeSlow,this);this.bottomBar.show();this.bottomBarInner.width("").animate({width:"0"},g,"linear")}else{this.bottomBar.hide()}this.type=j;return this},success:function(d){return this.display("success",d)},action:function(d){return this.display("message",d)},message:function(d){return this.display("message",d)},alert:function(d){return this.display("alert",d)},error:function(g,d){if(g){if(!g.userMessage&&!g.userMessageDetails){g=b.errors.requestFailed.newError()}g.handled=true;return this.set(g.userMessage,g.userMessageDetails).display("alert",d)}}});var c={setContainer:function(d){this.container=d},success:function(j,g,d,k){if(!k||k.closed){k=new b.Toast()}return k.set(j,g).success(d)},message:function(j,g,d,k){if(!k||k.closed){k=new b.Toast()}return k.set(j,g).message(d)},action:function(j,g,d,k){if(!k||k.closed){k=new b.Toast()}return k.set(j,g).action(d)},alert:function(j,g,d,k){if(!k||k.closed){k=new b.Toast()}return k.set(j,g).alert(d)},error:function(g,d,j){if(g){if(!j||j.closed){j=new b.Toast()}return j.error(g,d)}}};b.toaster=c})(I);I.localSettings=(function(a){var b={name:"settings",defaults:{webSockets:true,hardware:true,transitions:true,transforms:true,scriptie:true},save:function(){a.objectStorage.setItem(this.name,this.values)},load:function(){var c=a.objectStorage.getItem(this.name);if(c){this.values={}.extend(this.defaults);this.values.extend(c)}}};b.values=a.extend({},b.defaults);b.load();return b})(I);I.ServerError=function(b){var a=new I.Error(b.name,b.userMessage,b.userMessageDetails,b.developerMessage);a.variableDevMessage=b.variableDevMessage;a.cause=b.cause;a.type=b.type;a.hanled=b.handled;a.element=b.element;if(b.innerError){a.innerError=new I.ServerError(b.innerError)}if(b.nextError){a.innerError=new I.ServerError(b.nextError)}return a};I.EC=function(b,c,d,a){return new I.ErrorClass(b,c,d,a)};I.ErrorClass=function(b,c,d,a){this.name=b;this.userMessage=c;this.userMessageDetails=d;this.developerMessage=a};I.ErrorClass.prototype={newError:function(){return new I.Error(this.name,this.userMessage,this.userMessageDetails,this.developerMessage)},replyObj:function(){return{error:this.newError()}}};I.Error=function(b,d,g,a,c){this.name=b;this.userMessage=d;this.userMessageDetails=g;this.developerMessage=a;this.type=c};I.Error.prototype={toString:function(){if(!this.userMessage){if(!this.userMessageDetails){return this.name}return this.userMessageDetails}if(!this.userMessageDetails){return this.userMessage}return this.userMessage+" "+this.userMessageDetails},toHTML:function(c){var a="<div class='errorBox'>";if(!c){c="An error occurred."}c="<i class='fas fa-exclamation-triangle' style='margin-right:3px'></i> "+c;a+="<div class='errorBoxTop'>"+c+"</div>";if(this.userMessage&&this.userMessageDetails){a+="<div class='errorBoxTitle'>"+this.userMessage+"</div><div class='errorBoxBody'>"+this.userMessageDetails+"</div>"}else{var b=this.userMessage?this.userMessage:(this.userMessageDetails?this.userMessageDetails:"An unexpected error occurred.");a+="<div class='errorBoxBody'>"+b+"</div>"}return a+"</div>"},handled:false};I.errors={requestFailed:I.EC("requestFailed","A server request failed to complete."),serverError:I.EC("serverError","The server could not complete your request."),noConnection:I.EC("noConnection","No connection.","Waiting for reconnect."),messageAborted:I.EC("messageAborted","Request aborted.","A server request was aborted."),connectionFailed:I.EC("connectionFailed","Connection error.","A message failed to reach the server."),noServer:I.EC("noServer","No connection.","You are not yet connected to the server."),requestsDisabled:I.EC("requestsDisabled","Sending requests to this server is disabled."),applicationDisabled:I.EC("applicationDisabled","The application is disabled.","Can't send requests to the server."),applicationEnded:I.EC("applicationEnded","The application needs to be restarted.","Can't send requests to the server.")};I.user=(function(a){var b="UserSessionKey";if(a.config&&a.config.userSessionKeyName){b=a.config.userSessionKeyName}return{key:a.cookies.getItem(b),removeKey:function(){console.log("------removeKey------");if(this.key){a.cookies.removeItem(b);this.key=null}},newSession:function(c,d){a.cookies.removeItem(b,false);a.cookies.removeItem(b,true);a.cookies.setItem(b,c.key,c.persist?14:null,d,true);this.key=c.key},logIn:function(d,c){if(this.handler&&this.handler.onLogIn){this.handler.onLogIn(this,d,c)}},signUp:function(d,c){if(this.handler&&this.handler.onSignUp){this.handler.onSignUp(this,d,c)}},authenticated:function(g,d){if(this.handler&&this.handler.onAuthenticated){this.handler.onAuthenticated(this,g,d);if(!a.cookies.consentGiven){var c=a.cookies.getItem(b);if(c){a.cookies.displayBanner()}}}},newUser:function(d,c){if(this.handler&&this.handler.onNewUser){this.handler.onNewUser.call(this,d,c)}},authenticationFailed:function(){console.log("------authenticationFailed------");if(a.state.isLoggedIn){a.state.end();this.removeKey();a.toaster.alert("User authentication failure.","Restart the application to continue.",0)}},logOut:function(){console.log("------logOut------");var c=this.key;this.removeKey();window.location="/LogOut?"+b+"="+encodeURIComponent(c)}}})(I);(function(b){var a=b.authentication={disposed:false,anonInitialized:false,handler:null,authCheck:function(c){if(this.handler&&this.handler.authCheck){return this.handler.authCheck(c)}},authenticate:function(){if(this.handler&&this.handler.authenticate){this.handler.authenticate()}},initAnonymous:function(){if(!this.anonInitialized){this.anonInitialized=true;if(this.handler&&this.handler.onInitAnonymous){this.handler.onInitAnonymous()}b.call.raiseOnce("anonymous");b.state.raiseUserLoaded()}},dispose:function(){if(!this.disposed){this.disposed=true;if(this.handler&&this.handler.onDispose){this.handler.onDispose()}b.authentication=null;this.handler=null}}};b.state.onConnected(function(){if(b.config.noAuthentication){b.state.raiseUserLoaded()}else{a.authenticate()}})})(I);I.network=(function(d){var m=null;if(!XMLHttpRequest){if(ActiveXObject){var a=["Msxml2.XMLHTTP.6.0","MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"];for(var c=0;c<a.length;c++){try{new ActiveXObject(a[c]);m=a[c];break}catch(j){}}}}var b=function(o,n){if(o>=400&&o<500||o==0){n.server.lostConnection();n.connFailed()}else{n.server.transmissionError();n.serverError()}};var g=function(n){n.server.responseHandler({reply:{error:{name:"BlobDownloadServerError",userMessage:"Failed to retrieve file from server. An error occured."},fileDownloaded:false}},n)};var k={timeoutMs:25000,webSocketsEnabled:false,serverType:{Static:0,Dedicated:1,Dynamic:2},prefferedConnection:{ClientChoice:0,Cors:1,WebSocket:2},getRequestObj:function(){return m==null?new XMLHttpRequest():new ActiveXObject(m)},dataStringToBytes:function(x,C){if(C==null){C=512}var w=x.indexOf(",");if(w>0){var y=x.substr(0,w);x=x.substr(w+1);if(y.indexOf("base64")>0){x=atob(x)}else{if(x.indexOf("%")>0){x=unescape(x)}}}var o=[];for(var A=0;A<x.length;A+=C){var B=x.slice(A,A+C);var u=new Array(B.length);for(var z=0;z<B.length;z++){u[z]=B.charCodeAt(z)}var n=new Uint8Array(u);o.push(n)}return o},dataStringToBlob:function(u,o,w,x){var n=this.dataStringToBytes(u);return this.bytesToBlob(n,o,w)},dataStringToDownload:function(u,o,w,x){var n=this.dataStringToBytes(u);return this.bytesToDownload(n,o,w)},bytesToBlob:function(o,u,x){var n;if(typeof File==="function"){try{n=new File(o,x,{type:u})}catch(w){n=null}}if(!n&&typeof Blob==="function"){n=new Blob(o,{type:u})}return n},bytesToDownload:function(o,u,w){var n=this.bytesToBlob(o,u,w);this.blobToDownload(n,w)},blobToDownload:function(o,w){if(typeof window.navigator.msSaveBlob!=="undefined"){console.log("[JavaScript File Download] msSaveBlob() workaround.");window.navigator.msSaveBlob(o,w)}else{var x=window.URL||window.webkitURL;var u=x.createObjectURL(o);var n;if(w){n=document.createElement("a");if(typeof n.download==="undefined"){console.log("[JavaScript File Download] Download field unsupported, resulting in no file name.");window.location=u}else{n.href=u;n.download=w;document.body.appendChild(n);n.click()}}else{console.log("[JavaScript File Download] No file name found.");window.location=u}setTimeout(function(){if(n){d(n).remove()}x.revokeObjectURL(u)},5000)}},parseResponse:function(D,B){var z=B.responseType==="blob";if(D==null&&z){var E=B.obj;var x;if(E){try{var o=E.getResponseHeader("Content-Disposition");if(o&&o.indexOf("attachment")!==-1){var y=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/;var A=y.exec(o);if(A!=null&&A[1]){x=A[1].replace(/['"]/g,"")}}}catch(w){x=null}}if(x){try{var n=this.bytesToBlob([E.response],E.getResponseHeader("Content-Type"),x);if(n){this.blobToDownload(n,x)}else{console.log("[JavaScript File Download] File download through JavaScript not supported in this browser")}B.server.responseHandler({fileDownloaded:true},B);return}catch(w){B.server.responseHandler({reply:{error:{name:"BrowserBlobDownloadFailed",userMessage:"Failed to download file. This could either be a Browser issue or a problem with the file."},fileDownloaded:false}},B);return}}}var C;if(!B.server.unprocessedResponse){if(D){if(z){D=D.target?D.target.result:(D.srcElement?D.srcElement.result:(D.currentTarget?D.currentTarget.result:D))}try{C=JSON.parse(D)}catch(u){B.failed();B.server.transmissionError();return}}else{C={}}}else{C=D}B.server.responseHandler(C,B)},requestCompleted:function(){if(this.responseType==="blob"){if(this.response.type==="application/json"){try{var u=this.message;var n=new Blob([this.response]);var w=new FileReader();w.onload=function(x){k.parseResponse(x,u)};w.onabort=w.onerror=function(){g(u)};w.readAsText(n)}catch(o){g(this.message);return}}else{k.parseResponse(null,this.message)}}else{k.parseResponse(this.responseText,this.message)}},requestFailed:function(){b(this.status,this.message)},webSocketTrouble:function(){if(this.webSocketFirstStrike){d.support.webSockets=false;console.log("All servers falling back from WebSockets to Requests.");this.disableWebSockets()}else{this.webSocketFirstStrike=true}},enableWebSockets:function(){if(!this.webSocketsEnabled&&d.support.webSockets){this.webSocketsEnabled=true;var n=this.servers.list.getIterator();while(n.next()){if(!n.item.usingWebsocketConnection&&n.item.isEligbleForWebSocket()){n.item.initWebSocketConnection()}}}},disableWebSockets:function(){if(this.webSocketsEnabled){this.webSocketsEnabled=false;var n=this.servers.list.getIterator();while(n.next()){if(n.item.usingWebsocketConnection){n.item.initRequestConnection()}}}}};if(d.localSettings.values.webSockets&&d.support.webSockets&&d.config.useWebsockets!==false){k.webSocketsEnabled=true}return k})(I);I.Message=function(c,a,d,g,b){this.job=b;this.method=c?(c.startsWith("/")?c:"/"+c):"";this.input=a;if(I.support.formData&&this.input instanceof FormData){this.isFormDataInput=true;this.contentType="multipart/form-data"}else{this.contentType="application/json;  charset=utf-8"}this.requestMethod="POST";this.replyHandler=d;this.scope=g;this.completed=false;this.obj=null;this.withCredentials=false;this.init()};I.Message.prototype=(function(b){var j=500,d=b.network,a=b.errors,c=1,g={isPing:false,init:function(){this.id=c++},send:function(){var k=d.servers.primary;if(k){this.sendTo(k)}else{b.timeout(0,this.noServer,this)}return this},sendTo:function(k){if(this.button){this.button.startProcessing()}k.sendMessage(this);return this},serialize:function(){if(!this.input){this.input={}}if(this.isFormDataInput){return this.input}else{return JSON.stringify(this.input)}},abort:function(){if(!this.completed){this.wasAborted=true;if(this.obj&&!this.obj.readyState==4){this.obj.abort()}else{this.aborted()}}return this},setTimeout:function(){b.timeout((this.timeoutMs||d.timeoutMs)+j,this.abort,this)},setToast:function(k){if(!this.completed){if(this.toast){this.toast.close()}this.toast=k}},reply:function(k){if(!this.completed){if(this.button){this.button.endProcessing(k,this)}this.completed=true;this.obj=null;if(this.job){this.job.setProgress(100)}if(k.isTempLogInRedirectFix){location.href="/"+k.logInRoute+"?redirect="+k.targetRoute;return}if(this.server){this.server.replyHandler(k,this)}if(this.toast&&this.toast.messageBound!==false){this.toast.messageBound=true}if(this.replyHandler){this.replyHandler.call(this.scope,k,this)}if((!this.server||!this.server.unprocessedResponse)&&k.error){if(k.error.handled){if(this.toast&&this.toast.messageBound){this.toast.alert(500)}}else{if(!this.isPing&&!this.wasAborted){this.toast=b.toaster.error(k.error,undefined,this.toast)}}}else{if(this.toast&&this.toast.messageBound){this.toast.success(500)}}if(this.toast){this.toast.messageBound=undefined}}},aborted:function(){var k=a.messageAborted.replyObj();if(this.isPing){k.error.handled=true}this.reply(k)},connFailed:function(){var k=a.connectionFailed.replyObj();if(this.isPing){k.error.handled=true}this.reply(k)},failed:function(){this.reply(a.requestFailed.replyObj())},serverError:function(){this.reply(a.serverError.replyObj())},applicationDisabled:function(){this.reply(a.applicationDisabled.replyObj())},applicationEnded:function(){this.reply(a.applicationEnded.replyObj())},requestsDisabled:function(){this.reply(a.requestsDisabled.replyObj())},noConnection:function(){this.reply(a.noConnection.replyObj())},noServer:function(){this.reply(a.noServer.replyObj())}};return g})(I);(function(b){var d=b.network,c=b.has(d.getRequestObj().withCredentials),a=function(){return c?new XMLHttpRequest():(b.support.cors?new XDomainRequest():null)};b.support.cors=c||XDomainRequest;if(!b.support.cors){return}d.sendCorsRequest=function(k){var g=a();if(!g){requestFailed.call(g);console.log("Failed to create Cors request object.");return}k.obj=g;g.message=k;g.onload=d.requestCompleted;g.withCredentials=k.withCredentials;g.ontimeout=g.onabort=g.onerror=d.requestFailed;g.open(k.requestMethod,k.server.httpAddress+k.method,true);g.timeout=k.timeoutMs||d.timeoutMs;if(k.responseType){g.responseType=k.responseType}if(k.mimeType&&b.has(g.overrideMimeType)){g.overrideMimeType(k.mimeType)}console.log(k);if(k.server.isSysmo!==false){g.setRequestHeader("SysmoSoftwareRequest","1")}if(c){g.setRequestHeader("Content-Type","text/plain")}try{if(k.input!=null){g.send(k.serialize())}else{g.send()}}catch(j){d.requestFailed.call(g)}}})(I);(function(b){var c=b.network,g=b.state,a=function(){return requestVersion==null?new XMLHttpRequest():new ActiveXObject(requestVersion)},d=function(){if(this.readyState==4){if(this.status>=200&&this.status<300){c.requestCompleted.call(this)}else{c.requestFailed.call(this)}}};c.sendAjaxRequest=function(m){var j=c.getRequestObj();m.obj=j;j.message=m;j.onreadystatechange=d;j.ontimeout=j.onabort=j.onerror=c.requestFailed;j.open(m.requestMethod,m.method,true);j.timeout=m.timeoutMs||c.timeoutMs;if(m.responseType){j.responseType=m.responseType}if(m.mimeType&&b.has(j.overrideMimeType)){j.overrideMimeType(m.mimeType)}if(m.server.isSysmo!==false){j.setRequestHeader("SysmoSoftwareRequest","1")}j.setRequestHeader("Content-Type",m.contentType);try{if(m.input!=null){j.send(m.serialize())}else{j.send()}}catch(k){c.requestFailed.call(j)}}})(I);(function(a){var b=a.network;b.RequestConnection=function(c){this.server=c;if(c.connection){c.connection.end(true)}c.connection=this;c.usingWebsocketConnection=false;this.cors=c.type!==b.serverType.Static;this.pingOnCooldown=false;this.enabled=true;c.establishedConnection()};b.RequestConnection.prototype={fadePingCooldown:function(){if(this.pingOnCooldown){this.pingOnCooldown=false;if(this.enabled&&!this.server.connected){this.connect()}}},disconnect:function(){this.server.lostConnection()},reconnect:function(){this.connect()},end:function(c){if(this.enabled){this.enabled=this.connecting=false;this.server.connection=null;if(this.ping){this.ping.abort()}this.server.lostConnection(c);this.server=null}},pingReceived:function(){if(this.enabled){this.ping=null;if(!this.server.connected){this.server.failedReconnect()}}},connect:function(){if(this.enabled){if(!this.ping&&!this.server.connected&&!this.pingOnCooldown){this.ping=new a.Message("Ping",null,this.pingReceived,this);this.ping.isPing=true;this.ping.sendTo(this.server);this.pingOnCooldown=true;a.timeout(4000,this.fadePingCooldown,this)}}},sendMessage:function(c){if(!this.enabled){a.timeout(0,c.noServer,c);this.server.lostConnection();return}if(c.job){c.job.setProgress(25)}if(this.cors){b.sendCorsRequest(c)}else{b.sendAjaxRequest(c)}}}})(I);(function(a){if(!a.support.webSockets){return}var b=a.network,c=window.WebSocket;b.WebSocket=function(d){this.server=d;if(d.connection){d.connection.end(true)}d.connection=this;d.usingWebsocketConnection=true;this.firstInit=this.enabled=true;this.connectIsOnCooldown=this.connecting=false;this.connect()};b.WebSocket.prototype={fadeCooldown:function(){if(this.connectIsOnCooldown){this.connectIsOnCooldown=false;if(this.connecting){this.connect()}}},abortInit:function(){if(this.readyState!==this.OPEN&&this.initializing){this.onerror=this.onclose=null;this.initializing=false;this.close();this.conn.webSocket=null;if(this.conn.enabled){this.server.failedReconnect();this.conn.connect()}}},onOpen:function(){if(this.initTimeout){clearTimeout(this.initTimeout);this.initTimeout=null}this.conn.firstInit=this.conn.connecting=this.initializing=false;this.server.establishedConnection();console.log("WebSocket opened!")},firstInitFailed:function(){this.server.initRequestConnection();b.webSocketTrouble();console.log("Server falling back from WebSockets to RequestsConnection.")},onClose:function(){if(this.conn.enabled){if(this.initTimeout){clearTimeout(this.initTimeout);this.initTimeout=null}if(this.conn.firstInit){this.conn.firstInitFailed();return}this.conn.webSocket=null;if(this.initializing){this.initializing=false;this.server.failedReconnect();this.conn.connect()}else{if(this.reconnect){this.conn.connect()}else{this.server.lostConnection()}}console.log("WebSocket closed! Because it is reconnecting: "+this.reconnect)}},onMessage:function(n){if(!n||!n.data){this.server.transmissionError();return}var d=n.data,k=d.indexOf("{");if(k===-1){this.server.transmissionError();return}var g=d.substring(0,k),j=d.substring(k),m=this.server.messages.get(g);if(!m){this.server.transmissionError();return}b.parseResponse(j,m)},onError:function(d){if(this.conn.enabled){if(!this.reconnect&&!this.initializing&&this.readyState===this.OPEN){if(!this.conn.firstInit){this.server.transmissionError()}if(this.server.messages.length()===1){this.server.messages.first().failed()}console.log("WebSocket error!")}}},closeWebsocket:function(d){if(this.webSocket&&this.webSocket.readyState!==this.webSocket.CLOSED){this.webSocket.reconnect=!!d;this.webSocket.close()}else{if(d){this.connect()}}},end:function(d){if(this.enabled){this.connecting=this.enabled=false;this.closeWebsocket();this.server.connection=null;this.server.lostConnection(d);this.server=null}},disconnect:function(){this.closeWebsocket()},reconnect:function(){this.closeWebsocket(true)},connect:function(){if(this.enabled&&(!this.webSocket||this.webSocket.readyState===this.webSocket.CLOSED)){this.connecting=true;if(!this.connectIsOnCooldown){this.connectIsOnCooldown=true;a.timeout(4000,this.fadeCooldown,this);try{this.webSocket=new c(this.server.wsAddress);this.webSocket.initializing=true;this.webSocket.reconnect=false;this.webSocket.conn=this;this.webSocket.server=this.server;this.webSocket.initTimeout=a.timeout(b.timeoutMs,this.abortInit,this.webSocket);this.webSocket.onerror=this.onError;this.webSocket.onopen=this.onOpen;this.webSocket.onmessage=this.onMessage;this.webSocket.onclose=this.onClose}catch(d){if(this.webSocket){this.onError.call(this.webSocket)}else{this.firstInitFailed()}}}}},sendMessage:function(d){if(!this.enabled||!this.webSocket||this.webSocket.readyState!=this.webSocket.OPEN){a.timeout(0,d.noServer,d);this.server.lostConnection();return}if(d.job){d.job.setProgress(25)}this.webSocket.send(d.method+"#"+d.id+d.serialize())}}})(I);(function(a){var b=a.network;b.SendTo=function(n,j,g,k,m){b.SendMessageTo(n,new a.Message(j,g,k,m))};b.SendMessageTo=function(m,g){var k={name:"OneMessageServer",type:b.serverType.Dedicated,isLive:false,syncRequired:false,isPrimary:false,URL:m,key:null,id:-10,notifyOnReconnect:false,withCredentials:true,unprocessedResponse:true,singleUse:true};var j=new b.Server(k);j.sendMessage(g)};b.Server=function(j){if(!j||j===true){this.name="Global Server";this.type=b.serverType.Static;this.httpAddress="";this.wsAddress="ws://"+window.location.host+"/WS";this.id=-1;this.prefferedConnection=b.prefferedConnection.ClientChoice;this.isGreeter=true;this.isSysmo=true;if(j===true){this.isLive=true;this.syncRequired=false;this.isPrimary=true}}else{this.name=j.name;this.type=j.type;this.finder=j.finder;this.isLive=j.isLive;this.syncRequired=j.syncRequired;this.isPrimary=j.isPrimary;this.isSysmo=j.isSysmo;var g=window.location.protocol;if(j.URL.startsWith("http://")){j.URL=j.URL.substring(7);if(g==="http:"){this.httpAddress="http://"+j.URL}else{console.log("The page at was loaded over HTTPS, but requested an insecure endpoint. Endpoint protocol was automatically switched to HTTPS, but this might not work.");this.httpAddress="https://"+j.URL;this.protocolForceUpgraded=true}}else{if(j.URL.startsWith("https://")){j.URL=j.URL.substring(8);this.httpAddress="https://"+j.URL}}this.wsAddress="ws://"+j.URL+"/WS";this.key=j.key;this.id=j.id;this.toast=j.toast;this.notifyOnReconnect=j.notifyOnReconnect;if(!j.prefferedConnection){this.prefferedConnection=b.prefferedConnection.ClientChoice}}this.withCredentials=j.withCredentials||false;this.unprocessedResponse=j.unprocessedResponse;this.singleUse=j.singleUse;this.messages=a.C();this.isInSync=false;this.enabled=true;this.numErrors=this.reconnectAttempt=0;b.servers.list.add(this);if(this.isPrimary){b.servers.setPrimary(this)}this.connect()};var c=function(g){if(this.syncing){this.sync_RetryTimer=a.timeout(4000,d,this)}},d=function(){if(this.syncing){this.send("Host/Sync",null,c,this)}};b.Server.prototype={syncing:false,sync:function(){if(this.enabled&&!this.syncing){this.syncing=true;d.call(this)}},receivedSync:function(g){this.cancelSync();this.isInSync=true},cancelSync:function(){if(this.syncing){this.syncing=false;if(this.sync_RetryTimer){clearTimeout(this.sync_RetryTimer)}}},send:function(m,g,n,o,j){var k=new a.Message(m,g,n,o,j);this.sendMessage(k);return k},sendMessage:function(g){if(!g.sent&&!g.completed){if(g.job){g.job.setProgress(15)}if(!a.state.enabled){if(a.state.ended){a.timeout(0,g.applicationEnded,g)}else{a.timeout(0,g.applicationDisabled,g)}return}if(!this.enabled){a.timeout(0,g.requestsDisabled,g);return}if(this.connection){if(this.withCredentials){g.withCredentials=true}if(this.protocolForceUpgraded){g.protocolForceUpgraded=true}a.call.raise("Message_Sending",g);this.messages.add(g.id,g);g.server=this;g.sent=true;this.connection.sendMessage(g)}else{a.timeout(0,g.noServer,g)}}},failAllMessages:function(){if(this.messages){var g=this.messages.getIterator(true);while(g.prev()){g.item.failed()}}},responseHandler:function(j,g){g.server.transmissionSuccess();if(this.unprocessedResponse){g.reply(j);return}this.pushHandler(j.push,g);if(!j.reply){g.reply({})}else{g.reply(j.reply)}},replyErrorHandler:function(g,j){switch(g.name){case"FailedUserAuthentication":a.user.authenticationFailed();break;case"InvalidUserSessionKey":a.user.removeKey();break;case"TooManySessions":this.tooManySessions();break;case"ServerTransfer":if(this.finder){this.finder.findNew()}break;case"SessionExpired":if(this.finder){this.finder.findNew()}break;case"NoValidServerSessionKey":if(this.finder){this.finder.findNew()}break;case"ServerInactive":if(this.finder){this.finder.findNew()}break}return g},tooManySessions:function(){a.state.end();this.end();a.toaster.alert("Your account has too many active sessions. This session has been closed.","Restart the application to continue.",0)},replyHandler:function(j,g){try{this.completeMessage(this);if(!j){j={}}else{if(j.error){j.error=new a.ServerError(j.error);j.error=this.replyErrorHandler(j.error,g)}}}finally{if(this.singleUse){this.end()}}},pushHandler:function(n,m){if(!n){return}if(n.userSession){a.user.newSession(n.userSession)}if(n.server){b.servers.primaryFinder.newServer(n.server)}if(n.serverSession){this.newSession(n.serverSession)}if(n.currentUser){a.user.newUser(n.currentUser,m)}if(n.pack){a.Package.unpack(n.pack)}if(n.init){a.lists.subscriptions.fill(n.init.subscriptions);var j=n.init.newestPosts,g;if(j){for(var o=0,k=j.length;o<k;o++){g=j[o];g.isItem=true;g.picture=g.type===1?g.url:("http://img.youtube.com/vi/"+g.youtubeId+"/1.jpg")}}a.lists.items.addItems(j);a.lists.newestPosts.fill(j)}if(n.sync){this.receivedSync(n.sync)}if(n.failedUserAuthentication.Value){a.user.removeKey()}},completeMessage:function(g){this.messages.remove(g.id)},newSession:function(g){this.key=g.key},connect:function(){if(this.enabled){if(this.connection){this.attemptReconnect()}else{this.initDefaultConnection()}}},end:function(j){if(this.enabled){this.enabled=false;console.log("Ending server connection: "+this.name);try{this.cancelSync();if(this.connection){this.connection.end()}}catch(g){console.log("Error while ending server: "+g)}try{this.failAllMessages()}catch(g){console.log("Error while ending server: "+g)}b.servers.list.removeItem(this);if(this.finder&&!j){this.finder.toast=this.toast;this.finder.notifyOnReconnect=this.notifyOnReconnect;this.finder.find()}}},establishedConnection:function(){if(!this.connected){this.connected=true;this.numErrors=this.reconnectAttempt=0;if(this.notifyOnReconnect){this.notifyOnReconnect=false;this.toast=a.toaster.success("Reconnected to server.",null,4000,this.toast)}if(a.state.userIsLoaded&&this.syncRequired&&!this.isInSync){this.sync()}}},lostConnection:function(g){if(this.isSysmo&&!this.singleUse&&(this.connected||!this.connection||!this.connection.enabled)){this.connected=false;this.cancelSync();if(!g){this.connect()}}},attemptReconnect:function(){if(this.enabled&&!this.connected){this.reconnectAttempt++;this.connection.reconnect()}},failedReconnect:function(){if(this.enabled&&!this.connected){if(this.reconnectAttempt>3){this.reconnectAttempt=0;if(this.finder){this.end()}else{this.connection.end()}}else{this.notifyOnReconnect=true;this.attemptReconnect()}}},transmissionError:function(){if(this.connected){this.numErrors++;if(this.numErrors>3){this.notifyOnReconnect=true;this.toast=a.toaster.alert("Server error received.","Checking connection...",5000,this.toast);if(this.finder){this.end()}else{this.connection.end()}}}},transmissionSuccess:function(){this.numErrors=0;if(!this.usingWebSocket){this.establishedConnection()}},isEligbleForWebSocket:function(){return b.webSocketsEnabled&&this.isLive&&(this.prefferedConnection===b.prefferedConnection.ClientChoice||this.prefferedConnection===b.prefferedConnection.WebSocket)},initDefaultConnection:function(){if(this.isEligbleForWebSocket()){this.initWebSocketConnection()}else{this.initRequestConnection()}},initWebSocketConnection:function(){if(this.enabled){new b.WebSocket(this)}},initRequestConnection:function(){if(this.enabled){new b.RequestConnection(this)}}}})(I);(function(d){var g=d.network,j=g.servers;g.ServerFinder=function(k){this.isPrimary=k};var a=function(){if(this.find_onCooldown){this.find_onCooldown=false;if(this.find_waiting){this.find_waiting=false;c.call(this)}}},c=function(){if(this.finding){if(this.find_onCooldown){this.find_waiting=true}else{d.greet("Server/Find",this.server?{previousServer:this.server.id,serverKey:this.server.key}:null,b,this);this.find_onCooldown=true;d.timeout(4000,a,this)}}},b=function(m){if(this.isPrimary){var k=d.authentication;if(k){if(m.error){if(m.error.name=="failedUserAuthentication"){d.user.removeKey()}k.initAnonymous()}}}if(m.server){this.newServer(m.server)}else{if(this.finding){c.call(this)}}};g.ServerFinder.prototype={finding:false,cancelFind:function(){if(this.finding){this.find_waiting=this.finding=false}},find:function(){if((!this.server||!this.server.enabled)&&!this.finding){this.finding=true;c.call(this)}},findNew:function(){this.server.end();this.find()},newServer:function(k){if(this.server){this.server.end()}this.finding=false;k.finder=this;k.isLive=true;k.syncRequired=true;k.isPrimary=!!this.isPrimary;k.type=g.serverType.Dynamic;k.toast=this.toast;k.notifyOnReconnect=this.notifyOnReconnect;this.server=new g.Server(k);this.cancelFind()}}})(I);(function(a){var b=a.network;var c={list:a.AL(),setPrimary:function(d){if(this.primary&&this.primary!==d){this.primary.end(true)}this.primary=d;a.state.raiseConnected()}};b.servers=c;a.greet=function(){c.greeter.send.apply(c.greeter,arguments)};a.send=function(k,d,m,n,g){if(c.primary){return c.primary.send(k,d,m,n,g)}else{var j=new a.Message(k,d,m,n,g);a.timeout(0,j.noServer,j);return j}};a.state.onInterfaced(function(){if(a.config.primary_useDedicatedGreeter){c.greeter=new a.network.Server(true);c.setPrimary(c.greeter)}else{c.greeter=new a.network.Server();if(a.config.primary_useDynamicServer){c.primaryFinder=new b.ServerFinder(true);c.primaryFinder.find()}else{c.setPrimary(c.greeter)}}})})(I);(function(a){var b=function(d,g){var c;if(window.Audio){return function(){if(a.audioEnabled!==true){return}try{if(!c){c=new Audio(d);c.volume=g||0.5}c.play()}catch(j){console.log("Audio failed: "+d)}}}else{return function(){console.log("HTML5 Audio not supported: "+d)}}};a.audio={playSwoosh:b("/Public/Sounds/Swoosh.mp3",0.5),playClick:b("/Public/Sounds/Click.mp3",0.45),playSuccess:b("/Public/Sounds/Success.mp3",0.4),playTick:b("/Public/Sounds/Tick.mp3",0.45),playTock:b("/Public/Sounds/Tock.mp3",0.45),playSlap:b("/Public/Sounds/Slap.mp3",0.45),playError:b("/Public/Sounds/Error.mp3",0.45),playBleep:b("/Public/Sounds/BleepCheck.mp3",0.45),playCoin:b("/Public/Sounds/Coin.mp3",0.45),playCoinCollect:b("/Public/Sounds/CoinCollect.mp3",0.65)}})(I);I.Color=function(a,b,c,d){this.init(a,b,c,d)};I.Color.toHex=function(d,c,a){return"#"+[Math.round(d).toString(16),Math.round(c).toString(16),Math.round(a).toString(16)].join(",").replace(/\b(\w)\b/gi,"0$1").toUpperCase().replace(/,/g,"")};I.Color.toRGB=function(k,j,d,c){if(c===1){return"rgb("+Math.round(k)+","+Math.round(j)+","+Math.round(d)+")"}else{return"rgba("+Math.round(k)+","+Math.round(j)+","+Math.round(d)+","+c+")"}};I.Color.toHSV=function(d,c,a){min=Math.min(d,c,a);max=Math.max(d,c,a);v=max;delta=max-min;if(max!=0){s=delta/max}else{s=0;h=-1;return[h,s,undefined]}if(d===max){h=(c-a)/delta}else{if(c===max){h=2+(a-d)/delta}else{h=4+(d-c)/delta}}h*=60;if(h<0){h+=360}if(isNaN(h)){h=0}return{h:h,s:s,v:v}};I.Color.toHSL=function(u,j,a){u/=255,j/=255,a/=255;var n=Math.max(u,j,a),o=Math.min(u,j,a);var k,w,m=(n+o)/2;if(n==o){k=w=0}else{var c=n-o;w=m>0.5?c/(2-n-o):c/(n+o);switch(n){case u:k=(j-a)/c+(j<a?6:0);break;case j:k=(a-u)/c+2;break;case a:k=(u-j)/c+4;break}k/=6}return{h:k,s:w,l:m}};I.Color.HSVtoRGB=function(j){var k;var d,n,o,m,c,a;d=j.h;n=j.s;o=j.v;if(n===0){m=c=a=o;return new I.Color(m,c,a)}d/=60;k=Math.floor(d);f=d-k;p=o*(1-n);q=o*(1-n*f);t=o*(1-n*(1-f));switch(k){case 0:m=o;c=t;a=p;break;case 1:m=q;c=o;a=p;break;case 2:m=p;c=o;a=t;break;case 3:m=p;c=q;a=o;break;case 4:m=t;c=p;a=o;break;default:m=o;c=p;a=q;break}return new I.Color(m,c,a)};I.Color.huetoRGB=function(a,b,c){if(c<0){c+=1}if(c>1){c-=1}if(c<1/6){return a+(b-a)*6*c}if(c<1/2){return b}if(c<2/3){return a+(b-a)*(2/3-c)*6}return a};I.Color.HSLtoRGB=function(j){var k=I.Color.huetoRGB;var d,w,m,u,c,a;d=j.h;w=j.s;m=j.l;if(w==0){u=c=a=m}else{var o=m<0.5?m*(1+w):m+w-m*w;var n=2*m-o;u=k(n,o,d+1/3);c=k(n,o,d);a=k(n,o,d-1/3)}return new I.Color(u*255,c*255,a*255)};(function(){I.Color.random=function(){return new I.Color(I.util.random(0,255),I.util.random(0,255),I.util.random(0,255))}})();I.Color.prototype={isColor:true,init:function(g,j,k,n){if(j!=null&&k!=null){this.r=g;this.g=j;this.b=k;this.a=I.has(n)?n:1;return}var d=this.regHex.exec(g+"");if(d){var c=d[1];if(c.length===3){c=c.replace(/(.)/g,"$1$1")}this.r=parseInt(c.substring(0,2),16);this.g=parseInt(c.substring(2,4),16);this.b=parseInt(c.substring(4,6),16);this.a=1}else{d=this.regRGB.exec(g+"");if(d){this.r=parseInt(d[1],10);this.g=parseInt(d[2],10);this.b=parseInt(d[3],10);var b=d[4];if(b||b===0){this.a=parseFloat(b,10)}else{this.a=1}}else{this.isColor=false}}},shade:function(b){var c=b<0?0:255;var a=b<0?b*-1:b;this.r=(Math.round((c-this.r)*a)+this.r);this.g=(Math.round((c-this.g)*a)+this.g);this.b=(Math.round((c-this.b)*a)+this.b)},saturate:function(d){var j=d<0?0:255;var c=d<0?d*-1:d;var a=I.Color.toHSV(this.r,this.g,this.b);if(d>0){var g=1-a.s;a.s+=g*d}else{var g=a.s;a.s+=g*d}var b=I.Color.HSVtoRGB(a);this.r=b.r;this.g=b.g;this.b=b.b},brighten:function(g,j){var c;if(j>0){var m=255;var d=j;var b=I.Color.toHSV(this.r,this.g,this.b);if(g>0){var k=1-b.s;b.s+=k*g}else{var k=b.s;b.s+=k*g}b.v=(Math.round((m-b.v)*d)+b.v);c=I.Color.HSVtoRGB(b)}else{var d=j*-1;var a=I.Color.toHSL(this.r,this.g,this.b);if(a.h!=0){if(g>0){var k=1-a.s;a.s+=k*g}else{var k=a.s;a.s+=k*g}}a.l-=(a.l*d);c=I.Color.HSLtoRGB(a)}this.r=c.r;this.g=c.g;this.b=c.b},luminance:function(){return(0.2126*this.r+0.7152*this.g+0.0722*this.b)},regHex:/^#?(([\dA-F]{3}){1,2})$/i,regRGB:/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d*.?\d*)\s*\)$/i,toHex:function(){return I.Color.toHex(this.r,this.g,this.b)},toRGB:function(){return I.Color.toRGB(this.r,this.g,this.b,this.a)},copy:function(){return new I.Color(this.r,this.g,this.b,this.a)},equals:function(a){if(!a){return false}return this.r===a.r&&this.g===a.g&&this.b===a.b&&this.a===a.a}};I.Transform=function(){this.matrices=[];this.add.apply(this,arguments)};I.Transform.prototype={add:function(j,k){if(j){if(typeof j==="string"){if(I.has(k)){this.addMatrix({fn:j,vars:Array.prototype.slice.call(arguments,1),unit:this.getUnit(j)||""})}else{var g,a=0,b;while(true){g=j.indexOf("(",a);if(g===-1){break}else{b=j.substring(a,g).trim();a=j.indexOf(")",g);this.addMatrix({fn:b,vars:j.substring(g+1,a).split(",").map(I.util.mapParseFloat),unit:this.getUnit(b)||""});a++}}}}else{if(j instanceof I.Transform){for(var d=0,c=j.matrices.length;d<c;d++){this.addMatrix(j.matrices[d])}}}}return this},remove:function(a){for(var c=0,b=this.matrices.length;c<b;c++){if(this.matrices[c].fn==a){this.matrices.splice(c,1);return this}}return this},addMatrix:function(b){for(var c=0,a=this.matrices.length;c<a;c++){if(this.matrices[c].fn==b.fn){this.matrices[c].vars=b.vars;return}}this.matrices.push(b)},getUnit:function(b){var a=b[0];if(a==="t"){return"px"}else{if(a==="r"||a==="s"&&b[1]==="k"){return"deg"}}},css:function(){var d="",b,g;for(var c=0,a=this.matrices.length;c<a;c++){b=this.matrices[c];if(!b.vars){continue}g=(b.fn==="rotate3d")?"px,":(b.unit+",");d+=b.fn+"("+b.vars.join(g)+b.unit+") "}return d},toString:function(){return this.css()}};I.css=(function(c){var m=c.support,b=c.has,k=/([A-Z])/g,j=["radius","top","left","bottom","right","width","height"],d=function(n){var o=j.length;while(o--){if(n.endsWith(j[o])){return true}}return false},a=function(n,u){if(c.util.isSafari){var o;if(!u){if(n.acc){o=n.I;if(o){n.acc=false;o.removeClass("acc")}}}else{if(!n.acc){o=n.I;if(o){n.acc=true;o.addClass("acc")}}}}},g={prefixed:{},prefixes:["webkit","Moz","O","ms","Khtml"],addToPrefixed:function(u){if(this.prefixed[u]){return this.prefixed[u]}var n=document.body;if(b(n.style[u])){this.prefixed[u]=u}var x,o,w=u.firstToUpper();for(o=this.prefixes.length,x=0;x<o;x++){if(b(n.style[this.prefixes[x]+w])){this.prefixed[u]=this.prefixes[x]+w}}return false},toDashed:function(o){var n=this.prefixed[o];if(n&&o!==n){o=n;if(o.firstIsLower()){o="-"+o}}return o.replace(k,"-$1").toLowerCase()},getFn:function(n){var o=this[n];if(o){return o}var u=n.toLowerCase();if(d(u)){return this.px}if(u.endsWith("color")){return this.color}return this.normal},reset:function(u,w,n){var o=this.getFn(n);if(u&&o.call(this,u,n)!==""){o.call(this,u,n,"")}},normal:function(o,n,u){if(b(u)){o.style[n]=u}else{u=o.style[n];return u?u:getComputedStyle(o,null)[n]}},transition:function(o,n,w){var u=this.prefixed.transition;if(u){if(!o){return}if(b(w)){o.style[u]=w;a(o,w)}else{return o.style[u]}}else{return null}},transform:function(o,n,w){var u=this.prefixed.transform;if(u){if(b(w)){o._I.currentTransformGoal=null;if(this.usingTransforms){if(w instanceof c.Transform){o.style[u]=w.css()}else{o.style[u]=w}a(o,w)}}else{if(o._I&&o._I.currentTransformGoal){return o._I.currentTransformGoal}return o.style[u]}}},addTransform:function(u,n,w){var o;if(u._I&&u._I.currentTransformGoal){o=u._I.currentTransformGoal;u._I.currentTransformGoal=null}else{o=this.transform(u)}this.transform(u,undefined,new c.Transform(o).add(w))},removeTransform:function(u,n,w){var o;if(u._I&&u._I.currentTransformGoal){o=u._I.currentTransformGoal;u._I.currentTransformGoal=null}else{o=this.transform(u)}this.transform(u,undefined,new c.Transform(o).remove(w))},backgroundImage:function(o,n,u){if(b(u)){o.style.backgroundImage="url('"+u+"')"}else{u=this.normal(o,n);return u.substring(4,u.length-1)}},color:function(o,n,u){if(b(u)){if(u instanceof c.Color){o.style[n]=u.toRGB()}else{o.style[n]=u}}else{return this.normal(o,n,u)}},px:function(o,n,u){if(b(u)){o.style[n]=u===""?"":Math.round(u)+"px"}else{return parseInt(this.normal(o,n),10)||0}},pos:function(u,n,w,z){if(b(w)||b(z)){if(this.usingTransforms){var o=this.transform.call(this,u);this.transform(u,undefined,new c.Transform(o).add("translate",w,z))}else{if(w!=null){this.left(u,undefined,w)}if(z!=null){this.top(u,undefined,z)}}}else{return{left:this.left(u,n),top:this.top(u,n)}}},left:function(o,n,u){if(b(u)){o.style.left=u===""?"":u+"px"}else{u=o.style.left;u=u?parseFloat(u):parseFloat(o.offsetLeft)||0;return Math.round(u)}},top:function(o,n,u){if(b(u)){o.style.top=u===""?"":u+"px"}else{u=o.style.top;u=u?parseFloat(u):parseFloat(o.offsetTop)||0;return Math.round(u)}},width:function(o,n,u){if(b(u)){o.style.width=u===""?"":Math.round(u)+"px"}else{u=o.style.width;return Math.round(parseFloat(u?u:getComputedStyle(o,null).width))}},height:function(o,n,u){if(b(u)){o.style.height=u===""?"":Math.round(u)+"px"}else{u=o.style.height;return Math.round(parseFloat(u?u:getComputedStyle(o,null).height))}},opacity:function(o,n,u){if(m.opacity){if(b(u)){if(o.style.position==="static"){console.log("WARNING: opacity set on static element | doesn't work in IE | #"+o.id+" class:"+o.className)}u+="";o.style.opacity=u===""?"":u.length>4?u.substring(0,5):u}else{u=this.normal(o,n,u);return u===""?1:parseFloat(u)}}else{console.log("val "+u);if(b(u)){o.style.filter=u===""?"":"alpha(opacity:"+Math.round(u*100)+")"}else{if(o.filters.alpha){u=o.filters.alpha.opacity;return u===""?1:parseInt(u,10)/100}else{return 1}}}}};g.addToPrefixed("transition");m.transitions=!!g.prefixed.transition;g.addToPrefixed("transform");m.transforms=!!g.prefixed.transform;g.usingTransforms=m.transforms&&c.localSettings.values.transforms&&c.localSettings.values.hardware;return g})(I);I.Interface.prototype.extend((function(){var a=function(d){if(d.blink.times){this.blink(d.blink.style,d.blink.color,d.blink.interval,d.blink.times)}},c=function(d){I.timeout(d.blink.timeout,b,this,d)},b=function(d){var g={},j;g[d.blink.style]="";if(d.blink.times){--d.blink.times}j=new I.Animation(this,g,d.blink.interval,null,a,this);j.blink=d.blink};return{blink:function(m,j,k,o,n){var g={},d;g[m]=j;if(n){d=new I.Animation(this,g,k,null,c,this)}else{d=new I.Animation(this,g,k,null,b,this)}d.blink={style:m,color:j,interval:k,times:o,timeout:n}},badWidth:function(){return this.fullWidth()-this.width()},badHeight:function(){return this.fullHeight()-this.height()},fullWidth:function(){return this.html.offsetWidth},fullHeight:function(){return this.html.offsetHeight},pos:function(d,g){return this.css("pos",d,g)},width:function(d){return this.css("width",d)},height:function(d){return this.css("height",d)},left:function(d){return this.css("left",d)},right:function(d){return this.css("right",d)},top:function(d){return this.css("top",d)},bottom:function(d){return this.css("bottom",d)},zIndex:function(d){return this.css("zIndex",d)},show:function(){this.stop("opacity");this.css("reset","display");this.css("reset","opacity");if(this.css("display")==="none"){this.css("display","inline-block")}if(this.css("opacity")<1){this.css("opacity",1)}return this},hide:function(){this.stop("opacity");this.css("display","none");this.css("reset","opacity");return this},css:function(d,j,k){var g;if(d==="reset"){this.stop(j,false)}else{if(I.has(j)){this.stop(d,false)}}if(this.html){g=I.css.getFn(d).call(I.css,this.html,d,j,k)}if(I.has(g)){return g}else{return this}}}})());I.Animation=function(){this.init.apply(this,arguments)};I.Animation.prototype=(function(g){var a=g.Animation,b=g.Color,n=g.Transform,c=g.css;var d=g.scope(c.transition,c),m=g.scope(c.toDashed,c);var k=(function(y){var u=[],o=false,w=y.requestAnimationFrame,x=function(E){if(o){w(x);var B=u.length,z,C,D,A;while(B--){z=u[B];D=E-z.startTime;if(D>=z.duration){z.finish(false);return}A=D/z.duration;C=z.pairs.length;while(C--){z.pairs[C].incrFn(A)}}}};return{add:function(A){if(!w.ready){var z=this;w.onready(function(){z.add(A)});return}A.startTime=w.now();u.push(A);if(!o){o=true;w(x)}},remove:function(z){u.spliceObj(z);if(u.length===0){o=false}}}})(window);var j={init:function(y,x,o,A,u,w,z){this.finished=false;this.i=y;this.pairs=[];this.duration=o;this.usingTransitions=a.usingTransitions;this.goals=x;this.endFn=u;this.endScope=g.has(w)?w:this;if(this.usingTransitions){this.timingFn=A||"";this.createPairs();g.timeout(0,this.doPrepWorkAfterDraws,this)}else{this.duration-=17;if(this.duratation<0){this.duration=0}g.timeout(0,this.addToPixelEngineAfterDraws,this)}},createPairs:function(){for(var o in this.goals){if(this.goals.hasOwnProperty(o)){var u=this.goals[o];if(u!=null){this.createPair(o,u)}}}this.goals=null;if(!this.i.animations){this.i.animations=g.AL()}this.i.animations.add(this)},createPair:function(u,z,o){if(!this.usingTransitions&&u==="transform"){this.i.stop(u,false);this.i.css(u,z);return}if(u==="pos"){if(c.usingTransforms){this.i.stop("transform",false);var x=this.i.currentTransformGoal||this.i.css("transform");this.i.currentTransformGoal=new n(x).add("translate",z.left,z.top);this.createPair("transform",this.i.currentTransformGoal)}else{this.createPair("left",z.left);this.createPair("top",z.top)}return}else{if(u==="addTransform"&&typeof z==="string"){this.i.stop("transform",false);var x=this.i.currentTransformGoal||this.i.css("transform");this.i.currentTransformGoal=new n(x).add(z);this.createPair("transform",this.i.currentTransformGoal);return}}this.i.stop(u,false);var D=c.getFn(u);if(this.usingTransitions){if(z instanceof n){z=z.css()}else{if(z instanceof b){z=z.toRGB()}}this.pairs.push({attr:u,goal:z,setFn:D})}else{var B=this.i,A=B.html;if(!A){return}var w=D.call(c,A,u);if(z===""&&!o){D.call(c,A,u,"");this.hasReset=true;g.timeout(0,function(){requestAnimationFrame(g.scope(function(){if(B.html){var E=D.call(c,B.html,u);D.call(c,B.html,u,w);this.createPair(u,E,true)}},this))},this);return}if(u.toLowerCase().endsWith("color")){var y=(z&&z instanceof b)?z:new b(z),C=new b(w);this.pairs.push({reset:o,attr:u,setFn:D,start:C,goal:y.toRGB(),rD:y.r-C.r,gD:y.g-C.g,bD:y.b-C.b,aD:y.a-C.a,incrFn:function(E){if(B.html){this.setFn.call(c,B.html,this.attr,b.toRGB(this.start.r+(E*this.rD),this.start.g+(E*this.gD),this.start.b+(E*this.bD),this.start.a+(E*this.aD)))}}})}else{this.pairs.push({attr:u,setFn:D,start:w,goal:z,distance:z-w,incrFn:function(E){if(B.html){this.setFn.call(c,B.html,this.attr,this.start+(E*this.distance))}}})}}},addToPixelEngineAfterDraws:function(){requestAnimationFrame(g.scope(this.addToPixelEngine,this))},addToPixelEngine:function(){this.createPairs();k.add(this)},doPrepWorkAfterDraws:function(){requestAnimationFrame(g.scope(this.setTranstionAndWaitForDraws,this))},setTranstionAndWaitForDraws:function(){if(!this.prepDone){this.prepDone=true;this.setTransition();g.timeout(0,this.waitForDraws,this);g.timeout(60,this.activateTransition,this)}},waitForDraws:function(){requestAnimationFrame(g.scope(this.activateTransition,this))},setTransition:function(){var o=this.i.animations.getIterator(),x,u,w,y="";while(o.next()){for(x=0,u=o.item.pairs.length;x<u;x++){w=o.item.pairs[x];y+=m(w.attr)+" "+o.item.duration+"ms "+o.item.timingFn+", "}}if(this.i.html){d(this.i.html,null,y.length>2?y.substring(0,y.length-2):"")}},activateTransition:function(){if(!this.transitionActivated){this.transitionActivated=true;if(!this.finished){var u=this.i.html,w=this.pairs.length,x,o;if(u){for(x=0;x<w;x++){o=this.pairs[x];o.setFn.call(c,u,o.attr,o.goal)}}requestAnimationFrame(g.scope(this.setStopTimer,this))}}},setStopTimer:function(){this.timer=g.timeout(this.duration,this.finish,this)},stop:function(o){if(!this.finished){o=!!o;var w=this.i.html,x=this.pairs.length,y,u;if(w){if(this.usingTransitions){this.duration=0;this.setTransition()}if(o){for(y=0;y<x;y++){u=this.pairs[y];u.setFn.call(c,w,u.attr,u.goal);if(u.attr==="transform"){this.i.currentTransformGoal=null}}}else{if(this.usingTransitions){for(y=0;y<x;y++){u=this.pairs[y];u.setFn.call(c,w,u.attr,c.normal(w,u.attr))}}}}this.finish(true)}},finish:function(w){if(!this.finished){this.finished=true;this.i.animations.removeItem(this);if(this.usingTransitions){if(this.i.html){this.setTransition();clearTimeout(this.timer)}}else{k.remove(this);if(this.hasReset&&this.i.html){for(var u=0,o=this.pairs.length;u<o;u++){e=this.pairs[u];if(e.reset){e.setFn.call(c,this.i.html,e.attr,"")}}}}if(this.endFn){this.endFn.call(this.endScope,this,!w)}}}};a.useTransitionEngine=function(){if(g.support.transitions){this.usingTransitions=true}};a.usePixelEngine=function(){this.usingTransitions=false};if(g.support.transitions&&g.localSettings.values.transitions&&g.localSettings.values.hardware){a.useTransitionEngine()}else{a.usePixelEngine()}return j})(I);(function(d){var j;try{var b=new WheelEvent("wheel");if(b){j="onwheel"}}catch(a){}if(!j&&document.onmousewheel!==undefined){j="onmousewheel"}if(!j){j="DOMMouseScroll"}var c=function(k,m){if(k.wheelDeltaY!==undefined){k.dirY=k.wheelDeltaY>0}else{if(k.deltaY!==undefined){k.dirY=k.deltaY<0}else{if(k.wheelDelta!==undefined){k.dirY=k.wheelDelta>0}else{k.dirY=k.detail<0}}}if(k.wheelDeltaX!==undefined){k.dirX=k.wheelDeltaX>0}else{if(k.deltaX!==undefined){k.dirX=k.deltaX<0}else{k.dirX=k.dirY}}k.dirY=k.dirY?1:-1;k.dirX=k.dirX?1:-1;this.actions.wheelRaise.call(this,k,m)};var g=d.Interface.prototype;g.actions.wheel=d.q("qWheel");g.actions.wheelRaise=d.qRaise("qWheel");g.wheel=function(k,n,m){if(!m){if(k!=null){if(!this.e||!this.e[j]){this.on(j,c,this)}}else{c.call(this);return this}}return this.actions.wheel.call(this,k,n,m)};d.state.onDocLoad(function(){if(d.config.stopScrollPropegation){d.doc.wheel(function(k,n){if(n){var m;while(true){while(n&&n.nodeType!==11&&n.scrollHeight<=n.clientHeight){n=n.parentNode}if(n&&n.nodeType!==11){m=d(n);if(m==d.body||m==d.doc||m==d.window){return}var o=m.css("overflowY");if(o=="auto"||o=="scroll"){break}else{n=n.parentNode}}else{return}}if((k.dirY>0&&m.scrollTop()==0)||(k.dirY<0&&(m.scrollTop()+n.clientHeight)==n.scrollHeight)){k.preventDefault();k.stopPropagation();k.returnValue=false;return false}}})}})})(I);I.mouseMove=(function(k){var m,c,d,a,b,j,n,o,u,w,B=0,z,g,C,A=function(D){if(x.is){B++;if(B>2&&!w){if(!u||!u.html){u=k("#MouseMoveTrapOverlay")}w=true;u.show()}if(!g||B>g){D._offsetX=D.realX-n;D._offsetY=D.realY-o;a.call(b,D)}}},y=function(){},x={is:false,emergencyOverlay:function(){if(x.is){w=true;if(u&&u.html){u.show()}}},start:function(F,J,D,E,G,H,K){if(x.is){x.end()}k.page.deselect();this.obj=m=J;x.is=true;c=G;d=H;a=D;b=E;g=K;n=F.realX-F.offsetX;o=F.realY-F.offsetY;if(!z){if(k.util.isTridentEngine){z=A}else{z=k.framedFPSThrottle(60,A,x)}}k.doc.on("onmousemove",z,x);document.onmouseup=x.end;F.preventDefault();F.returnValue=false;if(!J||document.activeElement!==J.html){document.activeElement.blur()}},end:function(D){if(x.is){if(u&&u.html){u.hide()}w=false;B=0;if(!k.util.isTridentEngine){z(true)}k.doc.removeEvent("onmousemove",z,x);document.onmouseup=null;x.is=false;this.obj=m=null;if(c){c.call(d,D)}}},endObj:function(D){if(m==D){x.end()}},cancelIf:function(D){if(x.is&&m===D){x.end()}}};return x})(I);I.LoadBar=function(b,a){this.initParent(b);this.delayForShow=(a===false||a===0)?0:(a||400);this.progressBar=this.child(0);this.candy=this.progressBar.child(0);this.isDone=true;this._changeIncrement=0;return this};I.LoadBar.createHTMLString=function(a,b){return"<div id='"+(a==null?"":a)+"' class='loadBar custom' style='display: none'><div class='loadBarProgress'><div class='loadBarCandy'></div></div></div>"};I.LoadBar.create=function(a,b){return new I.LoadBar(I.LoadBar.createHTMLString(a),b==null?null:(b.delayForShow===false?false:b.delayForShow))};I.LoadBar.inherit(I.Interface,(function(b){var a=function(){var g=this._crawlToTarget;if(g>this._progress){var j=this.width();var d=j*g/100;this.progressBar.animate({width:d},this._crawlToTime||4000)}this._crawlToTarget=null},c=function(){if(this.loadBar._crawlToTarget!=null&&this.changeIncrement==this.loadBar._changeIncrement){a.call(this.loadBar);this.loadBar._inSetProgressAnimation=false}};return{done:function(){this.isDone=true;if(this.aniTimer){clearTimeout(this.aniTimer);this.aniTimer=null}this.candyHider=this.fadeOut(150,null,this.hideCandy,this)},start:function(g){if(this.isDone){var d=g?g:this.delayForShow;this.aniTimer=b.timeout(d,this.showCandy,this);this.isDone=false}},hideCandy:function(){this.candy.hide()},showCandy:function(){clearTimeout(this.aniTimer);this.aniTimer=null;this.show();this.candy.show()},newJob:function(d){this.progressBar.width(0);return new b.Job(this,null,null,d)},setProgress:function(k,d,g){this.start(d);var m=this.width();var j;if(!m){j=k+"%"}else{j=m*k/100}this._progress=k;this._inSetProgressAnimation=true;this._changeIncrement++;if(!m){this.progressBar.html.style.width=j;c.call({loadBar:this,changeIncrement:this._changeIncrement})}else{this.progressBar.animate({width:j},200,null,c,{loadBar:this,changeIncrement:this._changeIncrement})}if(!g&&k===100){this.done()}},crawlTo:function(g,d){this._crawlToTarget=g;this._crawlToTime=d;if(!this._inSetProgressAnimation){a.call(this)}}}})(I));I.Spinner=function(b,a){this.initParent(b);this.delayForShow=(a===false||a===0)?0:(a||400);this.isDone=true;this._changeIncrement=0;return this};I.Spinner.HTML=function(a){return"<div id='"+a.Id+"' class='spinner' style='display: none'></div>"};I.Spinner.create=function(a){return new I.Spinner(I.Spinner.HTML(a),a==null?null:(a.delayForShow===false?false:a.delayForShow))};I.Spinner.inherit(I.Interface,(function(a){return{done:function(){this.isDone=true;if(this.aniTimer){clearTimeout(this.aniTimer);this.aniTimer=null}this.fadeOut(150,null,this.hideSpinner,this)},start:function(c){if(this.isDone){var b=c?c:this.delayForShow;this.aniTimer=a.timeout(b,this.showSpinner,this);this.isDone=false}},hideSpinner:function(){this.hide()},showSpinner:function(){this.fadeIn(250)},newJob:function(b){return new a.Job(this,null,null,b)},setProgress:function(d,b,c){this.start(b);this._progress=d;if(!c&&d===100){this.done()}}}})(I));I.Job=function(a,d,c,b){if(a.activeJob&&!a.activeJob.isDone){a.activeJob.isDone=true;a.setProgress(0)}a.activeJob=this;this.isDone=false;this.min=d;this.max=c;this.callback=a;this.delayForShow=b};I.Job.prototype={done:function(){if(!this.isDone){if(this.callback&&this.callback.done){this.callback.done()}this.isDone=true}},setProgress:function(b,a){if(!this.isDone&&this.callback&&this.callback.setProgress){this.callback.setProgress(b,this.delayForShow,a)}},newPartialJob:function(b,a){return new I.Job(this)}};I.FormElement=function(c,a,b){this.initParent(c);this.id=a;this.notJSONString=!!b;this.isValid=true;this.styledValid=true;this.validateMe=false;this._validationFloaterOffsetX=0;this._validationFloaterOffsetY=-1;return this};I.FormElement.inherit(I.Action,(function(){var a=function(){this.close()};var c=function(){if(!this.currentValidationError){return}var g="<i class='fas fa-exclamation-triangle' style='margin-right:4px'></i> "+this.currentValidationError.toString();this.validFloater=I.FL(I.div(null,"validationMsg")).content(g).above(this,this._validationFloaterOffsetX,this._validationFloaterOffsetY).loose().fix();this.validFloater.click(a,this.validFloater)},b=function(){if(!this.isValid&&this.currentValidationError&&this.dontDisplayValidationFloater!==true){if(!this.validFloater){c.call(this)}if(this.validFloater){this.validFloater.open()}}},d=function(){if(this.form){this.form.tabNext(this)}};return{evaluateFn:I.util.evaluate,onSubmitForm:null,getId:function(){if(this.id){return this.id}else{return this.html.id}},tabIndex:function(g){if(this.form){this.form._tabindexDirty=true}this._tabindex=g;this.html.tabIndex=g;return this},tabOnEnter:function(){this.onEnterKey(d,this);return this},serialize:function(){return this.value()},checkIfDouble:function(){return this.validation(I.validation.isDouble,"'"+this.getId()+"' requires a numeric value.")},checkIfInteger:function(){return this.validation(I.validation.isInteger,"'"+this.getId()+"' requires a numeric integer value.")},checkNotEmpty:function(j,g){return this.validation(I.validation.isEmptyField,"'"+this.getId()+"' is a required field.",j,g)},validation:function(g,k,m,j){if(this.isStatic){return}this.validateMe=true;this.validateOnChange=!!m;this.dontStyleOnChange=!!j;this.validationMsg=k;this.validationCheck=g||this.evaluateFn;this.validFloater=null;if(!this.isHidden){this.setupValidationEvents()}return this},setupValidationEvents:function(){if(!this.eventsSetup){this.eventsSetup=true;this.focus(b,this).change(this.onChangeValidation,this)}return this},onChangeValidation:function(){if(this.validateOnChange){this.validate(this.dontStyleOnChange);if(this.dontStyleOnChange){this.styleValid()}}else{if(!this.isValid){if(this.currentValidationError){this.validate(true)}this.styleValid()}}if(this.validFloater){this.validFloater.close()}},validateAndGetError:function(j,k){var g=this.validationCheck;var m=this.useTextForValidation?this.text():this.value();if(this.validateMe?g instanceof RegExp?m.match(g):(typeof g==="string"||typeof g==="number")?g==m:g.call(this,m,this):true){this.setValid(j);this.currentValidationError=null;return null}else{this.setInvalid(j);this.currentValidationError=new I.Error("ValidationError",this.validationMsg,null,null,3);this.currentValidationErrorIsFromServer=false;if(k){return true}else{return this.currentValidationError}}},disable:function(){if(!this.elementDisabled){this.elementDisabled=true;this.styleDisabled()}},enable:function(){if(this.elementDisabled){this.elementDisabled=false;this.styleEnabled()}},styleDisabled:function(){if(!this.styledDisabled){this.styledDisabled=true;this.addClass("disabled")}},styleEnabled:function(){if(this.styledDisabled){this.styledDisabled=false;this.removeClass("disabled")}},validate:function(g){return this.validateAndGetError(g,true)==null},valid:I.q("valid"),invalid:I.q("invalid"),setInvalid:function(g,j){if(this.isValid){if(this.loseFocus!=null){this.loseFocus()}this.isValid=false}if(j){this.setupValidationEvents();this.currentValidationError=I.ServerError(j);this.currentValidationErrorIsFromServer=true}this.invalid();if(!g){this.styleInvalid()}if(this.isFocused){b.call(this)}return this},setValid:function(g){if(!this.isValid){this.isValid=true}if(this.currentValidationErrorIsFromServer){this.currentValidationError=null;this.currentValidationErrorIsFromServer=false}this.valid();if(!g){this.styleValid()}return this},styleInvalid:function(){if(this.styledValid){this.styledValid=false;this.alert()}},styleValid:function(){if(!this.styledValid){this.styledValid=true;this.dealert()}}}})());I.F=function(c,b,d,a){return new I.Form(c,b,d,a)};I.Form=function(c,b,d,a){this.initParent(c);this.method=b;this.validationEnabled=true;this.sending=false;this.noSubmits=!!a;this.sendOnExecute=d;this.elements=I.C();this.elements.key(function(g){return g.id});return this};I.Form.inherit(I.Interface,{add:function(){var a,c=0,b;for(b=arguments.length;c<b;c++){a=arguments[c];if(a instanceof I.TextBox){a=a.textbox;if(a.isTextArea){a.dontSubmitOnEnter=true}}if(a instanceof I.FileInput){this.hasFileInput=true}if(!a.dontSubmitOnEnter&&!this.noSubmits&&a.onSubmitForm){a.onSubmitForm(this.execute,this)}if(this._onChangeFn){a.change(this._onChangeFn,this._onChangeScope||this)}this._tabindexDirty=true;a.form=this;this.elements.add(a)}return this},onChangeFn:function(b,g){this._onChangeFn=b;this._onChangeScope=g;for(var c=0,d=this.elements.length();c<d;c++){var a=this.elements.iterate(c);a.change(b,this)}},getTabList:function(){if(this._tabindexDirty){this._tabindexList=[];var g=0;for(var b=0,d=this.elements.length();b<d;b++){var a=this.elements.iterate(b),c=a._tabindex;if(!a.setFocus){continue}if(!c){c=g+1;a.tabIndex(c)}g=c;this._tabindexList.push({index:c,element:a});this._tabindexList.sort(function(j,k){if(j.index<k.index){return -1}if(j.index>k.index){return 1}return 0})}this._tabindexDirty=false}return this._tabindexList},getNextTabElement:function(b){var g=this.getTabList();var d=b._tabindex;if(g.length){for(var c=0;c<g.length;c++){var a=g[c];if(a.index===d){if(g.length===c+1){return g[0].element}else{return g[c+1].element}}}return g[0].element}return null},tabNext:function(b){var a=this.getNextTabElement(b);if(a){a.setFocus()}},representsObject:function(a){this.objectName=a;return this},getElement:function(b){var d,c,a;for(d=0,c=this.elements.length();d<c;d++){a=this.elements.iterate(d);if(a.id===b){return a}}},setButton:function(a){if(this.button){a.execute(this.execute,this,true)}this.button=a;if(a){a.execute(this.execute,this)}return this},reset:function(){var a=this.elements.getIterator();while(a.next()){if(a.item.onSubmitForm){a.item.onSubmitForm(this.execute,this,true)}}this.elements.reset();return this.queue("execute",null,null,true)},serialize:function(){var k=this.hasFileInput,j,c,a;if(k){if(!I.support.formData){console.log("!!!ATTEMPT TO USE FORMDATA, BUT NOT SUPPORTED BY BROWSER!!!");this.hasFileInput=false;return this.serialize()}var b=new FormData();for(j=0,c=this.elements.length();j<c;j++){a=this.elements.iterate(j);var m=a.serialize();if(m!=null){b.append(a.getId(),m)}}return b}else{var g={};for(j=0,c=this.elements.length();j<c;j++){a=this.elements.iterate(j);g[a.getId()]=a.serialize()}if(this.objectName){var d={};d[this.objectName]=g;return d}else{return g}}},disableValidation:function(a){this.validationEnabled=!!a;return this},validateAndGetErrors:function(d){if(this.validationEnabled){var j=true,c=this.elements.getIterator(),g,b;while(c.next()){console.log(c.item);if(!c.item.validateAndGetError){console.log(c.item)}var a=c.item.validateAndGetError();if(a){j=false;if(!d){if(g!=null){g.nextError=a}else{b=a}g=a}}}if(!j){if(this.lastToast){this.lastToast.closeInstant()}if(d){this.lastToast=I.toaster.alert("Form invalid. Please check your input.",null,undefined,this.lastToast);return true}else{this.handleErrors(b,{toast:this.lastToast});return b}}return null}else{return null}},validate:function(){return this.validateAndGetErrors(true)==null},toast:function(b,a){this.toastTitle=b;this.toastMessage=a;return this},lock:function(){this.sending=true;if(this.button){this.button.startProcessing()}},unlock:function(b,a){this.sending=false;if(this.button){this.button.endProcessing(b,a)}},checkUnlock:function(b,a){if(!this.unlockCheckFn||this.unlockCheckFn()){this.unlock(b,a)}},unlockCheck:function(a){this.unlockCheckFn=a;return this},handleErrors:function(b,d,g){if(b&&b.type==3){if(this.lastToast){this.lastToast.closeInstant()}var c="<div style='text-align: left;font-size:14px'>Form has invalid values:</div>";if(b.nextError){var a,j="<ul style='margin: 0;text-align: left;font-size:14px'>";while(b){j+="<li>"+(b.userMessage?b.userMessage:"")+((b.userMessage&&b.userMessageDetails)?" ":"")+(b.userMessageDetails?b.userMessageDetails:"")+"</li>";if(g){a=this.getElement(b.element);if(a){a.setInvalid(false,b)}}b.handled=true;b=b.nextError}this.lastToast=I.toaster.alert(c,j+"</ul>",16000,d?d.toast:null)}else{if(g){a=this.getElement(b.element);if(a){a.setInvalid(false,b)}}this.lastToast=I.toaster.alert(b.userMessage,b.userMessageDetails,16000,d?d.toast:null);b.handled=true}}},output:function(c,b){if(this.sending){this.checkUnlock(c,b);var a=c.error;this.handleErrors(a,b,true);if(this.outputHandler){this.outputHandler.apply(this.handlerScope||window,arguments)}}},response:function(a,b){this.outputHandler=a;this.handlerScope=b;return this},send:function(){if(!this.sending){this.prepareMessage().send()}},prepareMessage:function(){if(!this.sending){this.lock();var a=new I.Message(this.method,this.serialize(),this.output,this);if(this.toastTitle||this.toastMessage){if(this.lastToast){this.lastToast.closeInstant()}this.lastToast=a.toast=I.toaster.action(this.toastTitle,this.toastMessage,0,this.lastToast)}return a}},execute:function(b,g,d){if(I.has(b)){this.queue("execute",b,g,d)}else{if(!this.sending){var a=this.validateAndGetErrors();if(a==null){if(this.method!=null){if(typeof this.method==="string"||this.method instanceof String){var c=this.prepareMessage();this.queueHandler("execute",c);c.send()}else{this.method.call(this)}}else{this.queueHandler("execute")}}}}return this},setValues:function(a){if(this.objectName){a=a[this.objectName]}for(var c in a){if(!a.hasOwnProperty(c)){continue}var d=a[c];var b=this.getElement(c);b.value(d)}return this}});I.StaticElement=function(a,b){this.initParent(false,a);this.val=b;return this};I.StaticElement.inherit(I.FormElement,(function(a){return{isStatic:true,value:function(c,b){if(a.has(c)){this.val=c;return b?this:this.change()}else{return this.val}},getId:function(){return this.id},serialize:function(){return this.value()}}})(I));I.HiddenElement=function(a,b){this.initParent(false,a);this.val=b;return this};I.HiddenElement.inherit(I.FormElement,(function(a){return{isHidden:true,value:function(c,b){if(a.has(c)){this.val=c;return b?this:this.change()}else{return this.val}},getId:function(){return this.id},serialize:function(){return this.value()}}})(I));I.DynamicElement=function(b,a,c){this.initParent(false,b);this.fn=a;this.scope=c;return this};I.DynamicElement.inherit(I.FormElement,(function(a){return{isStatic:true,value:function(c,b){if(a.has(c)){this.fn.call(this.scope,c);return b?this:this.change()}else{return this.fn.call(this.scope)}},getId:function(){return this.id},serialize:function(){return this.value()}}})(I));(function(a,u){var k="<div id='",m="' class='textboxHolder form_tbHolder",n="<div class='textboxLabel form_tbLbl' unselectable='on'></div><input class='textbox form_tb'type='text' value='' />",o="</div>",g="<div class='textboxIcon ",j="'></div>";var b="<div id='",c="' class='textboxHolder form_tbHolder",d="<div class='textboxLabel form_tbLbl' unselectable='on'></div><textarea class='textbox form_ta' type='text' value=''></textarea></div>";a.WebElement.add((function(z,D){var w={name:"TextBox",shortName:"TB",isFormElement:true,controls:["textbox"],supportedShortTypes:["String","Int","Decimal","Double","Float"],template:function(E){if(E.multiline===true){var F=b+E.id+c;if(E.classes){F+=" "+E.classes}return F+"'>"+d}else{var F=k+E.id+m;if(E.classes){F+=" "+E.classes}if(E.icon){F+=" searchEnabled"}F+="'>"+n;if(E.icon){F+=g+E.icon+j}if(E.clearButton){F+="<div class='textboxX' style='display:none'>Ã</div>"}return F+o}}};var C=function(){this.doFocus()},B=function(){this.textbox.change();this.doBlur()},x,y=function(){if(!x){x=z("<input type='text' style='position:fixed;width:20px;left:-200px;opacity:0'>");z.body.append(x)}return x},A=function(){if(z.mouseMove.is){y().html.focus()}};w.public={init:function(G,F){this.initParent(G,F.name);var E=this.children();this.isEmpty=true;if(!F.name){F.name=this.html.id}if(E.length>1){this.textbox=new z.Input(E[1],{name:F.name});this.label=E[0].down(this.setFocus,this)}else{if(E.length===1){this.textbox=new z.Input(E[0],{name:F.name})}}this.textbox.holder=this;this.isPassword=this.textbox.html.type=="password";if(E.length>=3){this.icon=z.A(E[2])}this.recheckForAutofill=2;this.autoFillCheck();this.initTbh();if(F){if(F.label&&this.label){this.label.content(F.label)}if(F.numOnly){this.numOnly()}if(F.clearButton){this.clearButton=this.find(".textboxX",z.A)}}},viewOnly:function(){this.textbox.html.disabled=true;this.textbox.addClass("viewOnly");return this},initTbh:function(){this.textbox.focus(C,this).blur(B,this).change(this.checkIfEmpty,this).input(this.listen,this).focus(A,this)},onGrow:function(){this.textbox.onGrow.apply(this.textbox,arguments);return this},listen:function(){this.checkIfEmpty(true)},checkIfEmpty:function(E){var F=this.textbox.html.value;if(E!==true){F=F.trim()}if(!F&&!this.isEmpty){if(E!==true){this.textbox.html.value=F}if(this.label){this.label.show()}}else{if(F&&this.isEmpty){this.onFirstChar()}}if(!F){if(E!==true){this.emptied()}if(!this.isEmpty){this.emptying()}this.isEmpty=true}return this},autoFillCheck:function(){if(this.isEmpty){this.firstCharIfNotEmpty();if(this.isEmpty&&this.isPassword&&this.textbox.html!=null){var E=D.getComputedStyle(this.textbox.html)["background-color"];if(E=="rgb(250, 255, 189)"){this.onFirstChar()}}if(this.isEmpty&&this.recheckForAutofill-->=0){z.timeout(100,this.autoFillCheck,this)}}},firstCharIfNotEmpty:function(){if(this.textbox.html!=null&&this.textbox.html.value&&this.textbox.html.value!==""){this.onFirstChar()}},tabIndex:function(E){this.textbox.tabIndex(E);return this},tabOnEnter:function(){this.textbox.tabOnEnter();return this},setFocus:function(){this.textbox.html.focus()},removeFocus:function(){y().html.focus()},doFocus:function(){this.addClass("focus")},doBlur:function(){this.removeClass("focus")},firstChar:z.q("firstChar"),onFirstChar:function(E){if(this.isEmpty){this.isEmpty=false;if(this.label){this.label.hide()}return this.firstChar()}},onEnterKey:function(){this.textbox.onEnterKey.apply(this.textbox,arguments);return this},allowNULL:function(){this.textbox.allowNULL.apply(this.textbox,arguments);return this},numOnly:function(E){this.textbox.numOnly(E);return this},getId:function(){return this.textbox.getId.apply(this.textbox,arguments)},serialize:function(){return this.textbox.serialize.apply(this.textbox,arguments)},checkIfDouble:function(){this.textbox.checkIfDouble.apply(this.textbox,arguments);return this},checkIfInteger:function(){this.textbox.checkIfInteger.apply(this.textbox,arguments);return this},text:function(E){if(z.has(E)){this.textbox.text.apply(this.textbox,arguments);return this}else{return this.textbox.number.apply(this.textbox,arguments)}},number:function(E){if(z.has(E)){this.textbox.number.apply(this.textbox,arguments);return this}else{return this.textbox.number.apply(this.textbox,arguments)}},setNumberValidation:function(){this.validation(z.validation.isNumberString,"'"+this.getId()+"' can only hold numbers.",true,false);return this},checkNotEmpty:function(){this.textbox.checkNotEmpty.apply(this.textbox,arguments);return this},validation:function(){this.textbox.validation.apply(this.textbox,arguments);return this},autogrow:function(F,E,G){this.textbox.autogrow(F,E,G);return this},validate:function(){return this.textbox.validate.apply(this.textbox,arguments)},styleChild:function(){this.textbox.styleChild.apply(this.textbox,arguments);return this},emptied:z.q("emptied"),emptying:z.q("emptying"),change:function(){this.textbox.change.apply(this.textbox,arguments);return this},empty:function(){if(!this.isEmpty){this.value("");this.input();return this}},value:function(F,E){if(z.has(F)){this.textbox.value(F,E);return this}else{return this.textbox.value()}}};return w})(a,u));a.Input=function(x,w){if(!w){w={}}this.initParent(x,w.name);if(!this.html){return}if(this.html.nodeName==="TEXTAREA"){this.isTextArea=true}return this.isTextBox()};a.Input.inherit(a.FormElement,(function(B){var x=function(){this.growthDiv.remove()},H=function(M,K){for(var J=0,L="";J<K;J++){L+=M}return L},G=function(J){return H("&nbsp;",J.length-1)+" "},z=function(J){var L=this.html.value;var K=L;if(K){K=L.replace(/ *$/,"")+"\n",height=this.growthDiv.text(K).height();height+=15;this.height(height>this.growthMinH?height:this.growthMinH)}else{this.height(this.growthStartH)}this.onGrow()};var F=function(J){if(!J){return 0}J=(J+"").replace(/[^0-9-]/g,"");if(!J||J==="-"){return 0}return parseInt(J)},y=function(K){if(K===0){return 0}if(K===null||K===undefined||K===""){return""}K=K+"";if(K==="0-"){return"-"}var J=K[0]=="-";K=K.replace(/\D/g,"");if(K===""){return J?"-":""}K=parseInt(K);if(K){return J?K*-1:K}else{if(J){return"-"}else{return 0}}},w=function(J){return(J+"").replace(/(\s)/g,"").replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},C=function(J){if(this.isNumberChange||this.numValueChanging){return}this.numValueChanging=true;this.number(this.html.value);this.numValueChanging=false},D=function(K){if(this.numValueChanging){return}var N=this.html.value,M,J=this.html.selectionStart;this.html.value=M=w(y(N));J=J+(M.length-N.length);try{if(!(J>=0)){J=0}if(this.html.setSelectionRange){this.html.setSelectionRange(J,J)}}catch(L){}},E=function(K){var M=K.keyCode;if(M!=8&&M!=46){return}var N=this.html.value,J=this.html.selectionStart;if(J!=this.html.selectionEnd){return}if(M==8&&N[J-1]===","){this.html.value=N.substr(0,J-1)+N.substr(J);J--}else{if(M==46&&N[J]===","){this.html.value=N.substr(0,J+1)+N.substr(J+2)}}try{if(J>=0&&this.html.setSelectionRange){this.html.setSelectionRange(J,J)}}catch(L){}},A=function(J){J=this.html.value;return J!==""&&J!==null&&J!==undefined};return{onGrow:B.q("onGrow"),text:function(){return this.value.apply(this,arguments)},allowNULL:function(){this.allowNULLEnabled=true;return this},number:function(J){if(B.has(J)){if(this.allowNULLEnabled&&J===null){this.html.value="";return this}J=y(J);if(this.stayEmptyOnNextZero&&J===0){this.html.value="";this.stayEmptyOnNextZero=false}else{if(J==="-"){this.html.value=""}else{if(J===0){this.html.value=0}else{this.html.value=w(J)}}}this.isNumberChange=true;if(!this.numValueChanging){this.change()}this.isNumberChange=false;return this}else{if(this.allowNULLEnabled&&this.html.value===""){return null}return F(this.html.value)}},value:function(K,J){if(this.isNumOnly){return this.number(K)}if(B.has(K)){if(this.isTextArea){this.html.innerHTML=K}else{this.html.value=K}if(!this.numValueChanging&&!J){this.change()}return this}else{return this.html.value}},numOnly:function(J){if(!this.isNumOnly){this.isNumOnly=true;this.change(C,this).input(D,this).keydown(E,this)}this.stayEmptyOnNextZero=!!J;return this},checkNotEmpty:function(K,J){if(this.isNumOnly){return this.validation(A,"'"+this.getId()+"' is a required field.",K,J)}else{return this.validation(B.validation.isEmptyField,"'"+this.getId()+"' is a required field.",K,J)}},onFirstChar:function(){if(this.holder){this.holder.onFirstChar()}},firstCharIfNotEmpty:function(){if(this.holder){this.holder.firstCharIfNotEmpty()}},setFocus:function(){this.html.focus()},loseFocus:function(){this.html.blur()},autogrow:function(L,J,M){if(!this.growthDiv){this.growthDiv=B("<div id='"+(L?L:"")+"' class='growthDiv "+(J?J:"")+"'></div>");if(!B.util.isChrome&&!B.util.isSafari){this.growthDiv.width(this.width()-5)}B.desktop.append(this.growthDiv);var K=this.height();this.growthStartH=K;this.growthMinH=M==null?K:M;this.css("overflow","hidden");this.input(z,this).change(z,this).dispose(x,this)}},onSubmitForm:function(J,L,K){return this.onEnterKey(J,L,K)}}})(a,u))})(I,window);try{var WordCount=function(b,a){this.quill=b;this.props=a;this.container=this.quill.container;this.quill.on("text-change",this.update.bind(this));this.toolbar=b.getModule("toolbar");this.update()};WordCount.prototype={calculate:function(){var a=this.quill.getText();a=a.trim();return a.length>0?a.split(/\s+/).length:0},update:function(){var d=this.calculate();var c;var b;if(this.props&&this.props.limit!=null){c="/"+this.props.limit;b=d>this.props.limit}c+=" words";this.toolbar=this.quill.getModule("toolbar");var a=this.quill._countView;if(!a){a=document.createElement("span");a.className="quill-word-count";if(this.toolbar){this.toolbar.container.appendChild(a)}else{this.quill.root.appendChild(a)}a.innerHTML=d+c;this.quill._countView=a}else{a.innerHTML=d+c}if(b){a.className="quill-word-count invalid";if(this.quill._rtb){this.quill._rtb.overWordCountLimit=true}}else{a.className="quill-word-count";if(this.quill._rtb){this.quill._rtb.overWordCountLimit=false}}}};Quill.register("modules/wordCount",WordCount)}catch(error){if(console.error){console.error(error)}else{console.log(error)}}I.RTB=function(c,a,b){return new I.RichTextbox(c,a,b)};I.RichTextbox=function(c,a,b){this.initParent(c,a).addFocus();this.initRichTextbox(b);return this};I.RichTextbox.inherit(I.FormElement,(function(d){var c=function(g,j){},b=function(){this.focus()},a=function(){this.change().blur()};return{initRichTextbox:function(k){if(k&&k.readOnly){this.editorHolder=d("<div class='rtbEditor rtbViewer'></div>")}else{this.editorHolder=d("<div class='rtbEditor'></div>")}this.append(this.editorHolder);if(k&&k.readOnly){var j=this.height();if(j>0){this.editorHolder.height(j)}}else{this.editorHolder.height(this.height()-41)}this._validationFloaterOffsetY=0;var o;if(!k||!k.readOnly){o=[[{header:[1,2,3,false]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],["clean"]]}var n={placeholder:null,theme:"snow",modules:{toolbar:o}};if(k){this.options=k;if(k.wordCountLimit){n.modules.wordCount={unit:"word",limit:k.wordCountLimit}}if(k.readOnly){n.readOnly=true;n.modules.toolbar=false}}var m=new Quill(this.editorHolder.html,n);m._rtb=this;var g=this;this.quill=m;this.quillBox=d.DA(m.root).isTextBox().focus(b,this).blur(a,this).input(this.listen,this);this.useTextForValidation=true},checkNotEmpty:function(j,g){return this.validation(d.validation.isEmptyTextField,"'"+this.getId()+"' is a required field.",j,g)},text:function(g){if(d.has(g)){this.quill.setText(g);this.change();return this}else{return this.quill.getText()}},value:function(k){if(d.has(k)){var j;try{if(k){j=JSON.parse(k)}}catch(g){console.error(g);d.toaster.alert("Failed to set the value in text box: "+this.id);this.alert()}if(j){this.quill.setContents(j);this.change()}return this}else{return JSON.stringify(this.quill.getContents())}},validateAndGetError:function(g,j){if(this.overWordCountLimit){this.setInvalid(g);if(j){return true}else{this.currentValidationError=new d.Error("ValidationError","'"+this.getId()+"' is over the word limit.",null,null,3);return this.currentValidationError}}return this._parent.prototype.validateAndGetError.call(this,g,j)}}})(I));I.WebElement.add((function(b,c){var a={name:"AceEditor",shortName:"Ace",isFormElement:true,controls:["codeeditor"],supportedShortTypes:["Code"],template:function(d){return"<div id='"+d.id+"' class='AceEditor_InTable "+d.classes+"'></div>"}};a.public={init:function(k,j){this.initParent(k,j.name).addFocus();if(!ace){console.log("-- ACE LIBRARY NOT LOADED --");return}if(!b.AceInitialized){b.AceInitialized=true;ace.config.set("basePath","/Public/Ace")}var d=ace.edit(this.html);var g=j.mode||"ace/mode/javascript";d.setOptions({useWrapMode:true,highlightActiveLine:true,showPrintMargin:false,fontSize:"13pt",theme:"ace/theme/xcode",mode:g});this.editor=d},checkNotEmpty:function(g,d){return this.validation(b.validation.isEmptyTextField,"'"+this.getId()+"' is a required field.",g,d)},text:function(d){if(b.has(d)){this.value(d);return this}else{return this.value()}},value:function(d){if(b.has(d)){this.editor.setValue(d);this.change();return this}else{return this.editor.getValue()}}};return a})(I,window));I.B=function(a){return new I.Button(a)};I.Button=function(a){return this.initParent(a).isButton()};I.Button.inherit(I.Action);I.ImgB=function(a){return new I.ImgButton(a)};I.ImgButton=function(b){this.initParent(b);var a=this.children();this.icon=a[0];this.label=a[1];return this};I.ImgButton.inherit(I.Button,{text:function(a){this.label.text(a);return this}});I.NB=function(b,a){return new I.NiceButton(b,a)};I.NiceButton=function(c,a){a=I.NiceButton.prototype.options(a);this.options=a;if(!this.options.successAnimationSpeed){this.options.successAnimationSpeed=500}if(a.isDark===true){this._isDarkBg=true}else{if(a.isDark===false){this._isDarkBg=false}}this.initParent(c);if(!this.html){return}this.isButton();this.enter(this.styleEnterAnimation,this).leave(this.styleLeaveAnimation,this);this.press(this.styleDownAnimation,this).release(this.styleUpAnimation,this);this.switchOn(this.styleOnAnimation,this).switchOff(this.styleOffAnimation,this);var b=new I.Color(this.css("backgroundColor"));if(b.isColor!==false){this.baseNeutralColor=this.baseColor=b}else{this.baseNeutralColor=new I.Color(0,0,0,0)}if(a.baseColor){this.baseColor=new I.Color(a.baseColor)}if(a.hoverColor){this.enterColor=new I.Color(a.hoverColor)}if(a.onColor){this.options_onColor=new I.Color(a.onColor)}if(this.baseColor!=null&&this.baseColor.a===0){this.baseColor=null}return this};I.NiceButton.HTML=function(c){c=I.ObjectViewer.prototype.options(c);var b,a;if(c.icon){b="<div class='buttonIcon'>"+c.icon+"</div><div class='buttonText'>"+c.label+"</div>"}else{b=c.label}if(c.shadowStyle){a="cButton"}else{a="nButton"}return"<div id='"+c.Id+"' class='"+a+" "+c.classes+"'>"+b+"</div>"};I.NiceButton.create=function(a){return I.NB(I.NiceButton.HTML(a),a)};I.NiceButton.inherit(I.Action,{setColor:function(a){if(a.a===0){this.css("backgroundColor","")}else{this.css("backgroundColor",a.toRGB())}},findBaseColor:function(){if(this.baseColor==null){var b=this.hasClass("hover");if(!b){this.addClass("hover")}var a=new I.Color(this.css("backgroundColor"));if(!b){this.removeClass("hover")}if(a.a!==0){this.baseColor=a}}},setIsDark:function(){if(this._isDarkBg!==true&&this._isDarkBg!==false){if(this.baseColor==null){this._isDarkBg=false}else{this._isDarkBg=this.baseColor.luminance()<210;if(this.baseColor.a!=null&&this.baseColor.a<0.5){this._isDarkBg=!this._isDarkBg}}}},getEnterColor:function(){if(this.enterColor!=null){return this.enterColor}if(this.baseColor==null){return new I.Color(0,0,0,0)}var a=this.baseColor.copy();this.setIsDark();if(!this._isDarkBg){a.brighten(0.1,-0.1)}else{a.brighten(-0.2,0.5)}this.enterColor=a;return a},styleEnterAnimation:function(){if(this.processing||this.inSuccessAnimation){return}this.findBaseColor();if(!this.isOn){this.setColor(this.getEnterColor())}},styleLeaveAnimation:function(){if(this.processing||this.isOn||this.inSuccessAnimation){return}this.setColor(this.baseNeutralColor)},styleUpAnimation:function(){if(this.processing||this.isOn||this.inSuccessAnimation){return}if(this.hover){this.setColor(this.getEnterColor())}else{this.setColor(this.baseNeutralColor)}},styleDownAnimation:function(g){if(this.processing||this.inSuccessAnimation){return}this.findBaseColor();this.setIsDark();if(!this.isOn){var b=this.hover?this.getEnterColor().copy():this.baseColor.copy();this.setIsDark();if(this._isDarkBg){b.brighten(0.275,0.4)}else{b.brighten(0.1,-0.125)}this.setColor(b)}var d=I(this._isDarkBg?"<div class='rippleWhite'></div>":"<div class='rippleDark'></div>");var a=this.offset(),m=g.pageX-a.left,n=g.pageY-a.top;var j=25,k=25;d.height(j);d.width(k);d.top(n-(j/2));d.left(m-(k/2));this.append(d);window.setTimeout(function(){d.remove()},1500);return false},removeRipples:function(){var a=this.findAll(".rippleDark");for(var b=0;b<a.length;b++){a[b].remove()}a=this.findAll(".rippleWhite");for(var b=0;b<a.length;b++){a[b].remove()}return this},styleOnAnimation:function(){if(this.processing||this.inSuccessAnimation){return}if(this.baseColor==null){return}if(this.options_onColor){this.onColor=this.options_onColor}else{var a=this.baseColor.copy();a.brighten(0,-0.35);this.onColor=a}this.setColor(this.onColor)},styleOffAnimation:function(){if(this.inSuccessAnimation){return}if(this.hover){this.setColor(this.getEnterColor())}else{this.setColor(this.baseNeutralColor)}},startCircle:function(){if(!this.processing){return}this.circleTimer=null;if(!this.loaderCircle){this.loaderCircle=I("<div class='loader"+(this._isDarkBg?"":" loaderDark")+"' style='display:none'></div>");this.append(this.loaderCircle)}this.loaderCircle.center(true,false);this.loaderCircle.fadeIn(400);var j=this.fullHeight()-this.css("borderTopWidth")-this.css("borderBottomWidth");var b=4;var a=4;var d=3;var k=20;var c=false;var g=j-(b*2)-(d*2);if(g>k){g=k;c=true}this.loaderCircle.height(g);this.loaderCircle.width(g);if(g>18){d=4;this.loaderCircle.css("borderWidth",d);c=true}if(c){b=(j-g-(d*2))/2;if(b>4){a=5}this.loaderCircle.css("top",b);this.loaderCircle.css("left",a)}if(this.fontColor==null){this.fontColor=new I.Color(this.css("color"))}this.fontColor.a=0.36;this.css("color",this.fontColor.toRGB())},styleStartProcessing:function(){this.findBaseColor();this.setIsDark();this.cancelSuccessAnimation();var a=this.baseColor.copy();a.brighten(-0.85,0.5);this.setColor(a);this.circleTimer=I.timeout(200,this.startCircle,this)},styleEndProcessing:function(d,a,b,c){if(this.circleTimer){clearTimeout(this.circleTimer)}if(this.loaderCircle){this.loaderCircle.fadeOut(200)}if(this.fontColor){this.fontColor.a=1;this.css("color",this.fontColor.toRGB())}if(this.startingWidth){this.css("width",this.startingWidth);this.css("minWidth",this.startingMinWidth);this.css("paddingLeft",this.startingPaddingLeft)}this.css("textAlign","center");this.cancelSuccessAnimation();this.inSuccessAnimation=true;this.successAnimationCompleteFn=b;this.successAnimationCompleteScope=c;if(!d||!d.error){this.successAnimationStartGreen()}else{this.successAnimationStartRed()}},successAnimationStartRed:function(a,b){if(this.inSuccessAnimation){this.animate({backgroundColor:"#b52130",color:"#fff"},100,"ease-out");this.successTimerTwo=I.timeout(this.options.successAnimationSpeed,this.successAnimationEndGreen,this)}},successAnimationStartGreen:function(){if(this.inSuccessAnimation){this.animate({backgroundColor:"#24a53c",color:"#fff"},100,"ease-out");this.successTimerTwo=I.timeout(this.options.successAnimationSpeed,this.successAnimationEndGreen,this)}},animateOut:function(a){var b=a==null?"":((a.a===0)?"":a.toRGB());this.animate({backgroundColor:b,color:""},this.options.successAnimationSpeed,"ease-in-out")},successAnimationEndGreen:function(){if(this.inSuccessAnimation){if(this.isOn){this.styleOnAnimation()}else{if(this.hover){this.animateOut(this.getEnterColor())}else{this.animateOut(this.baseNeutralColor)}}if(this.successAnimationCompleteFn){this.successAnimationCompleteFn.call(this.successAnimationCompleteScope)}this.inSuccessAnimation=false}},cancelSuccessAnimation:function(){if(this.inSuccessAnimation){this.inSuccessAnimation=false;if(this.successTimerTwo){clearTimeout(this.successTimerTwo)}this.successAnimationCompleteFn=null;this.successAnimationCompleteScope=null}}});I.Choicebutton=function(b,a,c){if(a!=null){this.baseColor=a.baseColor?(a.baseColor.isColor?a.baseColor:new I.Color(a.baseColor)):null;this.yesColor=a.yesColor?(a.yesColor.isColor?a.yesColor:new I.Color(a.yesColor)):null;this.noColor=a.noColor?(a.noColor.isColor?a.noColor:new I.Color(a.noColor)):null}else{a={}}if(c===true){this.initParent(b,a.name,true);this.checked=false;return this}else{this.initParent(b,a.name,true).isButton();this.checked=false;this.button=this.child(0,I);this.button.isDown=false;return this.cbInit()}};I.Choicebutton.inherit(I.FormElement,(function(){var a=function(){return this.value()!=null};return{cbInit:function(){return this.styleChild(this.button)},isCB:function(){this._isCheckBox=true;this.button.content("");return this.execute(this.toggle,this)},isRB:function(){this._isRadioButton=true;return this.execute(this.check,this)},viewOnly:function(){this.addClass("viewOnly");this.click(null,null,true).execute(null,null,true);if(this.isYesNo){this.yesButton.click(null,null,true);this.noButton.click(null,null,true)}return this},isYesNoButton:function(){var b=this.children();this.checked=null;this.isYesNo=true;this.button=this.yesButton=I.NB(b[0]).isSwitch(true).click(function(){this.value(true)},this);this.noButton=I.NB(b[1]).isSwitch(true).click(function(){this.value(false)},this);return this},checkNotEmpty:function(){return this.validation(a,"Please submit your choice for: '"+this.getId()+"'.")},onCheck:I.q("oncheck"),onUncheck:I.q("onuncheck"),check:function(c){if(this.checked!==true){this.checked=true;if(this.isYesNo){this.yesButton.switchOn();this.noButton.switchOff();if(this.yesColor||this.baseColor){var b=this.yesColor?this.yesColor.toHex():this.baseColor.toHex();this.yesButton.css("background",b).css("color","#FFF");this.noButton.css("background","").css("color","")}else{this.yesButton.addClass("selected");this.noButton.removeClass("selected")}}else{if(this._isCheckBox){this.button.content(I.util.isEdge?"&#x2713":"&#x2714")}this.button.addClass("checked")}if(!c){this.change().onCheck()}}return this},uncheck:function(c){if(this.checked!==false){this.checked=false;if(this.isYesNo){this.yesButton.switchOff();this.noButton.switchOn();if(this.noColor||this.baseColor){var b=this.noColor?this.noColor.toHex():this.baseColor.toHex();this.yesButton.css("background","").css("color","");this.noButton.css("background",b).css("color","#FFF")}else{this.yesButton.removeClass("selected");this.noButton.addClass("selected")}}else{if(this._isCheckBox){this.button.content("")}this.button.removeClass("checked")}if(!c){this.change().onUncheck()}}return this},toggle:function(b){if(this.checked===true){this.uncheck(b)}else{this.check(b)}return this},value:function(c,b){if(I.has(c)){if(c===true||c===1){this.check(b)}else{if(c===false||c===0){this.uncheck(b)}}return this}else{return this.checked}}}})());I.WebElement.add((function(b,c){var a={name:"YesNo",inherits:"Choicebutton",isFormElement:true,controls:["yesno"],supportedShortTypes:["Boolean"],template:function(k){var m="Yes",j="No",g=false,d=false;if(k!=null){if(k.yesLabel!=null){m=k.yesLabel}if(k.noLabel!=null){j=k.noLabel}if(k.neutralColors){g=true}if(k.addSpacing){d=true}}return"<div id='"+k.id+"' class='yesno form_yesno"+(d?" addSpacing":"")+(k.classes?(" "+k.classes):"")+"'><div class='nButton yesno_yes"+(g?" neutralColors":"")+"'>"+m+"</div><div class='nButton yesno_no"+(g?" neutralColors":"")+"'>"+j+"</div></div>"}};a.public={init:function(g,d){this.initParent(g,d);this.isYesNoButton();if(d.readOnly){this.viewOnly()}}};return a})(I,window));I.WebElement.add((function(b,c){var a={name:"CheckBox",shortName:"CB",inherits:"Choicebutton",isFormElement:true,controls:["checkbox"],supportedShortTypes:["Boolean"],template:function(g){var d=g.label!=null?g.label:"";return"<div id='"+g.id+"' class='checkbox form_checkbox"+(g.classes?(" "+g.classes):"")+"'><div class='checkboxButton form_checkboxButton'>&#10003;</div><div class='checkboxLabel form_checkboxLabel'>"+d+"</div></div>"}};a.public={init:function(g,d){this.initParent(g,d);this.isCB()}};return a})(I,window));I.WebElement.add((function(b,c){var a={name:"RadioButton",shortName:"RB",inherits:"Choicebutton",isFormElement:true,controls:["radiobutton"],supportedShortTypes:["Boolean"],template:function(g){var d=g.label!=null?g.label:"";return'<div id="'+g.id+'" class="radiobutton form_radiobutton'+(g.classes?(" "+g.classes):"")+'"><div class="radioButton form_radioButton"><div class="radioButtonCircle"></div></div><div class="radioLabel form_radioLabel">'+d+"</div></div>"}};a.public={init:function(g,d){this.initParent(g,d);this.isRB()}};return a})(I,window));I.RBL=function(c,a,b){return new I.RadiobuttonList(c,a,b)};I.RadiobuttonList=function(c,a,b){this.checked=null;this.initParent(c,a);this.items=this.children(I.RB);if(I.has(b)){this.checked=this.items[b]}return this.init()};I.RadiobuttonList.inherit(I.FormElement,(function(){var a=function(){this.rbList.checkItem(this)};return{init:function(){var b,d,c;for(b=0,d=this.items.length;b<d;b++){c=this.items[b];c.rbList=this;c.execute(a,c)}return this},alert:function(){var c,b;for(c=0,b=this.items.length;c<b;c++){this.items[c].styleInvalid()}},dealert:function(){var c,b;for(c=0,b=this.items.length;c<b;c++){this.items[c].styleValid()}},checkItem:function(c,b){if(this.checked){if(this.checked===c){return}this.checked.toggle()}this.checked=c;return b?this:this.change()},index:function(g,b){if(I.has(g)){var c=this.items[g];if(c){c.execute()}return this}else{var d=this.items.length;while(d--){if(this.items[d]===this.checked){return d}}return null}},value:function(c,b){return this.index(c,b)}}}()));I.DD=function(d,b,a,c){return new I.Dropdown(d,b,a,c)};I.Dropdown=function(d,b,a,c){this.selectedIndex=null;this.list=null;this.initParent(d,b).isButton();this.button=this.child(1);this.label=this.child(0);this.defaultVal=this.label.content();this.classes=a;this.options=c||{};this.options.searchEnabled=true;return this.initDD().styleChild(this.button)};I.Dropdown.createHTMLString=function(a,b){if(b==null){b={}}return"<div id='"+a+"' class='dropdown form_dropdown "+(b.classes?b.classes:"")+"'"+(b.hidden===true?" style='display:none'":"")+"><span class='ddLabel form_dropdown_label' unselectable='on'>Select value</span><div class='ddButton form_dropdown_button'></div></div>"};I.Dropdown.create=function(b,c,a){return I.DD(I.Dropdown.createHTMLString(b,c),a,null,c)};I.Dropdown.inherit(I.FormElement,(function(){var a=function(){if(!this.itemview||!this.itemview.active){this.blur()}},b=function(){this.close().blur()},k=function(){if(this.options.searchEnabled){this.itemview.listView.height(this.itemview.height()-36);this.searchTextbox.textbox.width(this.itemview.width()-12-30);this.searchTextbox.setFocus()}},j=function(){this.addClass("open");var n=this.itemview.listView.all.items.length;var o=this.options.searchEnabled;this.options.searchEnabled=n>18;if(this.options.searchEnabled){this.searchBox.show();this.itemview.addClass("ddFloaterWithSearch");this.itemview.listView.addClass("ddList");this.itemview.listView.scrollDirectParent=true;I.timeout(0,k,this)}else{this.searchBox.hide();this.itemview.removeClass("ddFloaterWithSearch");this.itemview.listView.removeClass("ddList");this.itemview.listView.scrollDirectParent=false;if(o){this.searchTextbox.empty()}}},g=function(){this.removeClass("open").html.focus();this.onChangeValidation()},d=function(n){this.selected(n.listKey)},m=function(n,o,u){if(u){this.reset()}else{this.selected(o)}},c=function(){if(!this.itemview){var w=this.width();var n=203;if(this.options.searchEnabled){n+=36}this.itemview=I.FL(I.div(null,"ddDataview "+(this.classes||""))).fix().fitToScreen().below(this,null,-1).closeOnBlur().minSize(w,20).maxSize((w<203)?203:w,n).viewList(this.list,this.itemTemplateitemTemplate,this.itemTemplate?null:"ddItem").onclose(g,this).onopen(j,this);if(!this.attached){this.itemview.loose()}this.itemview.listView.highlighting().objectSelect(d,this).objectClick(b,this).objectEnterKey(this.close,this).objectTab(this.close,this);var o=I("<div class='ddSearchBox'></div>");var u=I.TextBox.create({classes:"ddSearch",icon:"searchIcon",clearButton:true});o.append(u);this.searchTextbox=u;this.searchBox=o;u.textbox.focus(function(){this.itemview.listView.selectByLetterDisabled=true},this);u.textbox.blur(function(){this.itemview.listView.selectByLetterDisabled=false},this);u.textbox.input(function(){this.itemview.listView.applyFilter()},this);this.itemview.prepend(o);this.itemview.listView.filter(function(y){var x=u.textbox.value();if(!x){return true}var y=this.listItem;if(y&&y.toLowerCase().indexOf(x.toLowerCase())!==-1){return true}return false}).applyFilter();this.itemview.listView.objectDown(function(y,x){x.preventDefault();x.cancelBubble=true;return false});if(this.selectedKey){this.itemview.listView.selectItem(this.selectedKey)}}};return{initDD:function(){return this.on("onblur",a,this).press(this.open).onEnterKey(this.open)},checkNotEmpty:function(){return this.validation(I.validation.isEmptyField,"A '"+this.getId()+"' must be selected.")},attachedView:function(){this.attached=true;return this},data:function(n,w){var o=this.value()==null;var u;if(n.isList){u=n;this.listCreatedHere=false}else{if(I.has(w)){if(this.list&&this.listCreatedHere){this.list.fill(w,n)}else{u=I.C(w,n);this.listCreatedHere=true}}else{if(this.list&&this.listCreatedHere){this.list.fill(n)}else{u=I.L(n);this.listCreatedHere=true}}}if(u&&this.itemview){this.itemview.viewList(u,this.itemTemplate,this.itemTemplate?null:"ddItem")}if(u){u.onselect(this,m,this);this.list=u}return this.reset(o)},selectedTemplate:function(n){this.selItemTemplate=n;return this},template:function(n){this.itemTemplate=n;return this},onopen:function(){c.call(this);this.itemview.onopen.apply(this.itemview,arguments);return this},onclose:function(){c.call(this);this.itemview.onclose.apply(this.itemview,arguments);return this},open:function(){c.call(this);this.itemview.open();this.itemview.listView.scrollIntoView();return this},close:function(){if(this.itemview){this.itemview.close()}return this},toggle:function(){if(!this.itemview||!this.itemview.active){this.open()}else{this.close()}return this},reset:function(n){if(this.selectedKey!==null){if(this.selItemTemplate){this.label.show();if(this.selectedItemDiv){this.selectedItemDiv.remove();this.selectedItemDiv=null}}else{this.label.removeClass("ddLblSelected").content(this.defaultVal)}this.selectedKey=null;if(!n){this.change()}}return this},selected:function(u,n){if(I.has(u)){if(u==null){return this}if(this.selectedKey===null){if(this.selItemTemplate){this.label.hide()}else{this.label.addClass("ddLblSelected")}}this.list.select(this,u,true);this.selectedKey=u;var o=this.list.get(u);if(this.selItemTemplate){if(this.selectedItemDiv){this.selectedItemDiv.remove()}this.selectedItemDiv=I(this.selItemTemplate(o));this.append(this.selectedItemDiv)}else{this.label.content(o)}return n?this:this.change()}else{return this.selectedKey}},index:function(o,n){if(this.list.isCatalog){if(I.has(o)){var u=this.list.keys[o];return this.selected(I.has(u)?u:null,n)}else{return this.list.indexOfKey(this.selectedKey)}}else{return this.selected(o)}},text:function(u,n){if(I.has(u)){return this.selected(this.list.find(u),n)}else{if(!this.list){return""}var o=this.list.get(this.selectedKey);if(o===undefined){return""}return o}},isEmpty:function(){return this.selectedKey==null||this.list.get(this.selectedKey)===undefined},value:function(o,n){if(!this.list){if(I.has(o)){return this}else{return null}}if(this.list.isDictionary){return this.selected(o,n)}else{if(I.has(o)){return this.selected(this.list.find(o),n)}else{return this.list.get(this.selected())}}},blur:I.q("ddBlur")}})());I.Datap=function(d,b,a,c){return new I.DataPicker(d,b,a,c)};I.DataPicker=function(d,b,a,c){this.initParent(d,b).isButton();this.button=this.child(1);this.label=this.child(0);this.defaultVal=this.label.text();this.classes=a;this.options=c;this._selectedValues=[];return this.initDP().styleChild(this.button)};I.DataPicker.inherit(I.FormElement,(function(){var a=function(d,j){if(!this.options.multipicker){this.text(j);if(this.win){this.win.close()}}else{if(this.isEmpty()){this.label.content("")}var g=I.A("<div class='datapickerValue'>"+j+"</div>");g._dpKey=d;g._dpTitle=j;g.click(function(){this._selectedValues.spliceObj(g._dpKey);g.remove();if(this.isEmpty()){this.label.content("Select values")}this.change()},this).press(function(k,m){m=m||window.event;m.stopPropagation();m.stopped=true;return false},null,false,true);this.label.append(g)}},b=function(g){if(this.getterMessage!=null){this.getterMessage.abort()}var d=this.options.table.controller;var m=this.options.table.objectNamePlural;if(!m){m=this.options.table.objectName+"s"}var d=this.options.table.controller;if(!d.endsWith("/")){d+="/"}if(!d.startsWith("/")){d="/"+d}var j={keyValues:g,keyName:this.options.keyColumn};j.Nummers=[1,2,3];var n;if(this.options.table.parameters&&this.options.table.parameters.length>0){j.QueryParameters=this.options.table.parameters}var k=new I.Message(d+m,{listQuery:j},c,this);k._keys=g;k.send();this.getterMessage=k},c=function(m,k){if(!m.error){if(m.rows!=null){for(var d=0;d<m.rows.length;d++){var g=m.rows[d];var n=g[this.options.titleColumn],j=g[this.options.keyColumn];a.call(this,j,n)}}}};return{initDP:function(){return this.press(this.open).onEnterKey(this.open)},checkNotEmpty:function(){return this.validation(I.validation.isEmptyField,"A '"+this.getId()+"' must be selected.")},setTableOptions:function(d){if(this.win){this.win.close();this.win=null}if(this.table){this.table=null}this.clear();this.options.table=d},setTableParameters:function(d){this.options.table.parameters=d;if(this.table!=null){this.table.config.parameters=d;this.table.refresh()}},open:function(){if(this.win&&!this.win.isDeactivated()){I.timeout(0,function(){this.win.showSelect()},this);return this}var g=I("<div style='background:#fbfdff'></div>");var j;if(this.options.table.objectAlias){j=this.options.table.objectAlias}else{j=this.options.table.objectName}this.win=new I.Window({title:"Select a "+j,board:I.board,pos:"middleOpen",width:620,height:655});App.dashboard.append(this.win);I.windows.add(this.win,false);this.win.contentHolder.append(g);var d=this;this.options.table.addPadding=true;this.options.table.count=18;this.options.table.setSearchFocus=true;this.options.table.enableSearch=true;this.options.table.clickFunction=function(m,o){var u=m[d.options.titleColumn],n=m[d.options.keyColumn];if(d.options.multipicker&&d._selectedValues!=null&&d._selectedValues.indexOf(n)>-1){I.toaster.alert("This value is already selected.",null,6000);return}if(d.isEmpty()&&n!=null){d.label.empty()}if(d.options.multipicker){d._selectedValues.push(n)}else{d._val=n}a.call(d,n,u);d.change()};var k=I.createTable(g,this.options.table);k.paddingDiv.height(655-20);k.paddingDiv.css("paddingTop",10);k.paddingDiv.css("paddingLeft",10);k.paddingDiv.css("paddingRight",10);k.paddingDiv.css("paddingBottom",10);this.table=k;this.win.reveal(100);I.timeout(0,function(){this.win.select()},this);return this},close:function(){if(this.win&&!this.win.isDeactivated()){this.win.close();return}return this},reset:function(d){this.label.removeClass("ddLblSelected").text(this.defaultVal);this._val=null;if(!d){this.change()}return this},text:function(g,d){if(I.has(g)){this._text=g;this.label.text(g);this.label.addClass("ddLblSelected");return this}else{return this._text}},clear:function(){if(this.options.multipicker){this._selectedValues=[];this.label.text("Select values").removeClass("ddLblSelected")}else{this._val=null;this.label.text("Select value").removeClass("ddLblSelected")}},isEmpty:function(){if(this.options.multipicker){return this.value().length===0}else{return this.value()==null}},value:function(g,d){if(I.has(g)){if(this.options.multipicker){if(g!=null&&g.length>0){this._selectedValues=g;this.label.empty();b.call(this,g)}else{this.clear()}}else{if(g!=null&&g!==0){this._val=g;this.label.empty();b.call(this,[g])}else{this.clear()}}if(!d){this.change()}return this}else{if(this.options.multipicker){return this._selectedValues}return this._val}},blur:I.q("ddBlur")}})());I.DP=function(c,b,a){return new I.Datepicker(c,b,a)};I.Datepicker=function(c,b,a){this.initParent(c,b);return this.initDP()};I.Datepicker.inherit(I.FormElement,(function(){var c=function(){this.addClass("focus")},b=function(){this.removeClass("focus").html.focus()},d=function(){var j=this.month.value();this.date=moment({year:this.year.value()||1,month:(j==null?0:j-1),date:this.day.value()||1});this._parent.prototype.text.call(this,this.text());this.change()};I.lists={days:I.L(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]),months:I.C([1,2,3,4,5,6,7,8,9,10,11,12],["January","February","March","April","May","June","July","August","September","October","November","December"]),years:I.L(Array.range(new Date().getFullYear()+1,1905)),monthsShort:I.C([1,2,3,4,5,6,7,8,9,10,11,12],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),monthDays:I.L(Array.range(1,31))};var a=function(k,j){return !j.day.isEmpty()&&!j.month.isEmpty()&&!j.year.isEmpty()};var g=I("<div class='datePickerFloater'><div class='dropdown itemViewDD dropdownDP'><span class='ddLabel itemViewDDLabel' unselectable='on'>Month</span><div class='ddButton itemViewDDButton'></div></div><div class='dropdown itemViewDD dropdownDP'><span class='ddLabel itemViewDDLabel' unselectable='on'>Day</span><div class='ddButton itemViewDDButton'></div></div><div class='dropdown itemViewDD dropdownDP'><span class='ddLabel itemViewDDLabel' unselectable='on'>Year</span><div class='ddButton itemViewDDButton'></div></div></div>");return{initDP:function(){var k=g.clone();var j=k.children();this.month=I.DD(j[0]).attachedView().data(I.lists.monthsShort).change(d,this);this.day=I.DD(j[1]).attachedView().data(I.lists.monthDays).change(d,this);this.year=I.DD(j[2]).attachedView().data(I.L(Array.range(new Date().getFullYear()+1,2000))).change(d,this);this.floater=I.FL(k).closeOnBlur().setSwitch(this).loose().fix().above(this,null,2).onopen(c,this).onclose(b,this);this.floater.html.style.overflow="visible";return this},checkNotEmpty:function(){return this.validation(a,"A date is not selected for: '"+this.getId()+"'.")},open:function(){this.floater.open();return this},close:function(){if(this.floater){this.floater.close()}return this},toggle:function(){if(!this.floater||!this.floater.active){this.open()}else{this.close()}return this},readOnly:function(){this.isReadOnly=true;this.addClass("disabled");this.floater.disable()},reset:function(){this.date=null;return this},text:function(k,j){if(I.has(k)){this.date=moment(k).local();this.year.value(this.date.year(),true);this.month.value(this.date.month()+1,true);this.day.value(this.date.date(),true);this._parent.prototype.text.call(this,this.text());return j?this:this.change()}else{if(this.date){return this.date.format("LL")}else{return"No date specified."}}},value:function(m,k){if(I.has(m)){return this.text(m,k)}else{if(this.date){var j=this.date.format();if(j==="Invalid date"){j=null}return j}else{return null}}}}})());I.WebElement.add((function(c,d){var a={name:"FlatDatepicker",shortName:"FDP",isFormElement:true,controls:["datepicker"],supportedShortTypes:["DateTime"],template:function(g){if(g.readOnly){return"<div id='"+g.id+"' class='flatpickrReadOnly'></div>"}else{return"<input id='"+g.id+"' type='text' class='flatpickr' placeholder='Select Date..' readonly='readonly'></div>"}}};var b=function(){if(this.flatpickr){this.flatpickr.destroy()}};a.public={init:function(m,j){this.initParent(m,j.name);this.options=j;if(j.readOnly){return this}var g={};var k=this;g.onChange=function(u,n,o){if(u&&u.length==1){k.date=moment(u[0]).local();k._parent.prototype.value.call(k,k.date.format("LL"))}else{k.date=null;k._parent.prototype.value.call(k,null);k.flatpickr.config.defaultDate=null}};g.onClose=function(u,n,o){k.html.blur()};this.flatpickr=flatpickr(this.html,g);this.dispose(b,this)},reset:function(){this.value(null);return this},getDate:function(){if(this.options.readOnly){return this.text()}if(this.date){var g=this.date.toDate();return new Date(g.getFullYear(),g.getMonth(),g.getDate(),0,0,0,0)}else{return null}},text:function(j,g){if(this.options.readOnly){if(c.has(j)){if(!j){this.date=null;this._parent.prototype.text.call(this,"")}else{this.date=moment(j).local();this._parent.prototype.text.call(this,this.date.format("LL"))}return g?this:this.change()}else{if(this.date){return this.date.format("LL")}else{return null}}}if(c.has(j)){if(!j){this.date=null;this.flatpickr.setDate(null,false);this._parent.prototype.value.call(this,null)}else{this.date=moment(j).local();this.flatpickr.setDate(this.date.toDate(),false);this._parent.prototype.value.call(this,this.text())}return g?this:this.change()}else{if(this.date){return this.date.format("LL")}else{return null}}},value:function(j,g){if(c.has(j)){return this.text(j,g)}else{if(this.date){return this.date.format("Y-MM-DD")}else{return null}}}};return a})(I,window));I.FileInput=function(b,a){this.initParent(b,a);return this.initFI()};I.FileInput.inherit(I.FormElement,(function(){var b=function(){var c=this.file();if(c){console.group("File Uploaded");console.log("name : "+c.name);console.log("size : "+c.size);console.log("type : "+c.type);console.log("date : "+c.lastModified);console.groupEnd()}this.selectedFile=c;this.change()},a=function(d,c){return c.selectedFile!=null};return{initFI:function(){this.on("onchange",b,this);return this},files:function(){return this.html.files},file:function(){return this.html.files[0]},checkNotEmpty:function(){return this.validation(a,"No file is selected for uploading: '"+this.getId()+"'.")},reset:function(){this.selectedFile=null;return this},text:function(c){if(I.has(c)){if(this.selectedFile){this.selectedFile.name=c}return this}else{return this.selectedFile?this.selectedFile.name:""}},serialize:function(){return this.html.files[0]},value:function(){return this.selectedFile}}})());I.FilepondInput=function(c,a,b){if(!window.FilePondRegistered){window.FilePondRegistered=true;if(window.FilePondPluginImagePreview){FilePond.registerPlugin(FilePondPluginImagePreview,FilePondPluginImageExifOrientation,FilePondPluginFileValidateSize)}FilePond.setOptions({server:"/FileUpload"})}this.initParent(c,a);this.pondHTMLId=this.html.id;if(!b){b={maxFiles:1,required:false,maxFileSize:"10mb"}}this.options={maxFiles:b.maxFiles,required:b.required,maxFileSize:b.maxFileSize};this.waitForFiles=b.waitForFiles;if(b.files){this.loadFiles(b.files)}return this.initFI()};I.FilepondInput.inherit(I.FormElement,(function(){var b=function(c){if(c&&!c.error){if(!this.options.files){this.options.files=[]}this.options.files.push({source:c.Id,options:{type:"local",file:{name:c.Name,size:c.Size,type:c.ContentType}}});this._waitForFileData--;if(!this._waitForFileData){a.call(this)}}if(c&&c.error){this._failedFileLoads++;this._waitForFileData--;if(!this._waitForFileData){a.call(this)}}},a=function(){if(this.pond){return}this.pond=FilePond.create(this.html,this.options);if(this.pondHTMLId){this.pondInterface=I("#"+this.pondHTMLId)}else{this.pondInterface=this.parent()}var c=this;this.pond.onremovefile=this.pond.onprocessfile=function(d,g){c.change()};if(this._failedFileLoads){this.pondInterface.append(I("<div class='filepond_failedload'>"+this._failedFileLoads+" file(s) failed to load.</div>"))}};return{initFI:function(){if(!this.waitForFiles){this.initialize()}return this},initialize:function(){if(!this._waitForFileData){a.call(this)}return this},loadFiles:function(c){this._waitForFileData=0;this._failedFileLoads=0;if(!c){return this.initialize()}if(typeof c==="string"||c instanceof String){c=JSON.parse(c)}if(c.isArray){for(var d=0;d<c.length;d++){this._waitForFileData++;this.addFileData(c[d])}}else{this.addFileData(c);this._waitForFileData++}},addFileData:function(c){I.send("/FileUpload/FileData",{id:c},b,this)},checkNotEmpty:function(d,c){if(!this.options.required){this.options.required=true;if(this.pond!=null){this.pond.setOptions(this.options)}}return this.validation(I.validation.isEmptyField,"'"+this.getId()+"' is a required field.",d,c)},reset:function(){this.pond.removeFiles();return this},text:function(c){if(I.has(c)){return this}else{return this.value()}},styleAlert:function(){if(this.pondInterface){this.pondInterface.addClass("alert")}},styleDealert:function(){if(this.pondInterface){this.pondInterface.removeClass("alert")}},value:function(k){if(I.has(k)){this.loadFiles(k);return this}else{if(!this.pond){return undefined}var g=this.pond.getFiles(),c=[];if(!g||!g.length){return undefined}for(var j=0;j<g.length;j++){var d=g[j];if(d.serverId){c.push(parseInt(d.serverId))}}if(this.pond.maxFiles==1&&g.length==1){return c[0]}else{return JSON.stringify(c)}}}}})());I.FileViewer=function(b,a,c){this.initParent(b,a);if(c.files){this.loadFiles(c.files)}this.hideError=c.hideError;return this.initFI()};function humanFileSize(a,b){var c=b?1000:1024;if(Math.abs(a)<c){return a+" B"}var g=b?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"];var d=-1;do{a/=c;++d}while(Math.abs(a)>=c&&d<g.length-1);return a.toFixed(1)+" "+g[d]}I.FileViewer.inherit(I.FormElement,(function(){var a=function(d){if(d&&!d.error){var c=I.A("<a class='kc_file' href='/FileUpload/Download?id="+d.Id+"'><div class='kc_fileName'>"+d.Name+"</div><div class='kc_fileSize'>"+humanFileSize(d.Size,true)+"</div></a>");this.append(c)}if(d&&d.error){if(d.error.name=="FileAccessDenied"){d.error.handled=true;this.append(I("<a class='kc_file'><div class='kc_fileName' style='color: #b30838'>[Hidden File] File data access denied. Your account doesn't have the required permissions to see this file.</div></a>"))}console.log(d.error);if(this.hideError){d.error.handled=true}}},b=function(d,c){return this.hasFiles};return{initFI:function(){return this},initialize:function(){},loadFiles:function(c){if(!c){return}this.hasFiles=true;this.files=c;if(typeof c==="string"||c instanceof String){c=JSON.parse(c)}if(c.isArray){for(var d=0;d<c.length;d++){this.addFileData(c[d])}}else{this.addFileData(c)}},addFileData:function(c){if(c){I.send("/FileUpload/FileData",{id:c},a,this)}},checkNotEmpty:function(){return this.validation(b,"No file is selected for uploading: '"+this.getId()+"'.")},reset:function(){this.pond.removeFiles();return this},text:function(c){if(I.has(c)){return this}else{return this.value()}},value:function(k){if(I.has(k)){this.loadFiles(k);return this}else{return this.files;var g=this.pond.getFiles(),c=[];if(!g||!g.length){return this.pond.maxFiles==1?0:undefined}for(var j=0;j<g.length;j++){var d=g[j];if(d.serverId){c.push(parseInt(d.serverId))}}if(this.pond.maxFiles==1&&g.length==1){return c[0]}else{return JSON.stringify(c)}}}}})());I.FormBuilder=(function(a){var b={toCatalog:function(d,j,m){var k=[],n=[];for(var g=0;g<d.length;g++){var c=d[g];k.push(c[j]);n.push(c[m])}return a.C(n,k)},createElement:function(c,d){if(d==null){d={}}d.id=c.id;if(c.type=="hidden"){return""}if(c.type=="widelabel"){return this.createWideLabel(c)}else{if(c.type=="content"||c.type=="widecontent"){return this.createContentHolder(c)}else{if(c.type==="button"){d.label=c.label;return a.NiceButton.HTML(d)}else{if(c.type==="object"){if(d==null){d={}}d.id=c.id;return a.ObjectViewer.HTML(d)}else{if(c.type==="aceeditor"){return a.AceEditor.HTML(d)}}}}}if(c.readOnly){if(c.type=="file"){return this.createFileViewer(c)}if(c.type=="richtextbox"){return this.createRichTextboxViewer(c)}if(c.type=="peoplepicker"){return a.PeoplePicker.createHTMLString(c.id,d)}if(c.type=="yesno"){return a.YesNo.HTML(d)}if(c.type=="date"){return a.FlatDatepicker.HTML(d)}return this.createLabel(c)}else{if(c.type=="textbox"){return a.TextBox.HTML(d)}else{if(c.type=="dropdown"){return a.Dropdown.createHTMLString(c.id,d)}else{if(c.type=="multitextbox"){if(d==null){d={}}d.multiline=true;return a.TextBox.HTML(d)}else{if(c.type=="richtextbox"){return this.createRichTextbox(c)}else{if(c.type=="file"){return this.createFileInput(c)}else{if(c.type=="date"){return a.FlatDatepicker.HTML(d)}else{if(c.type=="dropdown"){return this.createDropdown(c)}else{if(c.type=="radiobuttons"){return this.createRadioButtonList(c)}else{if(c.type=="yesno"){return a.YesNo.HTML(d)}else{if(c.type=="checkbox"){if(d.label==null){d.label=c.label}return a.CheckBox.HTML(d)}else{if(c.type=="peoplepicker"){return a.PeoplePicker.createHTMLString(c.id,d)}else{if(c.type=="datapicker"){return this.createDataPicker(c)}else{if(c.type=="checkboxlist"){return a.CheckBoxList.HTML(c)}else{return this.createLabel(c)}}}}}}}}}}}}}}},createContentHolder:function(c){return"<div id='"+c.id+"' class='form_content'></div>"},createRichTextbox:function(c){return"<div id='"+c.id+"' class='richtextbox form_richtextbox'></div>"},createRichTextboxViewer:function(c){return"<div id='"+c.id+"' class='richtextbox form_richtextboxviewer'><div class='form_richtextboxviewer_inner'></div></div>"},createWideLabel:function(c){return"<div id='"+c.id+"' class='form_widelabel'>"+c.label+"</div>"},createLabel:function(c){return"<div id='"+c.id+"' class='form_label'></div>"},createFileInput:function(c){return"<input id='"+c.id+"' type='file' multiple name='filepond' class='filepond' />"},createFileViewer:function(c){return"<div id='"+c.id+"' class='form_fileViewer'></div>"},createDropdown:function(c){return"<div id='"+c.id+"' class='dropdown form_dropdown'><span class='ddLabel form_dropdown_label' unselectable='on'>Select value</span><div class='ddButton form_dropdown_button'></div></div>"},createRadioButtonList:function(d){var g="<div id='"+d.id+"' class='radiobuttonList form_radiobuttonList'>";if(d.options&&d.options.Values){d.options.buttons=[];for(var c=0;c<d.options.Values.length;c++){d.options.buttons[c]=d.options.Values[c].Label}}if(d.options&&d.options.buttons){for(var c=0;c<d.options.buttons.length;c++){g+="<div class='radiobutton form_radiobutton'><div class='radioButton form_radioButton'><div class='radioButtonCircle'></div></div><div class='radioLabel form_radioLabel'>";g+=d.options.buttons[c]+"</div></div>"}}return g+"</div>"},createCheckBoxList:function(d){var g="<div id='"+d.id+"' class='checkboxList form_checkboxList'>";if(d.options&&d.options.buttons){for(var c=0;c<d.options.buttons.length;c++){g+="<div";if(d.options.noID!==true){if(d.options.ids){g+=" id='__"+d.id+d.options.ids[c]+"'"}else{g+=" id='__"+d.id+d.options.buttons[c]+"'"}}g+=" class='checkbox form_checkbox "+d.options.classes+"'><div class='checkboxButton form_checkboxButton'>&#10003;</div><div class='checkboxLabel form_checkboxLabel'>";g+=d.options.buttons[c]+"</div></div>"}}return g+"</div>"},createDataPicker:function(c){if(c.options&&c.options.multipicker){return"<div id='"+c.id+"' class='dropdown form_dropdown datapickerMultipicker'><div class='ddLabel form_dropdown_label datapickerLabelMultipicker'>Select values</div><div class='ddButton ddDataPickerButton form_dropdown_button datapickerButtonMultipicker'></div></div>"}else{return"<div id='"+c.id+"' class='dropdown form_dropdown'><div class='ddLabel form_dropdown_label' unselectable='on'>Select value</div><div class='ddButton ddDataPickerButton form_dropdown_button'></div></div>"}},interfaceElement:function(d,c){if(d.options==null){d.options={}}d.options.id=d.id;d.options.name=c;d.options.readOnly=d.readOnly;var j=(d.element?d.element:("#"+d.id));var g=d.options;if(d.type==="hidden"){return new a.StaticElement(d.id)}if(d.type==="widelabel"){return this.interfaceWideLabel(d,c)}else{if(d.type==="content"||d.type==="widecontent"){return this.interfaceContentHolder(d,c)}else{if(d.type==="button"){return a.NB(j,g)}else{if(d.type==="object"){return new a.ObjectViewer(j,g)}else{if(d.type==="aceeditor"){return new a.AceEditor(j,g)}}}}}if(d.readOnly){if(d.type==="file"){return this.interfaceFileViewer(d,c)}else{if(d.type==="richtextbox"){return this.interfaceRichTextboxViewer(d)}else{if(d.type==="peoplepicker"){return this.interfacePeoplePicker(d,c).viewOnly()}else{if(d.type==="yesno"){return new a.YesNo(j,g)}else{if(d.type==="date"){return this.interfaceDatePicker(d,c)}else{return this.interfaceLabel(d,c)}}}}}}else{if(d.type==="textbox"){return this.interfaceTextbox(d,c)}else{if(d.type==="dropdown"){return this.interfaceDropdown(d,c)}else{if(d.type==="multitextbox"){return this.interfaceMultilineTextbox(d,c)}else{if(d.type==="richtextbox"){return this.interfaceRichTextbox(d,c)}else{if(d.type==="file"){return this.interfaceFileInput(d,c)}else{if(d.type==="date"){return this.interfaceDatePicker(d,c)}else{if(d.type==="radiobuttons"){return this.interfaceRadioButtonList(d,c)}else{if(d.type==="yesno"){return new a.YesNo(j,g)}else{if(d.type==="checkbox"){return a.CB(j,g)}else{if(d.type==="peoplepicker"){return this.interfacePeoplePicker(d,c)}else{if(d.type==="datapicker"){return this.interfaceDataPicker(d,c)}else{if(d.type==="checkboxlist"){return new a.CheckBoxList(j,g)}else{return this.interfaceLabel(d,c)}}}}}}}}}}}}}},interfaceContentHolder:function(d,c){return a((d.element?d.element:("#"+d.id)),c)},interfaceTextbox:function(d,c){d.options.Name=c;return a.TB((d.element?d.element:("#"+d.id)),d.options)},interfaceMultilineTextbox:function(d,c){d.options.Name=c;return a.TB((d.element?d.element:("#"+d.id)),d.options).autogrow(null,"textbox form_ta")},interfaceRichTextboxViewer:function(d,c){if(!d.options){d.options={}}d.options.readOnly=true;return a.RTB((d.element?d.element:("#"+d.id)),c,d.options)},interfaceRichTextbox:function(d,c){return a.RTB((d.element?d.element:("#"+d.id)),c,d.options)},interfaceWideLabel:function(g,c){var d=a((g.element?g.element:("#"+g.id)),c);if(g.options){if(g.options.classes){d.addClass(g.options.classes)}}return d},interfaceLabel:function(d,c){return a((d.element?d.element:("#"+d.id)),c)},interfaceFileInput:function(g,d,c){if(c){g.options.files=c[decapitalizeFirstLetter(d)]}return new a.FilepondInput((g.element?g.element:("#"+g.id)),d,g.options)},interfaceFileViewer:function(d,c){return new a.FileViewer((d.element?d.element:("#"+d.id)),c,d.options)},interfaceDatePicker:function(d,c){return new a.FDP((d.element?d.element:("#"+d.id)),d.options)},interfaceDropdown:function(d,c){return new a.DD((d.element?d.element:("#"+d.id)),c)},interfaceRadioButtonList:function(d,c){return new a.RBL((d.element?d.element:("#"+d.id)),c)},interfaceCheckBoxList:function(j,d){var c={};if(j.options&&j.options.buttons){for(var g=0;g<j.options.buttons.length;g++){c[j.options.ids[g]]=a.CB("#__"+j.id+(j.options.ids?j.options.ids[g]:j.options.buttons[g]))}}return c},interfaceCheckBox:function(d,c){return a.CB((d.element?d.element:("#"+d.id)),{Name:c})},interfacePeoplePicker:function(d,c){return new a.PeoplePicker((d.element?d.element:("#"+d.id)),c)},interfaceDataPicker:function(d,c){return a.Datap((d.element?d.element:("#"+d.id)),c,null,d.options)}};return b})(I);(function(b){b.CreateForm=function(u,k){var j;if(k.form!=null){j=k.form}else{j=new b.Form(u,k.submitURL,false,false);j.representsObject(k.modelName)}var z=new b.WebForm(u,{form:j,decapitalize:k.decapitalizeDataElements!==false,theme:k.theme,labelAlignment:k.labelAlignment});var w=z.newSection();if(k.fields){for(var m=0;m<k.fields.length;m++){var d=k.fields[m];var o=k.readOnly||d.readOnly;var g=d.control?d.control.toLowerCase():"";if(g==="datapicker"&&d.options!=null){var n=d.options;d.options={titleColumn:n.titleColumn,keyColumn:n.keyColumn,multipicker:n.multipicker,table:{controller:n.controller,objectName:n.objectName,objectNamePlural:n.objectNamePlural,hiddenColumns:["Id"],columns:n.columns,enableQueryBuilder:false,enableSearch:true,deleteDisabled:false,editDisabled:false,enableAdd:n.enableAdd!==false,useNewOptionsLoader:true,manipulateColumnOutput:function(C,A,B){if(A.name=="Name"){if(C===null){return"<span class='tableNoValue'>NULL</span>"}}return C}}}}w.newRow(d.name,g,d.options,d.title,d.description,d.required,o,d.value,d.hidden,d.excludeFromForm)}}var c;if(!k.readOnly&&k.noButtonsRow!==true){c=w.newRow("buttons","content")}z.buttonsRow=c;z.create();if(!k.readOnly&&k.noButtonsRow!==true){var y=k.submitButtonText==null?"Submit":k.submitButtonText;var x=b("<div class='nButton webForm_button' style='margin-top:10px'>"+y+"</div>");c.element.content(x);x=b.NB(x);j.setButton(x);j.response(function(A){if(A&&!A.error){if(k.showSuccessMessage!==false){if(k.submitSuccessMessage){b.toaster.success(k.submitSuccessMessage,null,8000)}else{b.toaster.success("Form submitted.",null,8000)}}if(k.submitRedirect){b.navigate(k.submitRedirect)}}})}return z};var a=function(c){return c.charAt(0).toLowerCase()+c.slice(1)};b.WebFormRow=function(c){this.section=c};b.WebFormRow.prototype={init:function(j,u,m,k,c,o,n,w,g,d){if(!m){m={}}this.element_id=j;this.type=u;this.options=m;this.label=k==null?"":k;this.description=c;this.required=o;this.readOnly=n;this.value=w;this.hidden=g;this.excludeFromForm=d;m.readOnly=n;if(u=="content"||u=="widecontent"||u=="label"||u=="widelabel"){this.readOnly=true}else{if(this.readOnly&&u!="file"&&u!="richtextbox"&&u!="peoplepicker"&&u!="date"&&u!="yesno"&&u!="object"){this.type="label"}}},addValidation:function(c,g,j,d){this.validationCheck=c;this.validationMsg=g;this.validationOnChange=j;this.validationDontStyle=d;return this},configure:function(c){return this}};b.WebFormSection=function(g,c,d){this.name=c;this.webForm=g;this.id=String.random(8);this.readOnly=d;this.rows=[]};b.WebFormSection.prototype={newRow:function(j,w,m,k,c,o,n,x,g,d){var u=new b.WebFormRow(this);if(this.readOnly){n=true}u.init(j,w,m,k,c,o,n,x,g,d);this.addRow(u);return u},addRow:function(c){this.rows.push(c);return this}};b.WebForm=function(d,c){this.sections=[];this.elements={};this.options=c;if(!c.labelAlignment){c.labelAlignment="right"}this.id=String.random(8);if(c.theme==null){c.theme="defaultTheme"}return this.initParent(d)};b.WebForm.inherit(b.Interface,(function(w){var E="'>",o="</div>";var z="<div class='webForm ",C="<div class='webForm_section ",A="<div class='webForm_header ",B="<div class='webForm_header_text ",D="<table class='webForm_table ",u="</tbody></table>",y="<tr class='",x="</tr>",k="<td>",g="<td class='webForm_label'>",j="<td class='webForm_label rightAligned'>",d="<td class='form_control'>",n="<td class='form_control' colspan='2'>",m="<td class='form_control' colspan='3'>",c="</td>",F="<tbody class='webForm_tbody";return{newSection:function(G){var H=new w.WebFormSection(this,G,this.options.readOnly);this.addSection(H);return H},addSection:function(G){this.sections.push(G);return this},create:function(){this.content(w(this.generate()));this.interfaceAll();return this},interfaceAll:function(){var G=this.child(0).children();for(var H=0;H<this.sections.length;H++){this.interfaceSection(this.sections[H],G[H])}},interfaceSection:function(O,P){var G=P.find(".webForm_tbody").children();for(var J=0;J<O.rows.length;J++){var M=O.rows[J];var N,L,K;if(this.options.vertical){N=K=G[J+J+1];L=G[J+J+0]}else{N=L=K=G[J]}M.element=N.find(".form_control").child(0);var H=w.FormBuilder.interfaceElement(M,M.element_id);M.element=H;M.rowElement=N;M.inputElement=K;M.labelElement=L;H.addClass("webForm_"+M.type);if(this.options.saveOnChange){H.change(function(){this.options.form.execute()},this)}if(!M.readOnly){if(M.excludeFromForm!==true){this.options.form.add(H)}if(M.validationCheck){H.validation(M.validationCheck,M.validationMsg,M.validationOnChange,M.validationDontStyle)}else{if(M.required){H.checkNotEmpty()}}}this.elements[M.element_id]=H;H._formRow=M;if(M.value!=null){H.value(M.value)}}},generate:function(){this.n=0;var G=z+this.options.theme+E;for(var H=0;H<this.sections.length;H++){G+=this.generateSection(this.sections[H])}return G+o},generateSection:function(J){var G=C+this.options.theme+E;if(J.name){G+=A+this.options.theme+E;G+=B+this.options.theme+E;G+=J.name;G+=o+o}G+=D+this.options.theme+(this.options.tableClass?" "+this.options.tableClass:"")+E+F;if(this.options.vertical){G+=" vertical'>"}else{G+="'>"}for(var H=0;H<J.rows.length;H++){G+=this.generateRow(J.rows[H],J,H)}G+=u;return G+o},generateRow:function(J){var G=y+"row_"+J.element_id+"'"+(J.hidden===true?" style='display:none'":"")+">";if(!J.ignoreNumbering){this.n++;if(this.options.addNumbering){G+=k+this.n+c}}if(J.type==="widelabel"||J.type==="widecontent"||(J.options!=null&&J.options.spanLabelColumn)){G+=m+w.FormBuilder.createElement(J,J.options)+c}else{var H=J.label;if(J.type==="checkbox"){H=""}if(this.options.labelAlignment==="right"){G+=j}else{G+=g}if(!this.options.readOnly&&!J.readOnly&&J.type!=="button"&&J.type!=="content"&&J.type!=="label"&&H!=null&&H!==""){if(J.required){if(this.options.hideRequiredLabels){G+=H}else{if(this.options.labelAlignment==="right"){G+=H+"<span class='formRequiredLabel'>*</span>"}else{G+=H+"<span class='formRequiredLabel'>*</span>"}}}else{if(this.options.hideOptionalLabels){G+=H}else{if(this.options.labelAlignment==="right"){G+=H}else{G+=H+"<span class='formOptionalLabel'>(Optional)</span>"}}}}else{G+=H}G+=c;if(this.options.vertical){G+="</tr><tr>"}if(J.description){G+=d+w.FormBuilder.createElement(J,J.options)+c;G+=k+J.description+c}else{G+=n+w.FormBuilder.createElement(J,J.options)+c}}return G+x},setValues:function(G){for(var J=0;J<this.sections.length;J++){var L=this.sections[J];for(var N=0;N<L.rows.length;N++){var K=L.rows[N];var H=this.options.decapitalize===false?K.element_id:a(K.element_id);var M=G[H];if(M!=null){if(K.type=="label"||K.type=="widelabel"||K.type=="content"||K.type=="widecontent"){K.element.content(M)}else{K.element.value(M)}}else{if(K.type=="file"){K.element.initialize()}}}}}}})(b))})(I);I.FormElements={getHTML:function(a,b){return I[a].HTML(b)},getElement:function(b,d,c){var a=I[b];return new a(d,c)},create:function(a,b){return I[a].create(b)},getDefaultName:function(a){switch(a){case"textbox":return"TextBoxHolder";case"checkbox":return"CheckBox";case"datepicker":return"FlatDatePicker";case"richtextbox":return"RichTextBox";case"peoplepicker":return"PeoplePicker";case"fileviewer":return"FileViewer";case"fileuploader":return"FileUploader";case"codeeditor":return"AceEditor";case"datapicker":return"DataPicker";case"objectviewer":return"ObjectViewer";case"yesno":return"YesNo";case"label":return"Label"}throw"I.FormElements.getDefaultName(): Control name not found: "+a},getDefaultHTML:function(a,b){return this.getHTML(this.getDefaultName(a),b)},getDefaultElement:function(a,c,b){return this.getElement(this.getDefaultName(a),c,b)},createDefault:function(a,b){return this.create(this.getDefaultName(a),b)}};I.Contracts={isNumberType:function(a){return a==="Int"||a==="Decimal"||a==="Double"||a==="Float"},getHTMLDefault:function(a){this.setFormElement(a);return I.FormElements.getHTML(a.formElement,a.options)},interfaceDefault:function(a){this.setFormElement(a);return I.FormElements.getElement(a.formElement,a.options.id,a.options)},createDefault:function(a){this.setFormElement(a);return I.FormElements.create(a.formElement,a.options)},setControlName:function(a){if(!a.control){a.control=this.getControlName(a)}},setFormElementName:function(a){this.setControlName(a);if(!a.formElement){a.formElement=I.FormElements.getDefaultName(a.control)}},setFormElement:function(a){this.setFormElementName(a);if(a.formElement){var b=I[a.formElement];if(!b){throw"I.Contracts.setFormElement(): Form Element object not found: "+a.formElement}if(b.createDefaultOptions){a.options=a.createDefaultOptions(a)}}},getControlName:function(a){var b=a.shortType;if(a.foreignModel&&element.shortType!=="File"){return"dropdown"}if(this.isNumberType(b)){return"textbox"}switch(b){case"String":return"textbox";case"Boolean":return"checkbox";case"DateTime":return"datepicker";case"RichText":return"richtextbox";case"Person":return"peoplepicker";case"File":return a.readOnly?"fileviewer":"fileuploader";case"Code":return"codeeditor";case"Object":return"objectviewer"}return"label"}};I.FL=function(a){return new I.Floater(a)};I.Floater=function(a){this.initParent(a).addClass("floatTop").addHover();this.iObj=null;this.active=false;this.firstPositioning=true;this.initFl();return this.click(null,null,null,true)};I.Floater.inherit(I.Action,(function(c){c.Floater.actives=c.AL();c.call.on("bodyResize",function(){if(!this.actives.empty()){c.timeout(0,this.reposition,this);c.timeout(100,this.reposition,this)}},c.Floater);var g=function(){this.switchOn()},d=function(){this.switchOff()},n=function(){this.release()},m=function(){this.press()},b=function(){if(this.targetObj===true){return this.iObj}else{if(this.targetObj===false){if(this.iObj!=null&&this.iObj.html!=null){return this.iObj.parent()}else{return null}}else{return this.targetObj}}},a=function(){if(this.listView){this.listView.raiseDispose()}},j=function(o,u){if(!o.exemptFromOutsider){o.exemptFromOutsider=[]}o.exemptFromOutsider.push(this)};var k={targetObj:true,actives:c.Floater.actives,initFl:function(){this.down(j,this)},viewList:function(w,u,x,o){if(this.listView){this.listView.fill(w)}else{this.listView=c.LV("<div/>",u,x).fill(w)}if(o){this.listView.isActionList()}return this.onclose(this.listView.closing,this.listView).onopen(this.listView.opening,this.listView).append(this.listView)},bindDisposeTo:function(o){this.location(o,this.relLeft,this.relTop);this._boundToFixedObj=true;return this},loose:function(){this.targetObj=null;return this},target:function(o){this.targetObj=o;return this},targetSelf:function(){this.targetObj=true;return this},targetParent:function(){this.targetObj=false;return this},absolute:function(o){if(this.fixed){this.fixed=false;this.targetSelf().removeClass("floatFixed")}return this},fix:function(){if(!this.fixed){this.fixed=true;this.addClass("floatFixed")}return this},closeOnBlur:function(){return this.outside(this.close,this)},alwaysReposition:function(){this.alwaysRepositionAfterBodyWidthChanges=true;return this},setSwitch:function(o){if(o.isASwitch){this.onopen(g,o).onclose(d,o);o.switchOff(this.close,this).switchOn(this.open,this)}else{if(o.isSticky){this.onopen(m,o).onclose(n,o);o.release(this.close,this).press(this.open,this)}else{o.click(this.toggle,this)}}return this},minSize:function(u,o){if(u){this.minW=u}if(o){this.minH=o}return this},maxSize:function(u,o){if(u){this.maxW=u}if(o){this.maxH=o}return this},above:function(o,u,w){this.anchorX=0;this.anchorY=2;return this.location(o,u,w)},below:function(o,u,w){this.anchorX=0;this.anchorY=1;return this.location(o,u,w)},belowToLeft:function(o,u,w){this.anchorX=3;this.anchorY=1;return this.location(o,u,w)},leftOf:function(o,u,w){this.anchorX=2;this.anchorY=0;return this.location(o,u,w)},rightOf:function(o,u,w){this.anchorX=1;this.anchorY=0;return this.location(o,u,w)},location:function(o,u,w){if(!this._boundToFixedObj){if(this.iObj!==o){if(this.iObj){this.iObj.FL.spliceObj(this)}if(!o.FL){o.FL=[this]}else{o.FL.push(this)}this.close()}}this.iObj=o;this.relLeft=u||0;this.relTop=w||0;return this},position:function(B,z,A){if(B===true&&!this.fixed&&this.targetObj!=null&&!this.alwaysRepositionAfterBodyWidthChanges){return this}var o=this.anchorX;var u=this.anchorY;if(o===1&&z){o=2}else{if(o===2&&z){o=1}}if(u===1&&A){u=2}else{if(u===2&&A){u=1}}if(this.active){var C,G,H,x;if(this.targetObj==null||this.fixed){var y=this.iObj.boxinfo();if(!y.width){return this.close()}if(o===3){G=c.body.w-y.left-y.width-this.relLeft-1}else{if(o===2){G=c.body.w-y.left-this.relLeft-1}else{if(o===1){C=y.left+y.width+this.relLeft}else{C=y.left+this.relLeft}}}if(u===2){x=c.body.h-y.top-this.relTop-1}else{if(u===1){H=y.top+y.height+this.relTop}else{H=y.top+this.relTop}}}else{var E=this.relLeft,F=this.relTop;var y=this.iObj.boxinfo();if(this.targetObj!==true){var D=this.iObj.offsetWithParent();E+=D.left;F+=D.top}if(u===2){x=-F-this.iObj.css("borderBottom")+y.height}else{H=F-this.iObj.css("borderTop");if(u===1){H+=this.iObj.html.offsetHeight}}if(o===2){G=-E-this.iObj.css("borderRight")+y.width}else{C=E-this.iObj.css("borderLeft");if(o===1){C+=this.iObj.html.offsetWidth}}}if(!this.aniTime||this.firstPositioning){if(C==null){this.left("").right(G)}else{this.left(C).right("")}if(H==null){this.top("").bottom(x)}else{this.top(H).bottom("")}}else{var w={};if(C!=null){w.left=C}else{w.right=G}if(H!=null){w.top=H}else{w.bottom=x}this.animate(w,this.aniTime)}this.firstPositioning=false}return this.checkLocation(o,u,z,A)},fitToScreen:function(){this.fit=true;return this},checkLocation:function(o,u,w,x){if(this.fit){var z,y,A=3;y=c.body.h-A-this.badHeight();if(u===2){y-=this.b}else{y-=this.t}z=c.body.w-A-this.badWidth();if(o===2){z-=this.r}else{z-=this.l}if(w!==false&&this.minW!=null&&this.minW>z){if(w){return this.position(null,false,false)}if(x!==false&&this.minH!=null&&this.minH>y){return this.position(null,true,true)}return this.position(null,true)}else{if(x!==false&&this.minH!=null&&this.minH>y){if(x){return this.position(null,false,false)}return this.position(null,null,true)}}if(w===false&&this.minW>z){this.css("minWidth","")}else{this.css("minWidth",this.minW)}if(x===false&&this.minH>y){this.css("minHeight","")}else{this.css("minHeight",this.minH)}if(this.maxW==null||this.maxW>z){this.css("maxWidth",z)}else{this.css("maxWidth",this.maxW)}if(this.maxH==null||this.maxH>y){this.css("maxHeight",y)}else{this.css("maxHeight",this.maxH)}}return this},animatePos:function(o){this.aniTime=o||400;return this},enable:function(){if(this.disabled){this.disabled=false}},disable:function(){if(!this.disabled){this.disabled=true;this.close()}},toggle:function(){if(this.active){this.close()}else{this.open()}},open:function(){if(!this.disabled&&this.iObj){if(!this.active){this.active=true;this.actives.add(this);if(this.targetObj===null){c.body.append(this)}if(this.targetObj!==null){var o=b.call(this);if(o){o.append(this)}}this.outsideListener(true);this.show().position();if(this.active){this.onopen()}}}return this},onopen:c.q("open"),close:function(o){if(this.active){this.active=false;this.outsideListener(false);this.remove(o!==true);this.actives.removeItem(this);this.onclose();if(this.hover&&this.targetObj!==null){var u=b.call(this);if(u){u.out()}}}else{if(o===true){this.remove()}}return this},onclose:c.q("close")};return k})(I));I.Floater.checkReposition=function(){if(!this.actives.empty()){I.timeout(0,I.Floater.reposition,this)}};I.Floater.reposition=function(){var a=this.actives,b=this.actives.getIterator();while(b.next()){b.item.position(true)}};I.Floater.closeAll=function(){var a=this.actives,b=this.actives.getIterator(true);while(b.prev()){b.item.close()}};I.call.on("bodyResizeTick",I.Floater.checkReposition,I.Floater);I.state.onReady(function(){I.window.scroll(I.Floater.checkReposition,I.Floater)});I.LV=function(b,a,c){return new I.ListView(b,a,c)};I.ALV=function(b,a,c){return new I.ListView(b,a,c).isActionList()};I.ListView=function(b,a,c){if(a){a.prototype.D=this;this.objectType=a}else{this.objectType=I.ListViewObject}this.template=c?c:a.prototype.template;this.all=I.C();this.actives=I.C();this.dispose(this.onDispose,this);if(typeof this.template==="string"){this.classes=this.template;this.template=this.classesTemplate}return this.initParent(b).delegate("link")};I.ListView.inherit(I.Interface,(function(){var g=function(z){z.styleEnter()},m=function(z){z.styleLeave()},n=function(z){z.stylePress()},o=function(z){z.styleRelease()},a=function(A,z){A.actions.doEnter.call(A,z)},b=function(A,z){A.actions.catchLeave.call(A,z)},c=function(A,z){A.actions.mouseDown.call(A,z)},d=function(A,z){A.actions.doRelease.call(A,z)},j=function(A,z){this.objectHandler("onselect",A,z)},k=function(z){if(this.highlightingOn){if(z.keyCode==40){z.preventDefault();this.selectNext(this.highlighted)}else{if(z.keyCode==38){z.preventDefault();this.selectPrev(this.highlighted)}else{if(z.keyCode==13){this.objectSelect(this.highlighted)}else{this.selectByLetter(String.fromCharCode(z.keyCode))}}}}if(z.keyCode==13){z.stopPropagation();z.preventDefault();this.objectEnterKey(this.highlighted)}else{if(z.keyCode==9){this.objectTab(this.highlighted)}}},w=function(z){this.highlight(z);this.selectedObject=z},u=function(z,A){z.remove(A);if(this.highlighted===z){this.highlighted.removeClass("highlight");this.highlighted=null;this.highlight(this.actives.items[0])}if(this.selectedObject===z){this.selectedObject=null}},x=function(){if(!this.isEmpty&&!this.all.items.length){this.isEmpty=true;if(this.emptyObj){this.append(this.emptyObj)}}},y=function(){if(this.isEmpty&&this.all.items.length){this.isEmpty=false;if(this.emptyObj){this.emptyObj.remove(true)}}};return{onDispose:function(){this.highlighted=null;this.selectedObject=null;this.isEmpty=true;this.list=null},isActionList:function(){return this.addHover().addPress()},addHover:function(){return this.objectEnter(g,this).objectLeave(m,this)},addPress:function(){return this.objectPress(n,this).objectRelease(o,this)},count:function(){return this.actives.items.length},applyFilter:function(){if(this.filterFn){this.filterArguments=arguments;this.filterActive=true;var B,C=0,z=this.all.items.length,A;for(;C<z;C++){B=this.all.items[C];if(this.filterFn.apply(B,arguments)){if(!B.lvActive){B.lvActive=true;this.insertAfter(A,B);this.actives.addBefore(A?A.listKey:null,B.listKey,B)}A=B}else{if(B.lvActive){B.lvActive=false;this.actives.remove(B.listKey);u.call(this,B,true)}}}}return this},filter:function(z){this.filterFn=z?z:null;return this.filterOff()},filterOff:function(){if(this.filterActive){this.filterActive=false;var A,C=0,z=this.all.items.length,B;for(;C<z;C++){A=this.all.items[C];if(!A.lvActive){A.lvActive=true;this.insertAfter(B,A);this.actives.addBefore(B?B.listkey:null,A.listKey,A)}B=A}}return this},order:function(z){return this},whenEmpty:function(z){if(this.emptyObj){this.emptyObj.remove()}this.isEmpty=false;this.emptyObj=z.isInterface?z:I(z);x.call(this);return this},shuffle:function(){this.highlighted=null;this.selectedObject=null;this.empty(true);this.actives.shuffle();for(var z=0;z<this.actives.items.length;z++){this.append(this.actives.items[z])}return this},header:function(z){this.headerStr=z;return this},fill:function(E){if(E){if(E.isList){if(this.list!==E){this.list=E.follow(this)}}else{E=this.list=I.L(E).follow(this)}var K="",z,C,B=E.items,H=[],G,J,D;if(this.headerStr){K=this.headerStr}if(E.isDictionary){C=E.keys;for(J=0,D=B.length;J<D;J++){K+=this.template(B[J])}}else{if(E.lookup){var F=E.lookup;C=[];for(var A in F){if(F.hasOwnProperty(A)){C.push(parseInt(A));K+=this.template(F[A])}}}else{C=[];for(J=0,D=B.length;J<D;J++){C[J]=J;K+=this.template(B[J])}}}if(this.emptyObj){this.emptyObj.remove(true)}this.highlighted=null;this.selectedObject=undefined;this.isEmpty=false;this.content(K);z=this.children();for(J=0,D=z.length;J<D;J++){G=new this.objectType(z[J],B[J],this);G.D=G.L=this;G.listItem=B[J];G.listKey=C[J];G.lvActive=true;H[J]=G}this.all.fill(C,H);this.actives.fill(C,H);if(this.highlightingOn&&J){this.highlight(H[0])}if(this.filterActive){this.applyFilter(this.filterArguments)}x.call(this)}return this},findActivesPosition:function(z){if(z!=null&&z!==-1){var C=z,A=this.all.items.length,B;for(;C<A;C++){B=this.all.items[C];if(B&&B.lvActive){return this.actives.indexOf(B)}}}return null},createObject:function(z,A){var B=new this.objectType(this.template(A),A);B.listItem=A;B.listKey=z;B.D=B.L=this;return B},addObject:function(A,B){this.all.add(A.listKey,A,B);if(!this.filterActive||this.filterFn.apply(A,this.filterArguments)){A.lvActive=true;var z=this.findActivesPosition(B);this.actives.add(A.listKey,A,z);this.insert(A,z);if(this.highlightingOn&&!this.highlighted){this.highlight(A)}y.call(this);return A}},insert:function(A,z){if(z!=null&&z<this.actives.items.length){this.insertAfter(this.actives.items[z-1],A)}else{this.append(A)}},insertBefore:function(A,z){if(z){if(A){A.insertBefore(z)}else{this.append(z)}}return this},insertAfter:function(A,z){if(z){if(A){A.insertAfter(z)}else{this.prepend(z)}}return this},addItem:function(A,z,B){return this.addObject(this.createObject(A,z),B)},updateItem:function(B,C){var A=this.get(B);if(I.has(A)){if(!I.has(C)){C=A.item}var D=this.createObject(B,C);if(!this.filterActive||this.filterFn.apply(D,this.filterArguments)){D.lvActive=true}if(A.lvActive){var E=this.nextObject(A);if(D.lvActive){this.actives.update(B,D);this.insertBefore(E,D)}else{this.actives.remove(B)}u.call(this,A)}else{if(D.lvActive){var z=this.findActivesPosition(this.all.indexOf(A));this.insert(D,z);this.actives.add(B,D,z)}}this.all.update(B,D)}return this},removeItem:function(z){var A=this.get(z);if(I.has(A)){if(A.lvActive){this.actives.remove(z);u.call(this,A)}this.all.remove(z)}x.call(this);return this},selectItem:function(A,z){var B=this.get(A);if(I.has(B)){this.selectedObject=B;this.highlight(B)}return this},get:function(z){return this.all.get(z)},find:function(z){return z.listKey},classesTemplate:function(z){return"<div class='"+this.classes+"'>"+z+"</div>"},nextObject:function(z){if(z){return this.actives.next(z.listKey)}return null},prevObject:function(z){if(z){return this.actives.prev(z.listKey)}return null},selectNext:function(A){if(!A){A=this.selectedObject}var z=this.nextObject(A);if(z){this.objectSelect(z.scrollIntoView())}},selectPrev:function(z){if(!z){z=this.selectedObject}var A=this.prevObject(z);if(A){this.objectSelect(A.scrollIntoView())}},selectByLetter:function(z){if(this.selectByLetterDisabled){return}var C=this.highlighted?this.actives.indexOf(this.highlighted):0,B=C,A;while(true){if(++B==this.actives.items.length){B=-1;continue}if(B==C){return this}A=this.actives.items[B].listItem;if(typeof A==="number"){A+=""}if(typeof A==="string"){if(A.startsWith(z)){this.objectSelect(this.actives.items[B].scrollIntoView());return this}}}},selectHighlighted:function(){this.objectSelect(this.highlighted)},opening:function(){if(this.highlightingOn){if(this.selectedObject){this.highlight(this.selectedObject);this.selectedObject.scrollIntoView()}this.enableKeys()}},closing:function(){this.disableKeys()},enableKeys:function(){if(!this.keysEnabled){this.keysEnabled=true;I.page.keydown(this,k)}return this},disableKeys:function(){if(this.keysEnabled){this.keysEnabled=false;I.page.keydown(this,null)}return this},highlighting:function(){if(!this.highlightingOn){this.objectOver(this.highlight,this);this.highlightingOn=true;this.highlight(this.actives.items[0]);this.enableKeys()}return this},highlight:function(z){if(z&&this.highlighted!==z){if(this.highlighted){this.highlighted.removeClass("highlight")}this.highlighted=z;z.addClass("highlight")}return this},scrollIntoView:function(){if(this.highlighted){if(this.scrollDirectParent){this.scrollTop(this.highlighted.html.offsetTop)}else{this.parent().scrollTop(this.highlighted.html.offsetTop)}}},objectEvent:function(C,z,B,A){if(z!=null){if(!z.isInterface){return this.queue("obj"+C,z,B,A)}else{this.objectHandler(C,z)}}},objectHandler:function(B,A,z){return this.queueHandler("obj"+B,A,z)},objectClick:function(z,B,A){return this.objectEvent("onclick",z,B,A)},objectUp:function(z,B,A){return this.objectEvent("onmouseup",z,B,A)},objectDown:function(z,B,A){return this.objectEvent("onmousedown",z,B,A)},objectOver:function(z,B,A){return this.objectEvent("onmouseover",z,B,A)},objectOut:function(z,B,A){return this.objectEvent("onmouseout",z,B,A)},objectEnter:function(z,B,A){if(z!=null&&!A&&(!this.e||!this.e.objonenter)){this.objectOver(a,true)}return this.objectEvent("onenter",z,B,A)},objectLeave:function(z,B,A){if(z!=null&&!A&&(!this.e||!this.e.objonleave)){this.objectOut(b,true)}return this.objectEvent("onleave",z,B,A)},objectPress:function(z,B,A){if(z!=null&&!A&&(!this.e||!this.e.objonpress)){this.objectDown(c,true)}return this.objectEvent("onpress",z,B,A)},objectRelease:function(z,B,A){if(z!=null&&!A&&(!this.e||!this.e.objonrelease)){this.objectUp(d,true)}return this.objectEvent("onrelease",z,B,A)},objectEnterKey:function(z,B,A){return this.enableKeys().objectEvent("onenterkey",z,B,A)},objectTab:function(z,B,A){return this.enableKeys().objectEvent("ontab",z,B,A)},objectSelect:function(z,B,A){if(!I.has(this.selectedObject)&&I.has(z)){this.selectedObject=null;this.objectClick(j,this);this.objectSelect(w,this)}return this.objectEvent("onselect",z,B,A)}}})());I.ListViewObject=function(a){return this.initParent(a)};I.ListViewObject.inherit(I.Action,{template:function(a){return"<div>"+a+"</div>"}});I.Img=function(a){return new I.Image(a)};I.Image=function(a){this.isImg=this.initParent(a).tagName()==="IMG";return this};I.Image.inherit(I.Action,{value:function(a){if(I.has(a)){if(this.isImg){this.html.src=a}else{if(a.src){this.posSet=true;this.css("backgroundPosition",a.left+"px "+a.top+"px");this.css("backgroundImage",a.src)}else{if(this.posSet){this.posSet=false;this.css("backgroundPosition","");this.css("backgroundImage",a)}else{this.css("backgroundImage",a)}}}return this}else{if(this.isImg){return this.html.src}else{return this.css("backgroundImage")}}}});I.M=function(b,a){return new I.Menu(b,a)};I.Menu=function(b,a){this.selected=null;this.initParent(b);this.items=this.children(I.A);if(I.has(a)){this.selected=this.items[a]}return this.init()};I.Menu.inherit(I.Interface,(function(){var b=I.q("select"),a=function(){this.menu.selectItem(this)};return{init:function(){var c,g,d;for(c=0,g=this.items.length;c<g;c++){d=this.items[c];d.menu=this;d.select=b;d.click(a,d)}return this},select:function(c){this.items[c].click();return this},deselect:function(){if(this.selected){this.selected.removeClass("selected");this.selected=null}return this},selectItem:function(d,c){if(this.selected){if(this.selected===d){return this}this.selected.removeClass("selected")}this.selected=d.addClass("selected");d.select();return c?this:this.change()},value:function(d,c){if(I.has(d)){this.selectItem(d);return this}else{return this.selected.text()}}}}()));I.Tabs=function(c,b){this.initParent(c);var d,a=false;if(this.html!=null&&this.html.className==="tabs"){d=this.child(0);a=true}else{d=this}this.selected=null;this.items=d.children(I.A);if(I.has(b)){this.selected=this.items[b]}this.init();if(a){this.setBoxes(this.child(1))}return this};I.Tabs.HTML=function(d){d=I.Tabs.prototype.options(d);var j="",a="";if(d.Tabs){for(var c=0;c<d.Tabs.length;c++){var g=d.Tabs[c];j+="<div class='cButton tabButton'>"+g+"</div>";a+="<div></div>"}}var b="<div class='tabs'><div class='tabsHolder'>"+j+"</div><div style='padding-top: 20px;'>"+a+"</div></div>";return b};I.Tabs.create=function(a){return new I.Tabs(I.Tabs.HTML(a),a)};I.Tabs.inherit(I.Interface,(function(b){var d=b.q("select"),a=b.q("deselect"),c=function(){this.menu.selectItem(this)};return{init:function(){var g,k,j;for(g=0,k=this.items.length;g<k;g++){j=this.items[g];j.menu=this;j.select=d;j.deselect=a;j.click(c,j)}return this},setBoxes:function(k){var j=b(k).children(),g;for(i=0,l=j.length;i<l;i++){this.items[i]._box=j[i]}if(this.selected){this.selected._box.show()}this.boxes=j},set:function(n,g,m,k){var j=this.items[n];if(b.has(g)){j._box=g}if(b.has(m)){j._onSelect=m}if(b.has(k)){j._onDeselect=k}},select:function(g){this.items[g].click();return this},deselect:function(){if(this.selected){if(this.selected._onDeselect){this.selected._onDeselect()}if(this.selected._box){this.selected._box.hide()}this.selected.deselect();this.selected.removeClass("selected");this.selected=null}return this},selectItem:function(j,g){if(this.selected){if(this.selected._onDeselect){this.selected._onDeselect()}if(this.selected._box){this.selected._box.hide()}this.selected.deselect();this.selected.removeClass("selected")}this.selected=j.addClass("selected");if(this.selected._onSelect){this.selected._onSelect()}if(this.selected._box){this.selected._box.show()}j.select();return g?this:this.change()},value:function(j,g){if(b.has(j)){this.selectItem(j);return this}else{return this.selected.text()}}}})(I));I.page=(function(u){var B=false,E=null,c=[],d=false,z={debugging:!!window.serverConfig?window.serverConfig.debugging:false,inProduction:!!window.serverConfig?window.serverConfig.inProduction:true,isSecure:location.protocol==="https:",init:false,hashHistoryIndex:0,getQueryStringValue:function(F){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(F).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},getLastURLSegmentValue:function(){var F=window.location.pathname.split("/");return decodeURIComponent(F[F.length-1])},updateTitle:function(F){this.title=window.document.title=F},deselect:function(){if(window.getSelection){window.getSelection().removeAllRanges()}else{if(document.selection.createRange){var F=document.selection.createRange();document.selection.empty()}}},maintenance:function(){this.disposeAll()},disposer:function(F){c.push(F)},disposeAll:function(){if(!d){d=true;if(c.length){try{for(var G=0;G<c.length;G++){c[G].dispose()}c.clear()}catch(F){console.log("Error while disposing. "+F.message)}finally{d=false}}}},restart:function(){location.reload(true)},keydownListeners:[],keydown:function(G,F){if(F===null){for(var J=0,H=this.keydownListeners.length;J<H;J++){if(this.keydownListeners[J].iObj==G){this.keydownListeners.splice(J,1);break}}if(!this.keydownListeners.length){u.doc.keydown(this.keydownHandler,this,true)}}else{if(u.has(F)){if(!this.keydownListeners.length){u.doc.keydown(this.keydownHandler,this)}this.keydownListeners.push({fn:F,iObj:G})}}},keydownHandler:function(F,L){var H=this.keydownListeners,J;for(var K=0,G=H.length;K<G;K++){J=H[K];if(!J.iObj.html){this.keydown(J.iObj,null)}else{J.fn.call(J.iObj,F,L)}}},outsiders:[],setOutsider:function(G,F){if(F){u.timeout(1,function(){if(!this.outsiders.length){u.body.down(y,this)}this.outsiders.push(G)},this)}else{this.outsiders.spliceObj(G);if(!this.outsiders.length){u.body.down(y,this,true)}}},resize:function(G,F){b.w=b.fullWidth();b.h=b.fullHeight();if(u.app&&u.app.onResizeTick){u.app.onResizeTick(b)}u.call.raise("bodyResizeTick",b.w,b.h,b.prevTickW,b.prevTickH);b.prevTickW=b.w;b.prevTickH=b.h;if(B){clearTimeout(B);B=null}if(G===true){D()}else{B=u.timeout(60,D)}if(!z.init){u.call.raiseOnce("bodySizeInit",b.w,b.h);z.init=true}}},b=null,y=function(F,N){var L=this.outsiders.slice(),J=L.length,M;for(M=0,J=L.length;M<J;M++){var K=L[M];if(!K.html){K.outsideListener(false)}else{if(F.exemptFromOutsider){var H=false;for(var G=0,O=F.exemptFromOutsider.length;G<O;G++){if(F.exemptFromOutsider[G]===K){H=true;break}}if(H){continue}}K.outside()}}},D=function(){u.call.raise("bodyResize",b.w,b.h,b.prevW,b.prevH);b.prevW=b.w;b.prevH=b.h},x=function(){u.call.raiseOnce("unload")};b=u.body=u(document.body);u.doc=u(document);u.window=u(window);console.log("Setting Window Onload Event.");var j=false,C=false,m=false;var k=function(){if(!j){j=true;if(window.docLoadEventMustWaitForScriptLoader){if(C){n()}}else{n()}}};var a=false;var n=function(){if(!a){a=true;if(window._pl&&!window._pl.allCompleted){window._exposedDocLoadForPl=g}else{g()}}};var g=function(){if(!m){m=true;console.log("Window Onload Event.");b.scrollbarWidth=b.html.offsetWidth-b.html.clientWidth;try{u.state.raiseDocLoad()}finally{z.resize(true);if(window.addEventListener){window.addEventListener("resize",z.resize);if(u.has(window.onbeforeunload)){window.addEventListener("beforeunload",x)}else{window.addEventListener("unload",x)}}else{window.onresize=z.resize;if(u.has(window.onbeforeunload)){window.onbeforeunload=x}else{window.onunload=x}}u.state.raiseInterfaced()}}};if(document.addEventListener){document.addEventListener("DOMContentLoaded",k)}else{if(document.DOMContentLoaded){document.DOMContentLoaded=k}}if(window.addEventListener){window.addEventListener("load",k,false)}else{window.onload=k}var w=false,o=0;u.onloadFallback=function(){if(!w&&!m){w=true;u.timeout(1000,u.fireLoadIfCompleteRepeat,this)}};u.fireLoadIfCompleteRepeat=function(){if(j||document.readyState=="complete"){if(window.docLoadEventMustWaitForScriptLoader&&!C){if(false&&o>12){console.log("WARNING: LOADING TROUGH FALLBACK METHOD. NORMAL 'fireLoadIfComplete' DID NOT FIRE.");console.log("WARNING: LOADING TROUGH FALLBACK METHOD. NORMAL 'fireLoadIfComplete' DID NOT FIRE.");console.log("WARNING: LOADING TROUGH FALLBACK METHOD. NORMAL 'fireLoadIfComplete' DID NOT FIRE.");n()}else{o++;u.timeout(500,u.fireLoadIfCompleteRepeat,this)}}else{n()}}else{o++;u.timeout(500,u.fireLoadIfCompleteRepeat,this)}};u.scriptLoaderComplete=function(){if(!C){C=true;if(j||document.readyState=="complete"){n()}}};var A=window.location.pathname;z.path=A.substring(1,A.length);z.hash=window.location.hash;if(z.path&&!u.support.history){}if(!z.path&&z.hash){z.path=z.hash.substring(1,z.hash.length)}if(z.path.endsWith("/")){z.path=z.path.substr(0,z.path.length-1)}z.url="/"+z.path+window.location.search;z.urlSet=z.path!="";u.interval(500,z.maintenance,z);return z})(I);(function(d){var j={homeName:"home",pathEvent:function(w,u,x){try{d.navigate(u,null,null,true)}catch(o){window.location.href=u}},staticViewLoader:{index:-1},updateTitleAndUrl:function(z,A,u,B,y){z=z||d.config.defaultTitle;B=B||{};k.updateTitle(z);if(u||A===k.url||(!A&&!k.url)){return}var w=d.has(A),x=window.location;if(d.support.history){if((window.history.state&&!k.urlSet&&(!this.savedState||this.savedState.path==A))||!w||y===true){if(!w){this.savedState={path:k.url,title:k.title,viewLoader:B.name}}else{this.savedState=null}try{window.history.replaceState({path:A,viewLoader:B.name},z,w?A:"/")}catch(o){console.log("windowHistoryReplaceError: "+o)}}else{if(this.savedState){window.history.replaceState({path:this.savedState.path},this.savedState.title,this.savedState.path);this.savedState=null}try{window.history.pushState({path:A,viewLoader:B.name},z,w?A:"/")}catch(o){console.log("windowHistoryPushError: "+o)}}}else{if(w){this.lastDesktopIndex=-1;k.hash=A+"";this.prevHash="#"+k.hash}else{this.lastDesktopIndex=this.prevHashIndex=++this.hashHistoryIndex;k.hash=this.homeName+":"+this.prevHashIndex}k.hash="#"+k.hash}k.url=A;k.urlSet=w}};d.history=j;var k=d.page;if(k.path===j.homeName){k.hash=window.location.hash=j.homeName;k.hash="#"+k.hash;k.path="";k.urlSet=false}if(d.support.history){if(!k.stateReplaced){window.history.replaceState({path:k.url,viewLoader:0},d.config.defaultTitle,k.url)}var n=function(){j.historyScrollTimer=null};j.historyScrollTimer=null;j.resetScroll=null;j.resetOnHistoryScroll=function(o){if(j.historyScrollTimer){clearTimeout(j.historyScrollTimer)}j.historyScrollTimer=d.timeout(400,n);j.resetScroll=o};d.window.scroll(function(o){if(j.historyScrollTimer!==null){clearTimeout(j.historyScrollTimer);j.historyScrollTimer=null;o.preventDefault();if(d.body.docScrollTop()!=j.resetScroll){d.body.docScrollTop(j.resetScroll)}}});var g=function(o){j.resetOnHistoryScroll(0);var w,u;if(j.savedState){w=j.savedState;window.history.pushState({path:w.path,title:w.title,viewLoader:w.viewLoader},w.title,w.path);j.savedState=null;k.url=w.path}else{u=window.location.pathname;k.url=u;w=o.state}k.urlSet=!!k.url;u=w?w.path:null;d.history.pathEvent(!!u,u,w.viewLoader)};if(window.addEventListener){window.addEventListener("popstate",g)}else{window.onpopstate=g}}else{var a,c,m=window.onhashchange!==undefined,b=function(){};if(m){if(window.addEventListener){window.addEventListener("hashchange",b)}else{window.onhashchange=b}}else{d.interval(100,b)}}})(I);I.input=(function(a){var b={pressed:{}};a.doc.keydown(function(c){if(c.keyCode=="16"){b.pressed.shift=true}else{if(c.keyCode=="17"){b.pressed.ctrl=true}else{if(c.keyCode=="18"){b.pressed.alt=true}}}});a.doc.keyup(function(c){b.pressed.ctrl=false;b.pressed.alt=false;b.pressed.shift=false});return b})(I);I.WebElement.add((function(j,x){var b={name:"Table_v2",inherits:"Interface",template:function(A){var z=A.id;var D="";if(A.addPadding){D="<div id='"+z+"_TablePadding' class='tablePadding'>"}var C=false;D+="<div id='"+z+"_SettingsBar' class='tableSettingsBar'>";if(A.addEnabled){var y="<a id='"+z+"_AddButton' class='tableAddButton cButton'><i class='fas fa-plus-circle' style='margin-right: 4px;'></i> ";if(A.addButtonLabel){y+=A.addButtonLabel}else{if(A.objectAlias){y+="New "+A.objectAlias}else{if(A.objectName){y+="New "+A.objectName}else{y+="Add New"}}}y+="</a>";if(A.addButtonTarget){A.addButtonTarget=j(A.addButtonTarget);A.addButtonTarget.content(y)}else{D+="<div class='tableAddButtonDefaultTarget'>"+y+"</div>";C=true}}if(A.columnSelector){D+="<div id='"+z+"_ColumnSelectorButton' class='tableColumnSelector nButton'><i class='fas fa-line-columns' style='margin-right: 3px'></i> Columns <i id='"+z+"_ColumnSelectorIcon' class='fas fa-caret-down' style='margin-left:6px; display: none'></i></div>";C=true}if(A.queryBuilderEnabled){D+="<div id='"+z+"_QueryBuilderButton' class='tableQueryBuilderButton nButton'><i class='btnfa fas fa-filter'></i> Query Builder <i id='"+z+"_QueryBuilderToggleIcon' class='far fa-toggle-off' style='margin-left:3px; display: none'></i></div>";C=true}if(A.searchEnabled){var B="<div class='tableSearchBar'>";B+="<div id='"+z+"_DDSearchColumn' class='ddSearchColumn dropdown itemViewDD'>";B+="<span class='ddLabel itemViewDDLabel' unselectable='on'></span>";B+="<div class='ddButton itemViewDDButton'></div>";B+="</div>";B+="<div id='"+z+"_TxtSearch' class='textboxHolder txtSearch'>";B+="<div id='"+z+"_LblSearch' class='textboxLabel lblSearch' unselectable='on'>Search</div>";B+="<input id='"+z+"_InpSearch' class='textbox inpSearch' name='Search' type='text' value='' />";B+="<div id='"+z+"_IconSearch' class='icon searchIcon iconSearch' unselectable='on'></div>";B+="</div>";B+="</div>";if(A.searchTarget){A.searchTarget=j(A.searchTarget);A.searchTarget.content(B)}else{D+="<div class='tableSearchBarDefaultTarget'>"+B+"</div>";C=true}}if(A.csvExportEnabled){D+="<div id='"+z+"_BtnDownloadCSV' class='btnDownloadCSV nButton'><i class='fas fa-file-download' style='margin-right: 4px; margin-left: 1px;'></i> Export To CSV</div>";C=true}A.settingsBarHasContent=C;D+="</div>";if(A.queryBuilderEnabled){D+="<div id='"+z+"_QueryBuilder' class='tableQueryBuilder' style='display: none'></div>"}D+="<div class='tableBody'>";if(A.styleCenter){D+="<div class='viewTableHolder viewTableCenter'>"}else{if(A.styleFullWidth===false){D+="<div class='viewTableHolder viewTableLimitedWidth'>"}else{D+="<div class='viewTableHolder'>"}}D+="<div id='"+z+"_TableFooter' class='tableFooter'></div><div class='viewTableCount'></div>";D+="<div id='"+z+"_InnerTableHolder' class='innerTableHolder'><table id='"+z+"_Table' class='viewTable "+name+"'>";D+="<thead></thead><tbody></tbody><tfoot></tfoot>";D+="</table></div></div>";if(A.addPadding){D+="</div>"}D+="</div>";return D}};var k=function(y){return y&&!y.isPassword};var d=true;var o=function(A,z){if(!A||A.error){A.error.handled=true;if(!z.wasAborted){this.listView.empty();this.body.css("opacity",1);var y="<tr><td colspan='"+this.columnCount+"'>"+A.error.toHTML("Query error.")+"</td></tr>";this.body.content(y);this.body.find(".errorBox").hide().scaleIn(400);this.innerTableHolder.css("minHeight","")}}else{this.body.animate({opacity:1},100);if(this.toast&&!this.toast.closed&&!this.toast._dataTableLoadedSet){this.toast=j.toaster.message("Data table loaded.",null,3000,this.toast);this.toast._dataTableLoadedSet=true}this.handleData(A)}d=false;if(z._responseFn){z._responseFn.call(z._responseScope,A,z)}};var m=function(y){if(this.noHover){return}if(this.options&&this.options.clickFunction){this.options.clickFunction(y.listItem,y);return}};var a=function(){var y;if(this.options&&this.options.addFunction){this.options.addFunction.call(this);return}};var n=function(y,A){if(!this||this.number==null){return}var z=this.number;this.table.offset=this.table.topNum*(z-1);this.table.send()};var u=function(){var y=this.orderByHeader;if(y!=null){if(y.order){y.removeClass("dsc").addClass("asc")}else{y.removeClass("asc").addClass("dsc")}if(!y.selected){y.selected=true;y.addClass("selected");if(y.table.selectedHeader){y.table.selectedHeader.order=false;y.table.selectedHeader.selected=false;y.table.selectedHeader.removeClass("selected")}y.table.selectedHeader=y}}};var g=function(){this.table.orderByHeader=this;this.order=!this.order;u.call(this.table,this.order);this.table.orderBy(this.column.id,this.order)};var w=function(){if(!this.queryBuilderOpen){this.queryBuilderOpen=true;this.queryBuilderHolder.show();this.queryBuilderToggleIcon.replaceClass("fa-toggle-off","fa-toggle-on");this.refresh()}else{this.queryBuilderOpen=false;this.queryBuilderHolder.hide();this.queryBuilderToggleIcon.replaceClass("fa-toggle-on","fa-toggle-off");this.refresh()}};var c=function(y){};b.public={init:function(B,A){this.initParent(B);this.uniqueTableID=A.id;this.singleName=A.objectName;if(!A.objectNamePlural){A.objectNamePlural=A.objectName+"s"}this.name=A.objectNamePlural;this.offset=0;this.orderDirection=false;this.orderByColumn=null;this.list=j.L();this.innerTableHolder=this.find("#"+A.id+"_InnerTableHolder");this.spinner=j.Spinner.create({}).top(56);this.innerTableHolder.append(this.spinner);var z=this.find("#"+A.id+"_Table").children();this.head=z[0];this.body=z[1];this.foot=z[2];if(!A.settingsBarHasContent){this.find("#"+A.id+"_SettingsBar").hide()}if(A.queryBuilderEnabled){var y=j.NB(this.find("#"+A.id+"_QueryBuilderButton")).isSwitch();y.click(w,this);this.queryBuilderToggleIcon=this.find("#"+A.id+"_QueryBuilderToggleIcon");this.queryBuilderHolder=this.find("#"+A.id+"_QueryBuilder");if(A.queryBuilder){this.queryBuilder=A.queryBuilder}else{this.queryBuilder=j.QueryBuilder.create()}this.queryBuilderHolder.content(this.queryBuilder)}if(A.columnSelector){j.table_CreateColumnSelector.call(this,A)}this.topNum=A.count||20;this.mappings=A.mappings;this.actionButtons=A.actionButtons;this.extraColumns=A.extraColumns;if(j.has(this.actionButtons)||(A.editMode&&A.editMode.enabled)){this.noHover=true}if(A.controller){this.controller=A.controller;if(!this.controller.endsWith("/")){this.controller+="/"}if(!this.controller.startsWith("/")){this.controller="/"+this.controller}}else{this.controller="/Data/"}this.columnWhitelist=A.columns;this.columnBlacklist=A.hiddenColumns;this.showInForms=A.showInForms;this.showAllInForms=A.showAllInForms;this.ignoreLegacySetting=A.ignoreLegacySetting;this.footer=this.find("#"+A.id+"_TableFooter");if(A.refreshButton){A.refreshButton.click(this.send,this)}if(A.csvExportEnabled){if(!A.csvButton){A.csvButton=j.NB(this.find("#"+A.id+"_BtnDownloadCSV"))}A.csvButton.click(this.downloadCSV,this)}if(A.addEnabled){if(!A.addButton){A.addButton=j.NB(this.find("#"+A.id+"_AddButton"))}if(A.addButtonLink){A.addButton.setLink(A.addButtonLink)}if(A.addButtonFunction){A.addButton.click(A.addButtonFunction,this)}if(!A.addButtonFunction&&!A.addButtonLink){}}if(A.addPadding){this.paddingDiv=this.find("#"+A.id+"_TablePadding")}this.objectAlias=A.objectAlias;this.options=A;this.listView=j.LV(this.body,j.TableRow).isActionList().objectClick(m,this);if(!A.dontSendOnInit){this.send()}},send:function(y,z){if(this.doneInitRequest){this.sendIt(false,y,z)}else{this.doneInitRequest=true;this.sendIt(true,y,z)}},sendIt:function(y,A,B){if(!this.ended){if(this.currentMessage&&!this.currentMessage.completed){if(this.currentMessage.getTableContract){y=true}this.currentMessage.abort()}this.body.animate({opacity:0.3},400);this.innerTableHolder.css("minHeight",140);this.spinner.center(true,false);var z;if(y){z=new j.Message(this.controller+this.name,this.createSettings(true),o,this,this.spinner.newJob());z.getTableContract=true}else{z=new j.Message(this.controller+this.name,this.createSettings(),o,this,this.spinner.newJob())}z.timeoutMs=360000;z._responseFn=A;z._responseScope=B;z.send();this.currentMessage=z}},downloadCSV:function(){var z=this.createSettings(true);z.listQuery.CSV_Request=true;var y=new j.Message(this.controller+this.name,z,c,this,App.loadBar.newJob());y.timeoutMs=18000000;y.responseType="blob";y.send();return y},refresh:function(y,z){this.send(y,z)},getItems:function(y,A,B){var z=new j.Message(this.controller+this.name,{listQuery:{keys:y}},A,B);z.send();return z},orderBy:function(z,y){this.orderByColumn=z;this.orderDirection=y;this.send()},createSettings:function(y){var D;if(this.queryBuilder&&this.queryBuilderOpen){D=this.queryBuilder.value()}if(this.options&&this.options.parameters&&this.options.parameters.length>0){var B={operator:0};var E=B;for(var F=0;F<this.options.parameters.length;F++){var z=F==this.options.parameters.length-1;if(z){if(B.left){B.right=this.options.parameters[F]}else{B.left=this.options.parameters[F]}}else{B.left=this.options.parameters[F];B.rightOperator={operator:0};B=B.rightOperator}}if(D){D={operator:0,leftOperator:D,rightOperator:E}}else{D=E}}var C;if(!this.options.searchEnabled&&!this.options.outsideSearchEnabled){C={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection}}else{if(this.searchText!=null&&this.searchText!==""){C={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection,searchText:this.searchText,searchColumn:this.searchColumn}}else{C={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection}}}C.queryRoot=D;if(y){C.getContract=true}C.selectedColumns=this.options.selectedColumns;var A={listQuery:C};j.extend(A,this.options.methodParameters);return A},createPage:function(z,y){var B=z===y?"<a class='selected'>":"<a>";var A=j.A(B+z+"</a>");A.click(n,A);A.number=z;A.table=this;return A},handleData:function(R){if(!R||R.error){return}var D;if(R.contract){this.contract=D=new j.Contract(R.contract_v2);this.listView._contract=this.contract;this.listView._table=this}else{D=this.contract}this.queryParameters=[];var W=this.options.selectedColumns;if(this.columns==null||this.columnsChanged){var S="<tr>",y=[],N,M,B;this.columns=j.C();for(N=W.length,M=0;M<N;M++){var V=W[M];var A=D.columnInfo.get(V);if(A==null){throw"Selected column not found in contract: "+V}B=A.contract;if(A.isRoot&&B.properties.General&&B.properties.General.IsTitle){this.titleElement=B}if(k(A)){S+="<th class='tableOrder'>"+A.title+"<div class='arrow'></div></th>";y.push(A)}}this.columnCount=y.length;if(this.extraColumns){for(N=this.extraColumns.length,M=0;M<N;M++){var C=this.extraColumns[M];S+="<th class='tableOrder'>"+C.title+"</th>"}this.columnCount+=this.extraColumns.length}if(this.actionButtons){for(N=this.actionButtons.length,M=0;M<N;M++){var z=this.actionButtons[M];S+="<th class='tableOrder'>"+z.title+"</th>"}this.columnCount+=this.actionButtons.length}this.head.content("<thead>"+S+"</tr></thead>");var K=this.head.child(0).findAll("th",j.A);var T=j.C(),aa;for(N=y.length,M=0;M<N;M++){var A=y[M];B=A.contract;var H=K[M];H.column=A;H.table=this;H.click(g,H);A.header=H;if(B.shortType==="String"||B.shortType==="Int"){if(A.isRoot&&B.properties.General&&B.properties.General.IsTitle){aa=B}if(!this.options||this.options.searchEnabled){T.add(A.id,A.title)}}}this.activeColumns=y;this.columnsChanged=false;if(this.orderByColumn!=null){var P=false;for(N=y.length,M=0;M<N;M++){var A=y[M];B=A.contract;if(A.id===this.orderByColumn){P=true;this.orderByHeader=A.header;this.orderByHeader.order=this.orderDirection;u.call(this)}}if(!P){this.orderByHeader=null;this.orderByColumn=null;this.orderDirection=null}}}if(R.contract){if(this.options.searchEnabled){var U=j.DD(this.find("#"+this.options.id+"_DDSearchColumn"),"searchColumn").data(T);if(aa){U.value(A.id)}else{if(this.activeColumns.length){U.index(0)}}var ac=j.TB(this.find("#"+this.options.id+"_TxtSearch"),{name:"searchText"});if(this.options.setSearchFocus){ac.setFocus()}U.change(function(){ac.empty()});ac.input(function(){this.offset=0;this.searchColumn=U.value();this.searchText=ac.value();this.send()},this)}}if(R.contract){if(this.queryBuilder){this.queryBuilder.setContract(D,this)}}var ab=R.totalRows;this.totalRows=ab;var Q=Math.ceil(ab/this.topNum);var E=Math.floor((R.offset/this.topNum)+1);if(Q===1||Q===0){this.footer.hide()}else{this.footer.show();var L=j("<div class='pageNum'></div>");var X=10;var Z=3;var G=3;var J=Math.round(X/2);var Y=E-J;var F=E+J;if(Y<1){Y=1}if(F>Q){F=Q}var M;if(Q<=X){for(M=1;M<=Q;M++){L.append(this.createPage(M,E))}}else{if(Y>1){if(Y<=Z+1){Y=1}else{for(M=1;M<=Z;M++){L.append(this.createPage(M,E))}L.append("<span>...</span>")}}if(F<Q&&F+G>=Q){F=Q}for(M=Y;M<=F;M++){L.append(this.createPage(M,E))}if(F<Q){L.append("<span>...</span>");var O=Q-(G-1);if(O<=F){O=F+1}for(;O<=Q;O++){L.append(this.createPage(O,E))}}}this.footer.content(L)}this.listView.fill(R.rows);if(this.options.replyHandler){this.options.replyHandler.call(this,R)}},dispose:function(){if(!this.ended){this.ended=true}}};return b})(I,window));(function(d,m){var b=function(n,o){return o==null||(o.indexOf(n)!==-1)};var c=function(n,o){return o==null||(o.indexOf(n)!==-1)};var a=function(o,n){return n==null||(n.indexOf(o)===-1)};var g=function(n){return n&&!n.isPassword};var j=function(o,u,z,A,B){if(z==null){return}var n=o.contract;if(n.ShortType==="File"){z._rowId="_fileViewer_"+A.uniqueTableID+"_"+String.random(12);return d.FormBuilder.createFileViewer({id:z._rowId})}if(o.foreignModel){z=z[o.name];if(o.foreignTitlecolumn!=null&&o.foreignTitlecolumn!=o){return j(o.foreignTitlecolumn,u,z,A,B)}else{return""}}var C=z[u];var w;if(A.options){if(A.options.ManipulateColumnOutput){w={};C=A.options.ManipulateColumnOutput.call(A,C,o,z,w)}if(A.mappings){var x=A.mappings[o.id];if(x){var y=x[C];if(y!==undefined){C=y}}}}if(n.ShortType==="RichText"&&w&&!w.dontProcessOuput){return"<div class='_rtb_"+B+" richtextbox table_richtextboxviewer'><div class='table_richtextboxviewer_inner'></div></div>"}if(n.ShortType==="Boolean"&&w&&!w.dontProcessOuput){if(C){return"Yes"}else{return"No"}}if(n.ShortType==="DateTime"&&w&&!w.dontProcessOuput){if(C!=null){return moment(C).local().format("LL")}else{return""}}return C==null?"":C};var k=function(F,E){this.initParent(F);var G=E._table;if(G.options&&G.options.ManipulateRow){G.options.ManipulateRow.call(G,this,E)}for(var C=G.activeColumns.length,B=0;B<C;B++){var w=G.activeColumns[B];var y=w.contract;if(y.ShortType==="RichText"){var z=this.find("._rtb_"+B);var D={};D.readOnly=true;var H=d.RTB(z,null,D)}else{if(y.ShortType==="File"&&E!=null&&E[element.name]!=null&&E[element.name].Id){var D={maxFiles:1,required:false,files:E[element.name].Id,hideError:true};var z=new d.FileViewer("#"+E._rowId,null,D)}}}if(E._table.actionButtons){for(var n=E._table.actionButtons.length,J=0;J<n;J++){var u=E._table.actionButtons[J];if(u.enableFn&&!u.enableFn.call(u,E)){var o=this.find("._ab_"+J);o.addClass("disabled");continue}var o=this.find("._ab_"+J,d.NB);if(u.action){o.execute(function(){this.button.action.call(this.ab,this.rowData,this.button)},{ab:o,button:u,rowData:E})}var A="";if(u.hrefFn){A=u.hrefFn.call(u,E);o.html.href=A}else{if(u.link){A=u.link.call(u,E);o.html.href=A}}if(u.href){A=u.href;if(u.href_key){A+="?"+u.href_key_name+"="+E[u.href_key]}o.html.href=A}o.tableHref=A;if(d.has(u.hrefTarget)){o.html.target=u.hrefTarget}else{if(A){o.click(function(){d.navigate(this.tableHref);return false},o)}}if(E._table.options&&E._table.options.ManipulateActionButton){E._table.options.ManipulateActionButton.call(E._table,o,J,u,E)}if(u.initialize){u.initialize.call(o,E)}}}};k.inherit(d.Action,{template:function(K){var P=this._table;var H=P.options;if(H.ManipulateRowData){H.ManipulateRowData.call(this._table,K)}var L;if(this._table.noHover){L="<tr class='noHover'>"}else{L="<tr>"}if(H.EditMode&&H.EditMode.enabled){for(var D=this._contract.elements.length,B=0;B<D;B++){var z=this._contract.elements[B];if(b(z.name,H.EditMode.columns)){if(H.EditMode.columns!=null||(g(z)&&c(z.name,P.columnWhitelist)&&a(z.name,P.columnBlacklist))){var C=createElementInfo(P,z,K);L+="<td>"+getFormElement(z,K,C)+"</td>"}}else{if(g(z)&&c(z.name,P.columnWhitelist)&&a(z.name,P.columnBlacklist)){L+="<td>"+j(z,B,K,P,B)+"</td>"}}}}else{for(var D=P.activeColumns.length,B=0;B<D;B++){var w=P.activeColumns[B];if(g(w)){if(P.options.searchEnabled&&P.searchColumn===w.id&&P.searchText!=null){var R=j(w,B,K,P,B);if(R!=null){R=R+"";var M=P.searchText;var N=R.toLowerCase().indexOf(M.toLowerCase());if(N!=-1){var A=R.substr(0,N);var O=R.substr(N,M.length);var Q=R.substr(N+M.length);L+="<td>"+A+"<span class='hiSrTxt'>"+O+"</span>"+Q+"</td>"}else{L+="<td>"+R+"</td>"}}}else{L+="<td>"+j(w,B,K,P,B)+"</td>"}}}}K._table=P;if(this._table.extraColumns){for(var n=this._table.extraColumns.length,S=0;S<n;S++){var y=this._table.extraColumns[S];if(!y.classes){y.classes=""}var E=y.label;var u=y.classes;if(y.labelFn){var G=y.labelFn.call(y,E,K);if(G!=null){E=G}}if(y.classesFn){var F=y.classesFn.call(y,u,K);if(F!=null){u=F}}L+="<td class='table_actionButton_column'><div class='table_extraColumn _ec_"+S+" "+u+"'>"+E+"</div></td>"}}if(this._table.actionButtons){for(var n=this._table.actionButtons.length,S=0;S<n;S++){var o=this._table.actionButtons[S];if(!o.classes){o.classes=""}var E=o.label;var u=o.classes;if(o.labelFn){var G=o.labelFn.call(o,E,K);if(G!=null){E=G}}if(o.classesFn){var F=o.classesFn.call(o,u,K);if(F!=null){u=F}}var J;if(H.ManipulateActionButtonOuput){J=H.ManipulateActionButtonOuput.call(this._table,E,u,o,K)}if(J){E=J.label;u=J.classes}L+="<td class='table_actionButton_column'><a target='_blank' class='table_actionButton nButton _ab_"+S+" "+u+"'>"+E+"</a></td>"}}return L+"</tr>"}});d.TableRow=k})(I,window);(function(b,c){var a=function(m,g,j){var n=j._table;this.initParent(m);if(g.contract.ShortType==="Model"){return}var k=b.CheckBox.create({classes:"columnSelectorCheckbox",label:g.title});for(var o=0;o<n.activeColumns.length;o++){var d=n.activeColumns[o];if(d.id===g.id){k.check()}}k._table=n;k._columnInfo=g;k.change(function(){var u=this.value();if(u){this._table.options.selectedColumns.push(this._columnInfo.id)}else{this._table.options.selectedColumns.spliceObj(this._columnInfo.id)}this._table.send();this._table.columnsChanged=true},k);this.append(k)};a.inherit(b.Interface,{template:function(d){if(d.contract.ShortType==="Model"){return"<div class='columnSelectorCheckboxLine'>"+d.contract.DisplayName+"</div>"}return"<div class='columnSelectorCheckboxRow'></div>"}});b.table_CreateColumnSelector=function(m){var g=b.NB(this.find("#"+m.id+"_ColumnSelectorButton")).isSwitch().switchOn(function(){},this);var d=b.L();var k=b.FL("<div class='columnSelectorFloater'></div>").setSwitch(g).fix().loose().closeOnBlur().fitToScreen().viewList(d,a).belowToLeft(g);var j=k.listView;j._table=this;k.onopen(function(){d.fill(this.contract.columnInfo.items)},this);var n=b("<div class='columnSearchBox'></div>");var o=b.TextBox.create({classes:"ddSearch",icon:"searchIcon",clearButton:true});n.append(o);o.textbox.focus(function(){j.selectByLetterDisabled=true},this);o.textbox.blur(function(){j.selectByLetterDisabled=false},this);o.textbox.input(function(){j.applyFilter()},this);k.prepend(n);j.addClass("columnSelectorList");j.filter(function(y){var w=o.textbox.value();if(!w){return true}var y=this.listItem.title;var x=w.split(" ");for(var u=0;u<x.length;u++){var z=x[u];if(y&&y.toLowerCase().indexOf(z.toLowerCase())!==-1){}else{return false}}return true}).applyFilter()}})(I,window);(function(E){E.createTableString=function(X,W,ab,ac,aa,Z,Y,ae){if(ae==null){ae={}}var ag="";if(W!==false){ag="<div id='"+X+"_TablePadding' class='tablePadding'>"}var af=false;ag+="<div id='"+X+"_SettingsBar' class='tableSettingsBar'>";if(!Z){var V="<a id='"+X+"_AddButton' class='tableAddButton cButton'><i class='fas fa-plus-circle' style='margin-right: 4px;'></i> ";if(ae.addButtonLabel){V+=ae.addButtonLabel}else{if(ae.objectAlias){V+="New "+ae.objectAlias}else{if(ae.objectName){V+="New "+ae.objectName}else{V+="Add New"}}}V+="</a>";if(ae.addButtonTarget){ae.addButtonTarget=E(ae.addButtonTarget);ae.addButtonTarget.content(V)}else{ag+="<div class='tableAddButtonDefaultTarget'>"+V+"</div>";af=true}}if(!ab){ag+="<div id='"+X+"_QueryBuilderButton' class='tableQueryBuilderButton nButton'><i class='btnfa fas fa-filter'></i> Query Builder <i id='"+X+"_QueryBuilderToggleIcon' class='far fa-toggle-off' style='margin-left:3px'></i></div>";af=true}if(!ac){var ad="<div class='tableSearchBar'>";ad+="<div id='"+X+"_DDSearchColumn' class='ddSearchColumn dropdown itemViewDD'>";ad+="<span class='ddLabel itemViewDDLabel' unselectable='on'></span>";ad+="<div class='ddButton itemViewDDButton'></div>";ad+="</div>";ad+="<div id='"+X+"_TxtSearch' class='textboxHolder txtSearch'>";ad+="<div id='"+X+"_LblSearch' class='textboxLabel lblSearch' unselectable='on'>Search</div>";ad+="<input id='"+X+"_InpSearch' class='textbox inpSearch' name='Search' type='text' value='' />";ad+="<div id='"+X+"_IconSearch' class='icon searchIcon iconSearch' unselectable='on'></div>";ad+="</div>";ad+="</div>";if(ae.searchTarget){ae.searchTarget=E(ae.searchTarget);ae.searchTarget.content(ad)}else{ag+="<div class='tableSearchBarDefaultTarget'>"+ad+"</div>";af=true}}if(!aa){ag+="<div id='"+X+"_BtnDownloadCSV' class='btnDownloadCSV nButton'><i class='fas fa-file-download' style='margin-right: 4px; margin-left: 1px;'></i> Export To CSV</div>";af=true}ae.settingsBarHasContent=af;ag+="</div>";if(!ab){ag+="<div id='"+X+"_QueryBuilder' class='tableQueryBuilder' style='display: none'>";ag+="</div>"}ag+="<div class='tableBody'>";if(ae.centerTable){ag+="<div class='viewTableHolder viewTableCenter'>"}else{if(ae.fullWidthTable===false){ag+="<div class='viewTableHolder viewTableLimitedWidth'>"}else{ag+="<div class='viewTableHolder'>"}}ag+="<div id='"+X+"_TableFooter' class='tableFooter'></div><div class='viewTableCount'></div>";ag+="<table id='"+X+"_Table' class='viewTable "+Y+"'>";ag+="<thead></thead><tbody></tbody><tfoot></tfoot>";ag+="</table></div>";if(W!==false){ag+="</div>"}ag+="</div>";return ag};var M=false,F=0;var O=function(aa){if(aa&&!aa.error){var X=[],ac=[];var W=this.foreignKeyName;var ab=this.foreignTitlecolumn.name;for(var V=0;V<aa.length;V++){var Z=aa[V];var Y=Z[ab];if(Y){X.push(Z[W]);ac.push(Y)}}this.options.addItems(X,ac);this.optionsLoaded=true;if(this.onOptionsLoaded){this.onOptionsLoaded()}}};var N=function(V,X){V.options=E.C();if(X.config&&X.config.useNewOptionsLoader){var W=V.name.replace(/\s/g,"_");E.send(X.controller+"/GetOptions_"+W,null,O,V)}else{var W=V.name.replace(/\s/g,"_");E.send("Options/"+W+"s",null,O,V)}};var A=function(V,X){if(V.readOnly){return null}var W={};W.id=V.name.replace(/\s/g,"")+F++;W.name=V.name;if(V.name!=="Assigned To"&&!V.readOnly&&V.shortType==="Model"&&V.shortType!=="File"&&V.shortType!=="Person"){if(!V.optionsLoaded){N(V,X)}W.element=V}else{W.element=V}W.value="";W.template="<tr class='itemElement'><td class='itemName'>"+W.name+"</td><td class='itemValue'>"+C(W.element,null,W)+"</td></tr>";return W};var o=function(Z,V,Y){var W={};W.id=V.name.replace(/\s/g,"")+F++;if(V.name!=="Assigned To"&&!V.readOnly&&V.shortType==="Model"&&V.shortType!=="File"&&V.shortType!=="Person"){if(!V.optionsLoaded){N(V,Z)}W.element=V;var X=Y[V.name];if(X){W.keyValue=X[V.foreignKeyName]}else{W.keyValue=0}}else{W.element=V}W.item=Y;W.value=Y[W.element.name];W.name=V.name;if(!V.readOnly&&W.element.shortType==="Boolean"){if(W.value){W.value="Yes"}else{W.value="No"}}return W};var B=function(Y,V,X){var W=o(Y,V,X);if(G(V)&&(Y.showAllInForms||j(V.name,Y.showInForms)||(k(V.name,Y.columnWhitelist)&&d(V.name,Y.columnBlacklist)))){W.template="<tr class='itemElement'><td class='itemName'>"+W.name+"</td><td class='itemValue'>"+C(W.element,X,W)+"</td></tr>"}else{W.ignored=true;W.template=""}return W};var C=function(V,X,W){if(V.readOnly&&V.shortType!=="DateTime"&&V.shortType!=="File"){return W.value==null?"":W.value}var Y={id:W.id,readOnly:V.readOnly};if(V.name==="Assigned To"){return E.PeoplePicker.createHTMLString(W.id)}if(V.foreignModel&&V.shortType!=="File"){return"<div id='"+W.id+"' class='dropdown itemViewDD'><span class='ddLabel itemViewDDLabel' unselectable='on'>Select "+W.name+"</span><div class='ddButton itemViewDDButton'></div></div>"}else{if(V.shortType==="DateTime"){return E.FlatDatepicker.HTML(Y)}else{if(V.shortType==="RichText"){return"<div id='"+W.id+"' class='richtextbox window_richtextbox'></div>"}else{if(V.shortType==="Person"){return E.PeoplePicker.createHTMLString(W.id)}else{if(V.shortType==="Code"){return E.AceEditor.HTML(Y)}else{if(V.shortType==="String"||V.shortType==="Int"||V.shortType==="Decimal"||V.shortType==="Double"){return"<div id='"+W.id+"' class='textboxHolder itemViewTbHolder'><input class='textbox itemViewTb' name='"+W.name+"' type='"+(V.isPassword?"password'":"value'")+" /></div>"}else{if(V.shortType==="Boolean"){return"<div id='"+W.id+"' class='checkbox'><div class='checkboxButton"+((!W.value||W.value==="No")?"":" checked")+"'>&#10003;</div><div class='checkboxLabel'>"+W.name+"</div></div>"}else{if(V.shortType==="File"){if(V.readOnly){return E.FormBuilder.createFileViewer(W)}else{return E.FormBuilder.createFileInput(W)}}else{return W.value==null?"":W.value}}}}}}}}};var H=function(Z,Y,aa){var X;var ac={name:Z.name,readOnly:Z.element.readOnly};if(Z.name==="Assigned To"){X=new E.PeoplePicker("#"+Z.id,Z.name);if(Z.value!=null){X.value(Z.value)}}else{if(Z.ignored){X=new E.StaticElement(Z.name);X.value(Z.value)}else{if(!Z.element.readOnly&&Z.element.foreignModel&&Z.element.shortType!=="File"&&Z.element.shortType!=="Person"){var ab=Z.element;var W=E.DD("#"+Z.id,Z.name);if(ab.optionsLoaded){W.data(ab.options);if(Z.keyValue!=null){W.value(Z.keyValue)}}else{ab.onOptionsLoaded=function(){W.data(ab.options);if(Z.keyValue!=null){W.value(Z.keyValue)}}}X=W}else{if(Z.element.shortType==="DateTime"){X=E.FDP("#"+Z.id,ac);if(Z.value!=null){X.value(Z.value)}}else{if(Z.element.shortType==="RichText"){X=E.RTB("#"+Z.id,Z.name);X.value(Z.value==null?"":Z.value)}else{if(Z.element.shortType==="Person"){X=new E.PeoplePicker("#"+Z.id,Z.name);if(Z.value!=null){X.value(Z.value)}}else{if(Z.element.shortType==="Code"){X=new E.AceEditor("#"+Z.id,ac);X.value(Z.value==null?"":Z.value)}else{if(!Z.element.readOnly&&(Z.element.shortType==="String"||Z.element.shortType==="Int"||Z.element.shortType==="Decimal"||Z.element.shortType==="Double")){X=E.TB("#"+Z.id,ac);X.value(Z.value==null?"":Z.value);if(Z.element.shortType==="Int"&&false){X.numOnly()}else{if(Z.element.shortType==="Int"||Z.element.shortType==="Decimal"||Z.element.shortType==="Double"){X.setNumberValidation()}}}else{if(!Z.element.readOnly&&Z.element.shortType==="Boolean"){var V=E.CB("#"+Z.id,ac);if(!Z.value||Z.value==="No"){V.uncheck()}else{V.check()}X=V}else{if(Z.element.shortType==="File"){var ac={maxFiles:1,required:false,maxFileSize:"1000mb"};if(Z.value!=null){ac.files=Z.value.Id}if(Z.element.readOnly){X=new E.FileViewer("#"+Z.id,Z.name,ac)}else{X=new E.FilepondInput("#"+Z.id,Z.name,ac)}}else{X=new E.StaticElement(Z.name);X.value(Z.value)}}}}}}}}}}if(!Z.element.optional&&Z.element.shortType==="Int"){X.checkIfInteger()}else{if(!Z.element.optional&&(Z.element.shortType==="Double"||Z.element.shortType==="Decimal")){X.checkIfDouble()}else{if(!Z.element.optional&&!X.optional){X.checkNotEmpty()}}}if(X){Y.add(X)}};var u=function(ak,X,ag,ai){s="<div class='itemView'><div class='itemViewHeader'><div class='itemViewHeaderTitle'>"+ai+"</div>";if(!ak.config||!ak.config.editDisabled){s+="<div class='nButton itemViewButtonEdit'>Edit</div>"}if(!ak.config||!ak.config.deleteDisabled){if(X.activationFlag){af=ag[X.activationFlag.name];if(af){s+="<div class='nButton itemViewButtonDelete itemViewButtonActivate'>Activate</div></div></div>"}else{s+="<div class='nButton itemViewButtonDelete'>Deactivate</div></div></div>"}}else{s+="<div class='nButton itemViewButtonDelete'>Delete</div></div></div>"}}s+="</div><div class='itemViewBody'>";var al,Y;var am={view:null};if(ak.config&&ak.config.createItemViewBodyFn){Y=true;var V=ak.config.createItemViewBodyFn.call(ak,X,ag,ai,am)}else{s+="<table class='itemViewTable'><tbody>";var ab=X.elements,ad,af;for(var ae=0,ah=ab.length;ae<ah;ae++){var aa=ab[ae];if(G(aa)&&(ak.showAllInForms||j(aa.name,ak.showInForms)||(k(aa.name,ak.columnWhitelist)&&d(aa.name,ak.columnBlacklist)))){s+="<tr class='itemElement'><td class='itemName'>"+aa.name+"</td><td class='itemValue'>"+R(aa,ag,ak,ae)+"</td></tr>"}}s+="</tbody></table>"}s+="</div><div class='itemViewBottomPadding'></div></div>";var al=E(s);al.addToHiddenDiv();var ab=X.elements;for(var ae=0,ah=ab.length;ae<ah;ae++){var aa=ab[ae];if(ag!=null&&aa.shortType=="File"&&G(aa)&&(ak.showAllInForms||j(aa.name,ak.showInForms)||(k(aa.name,ak.columnWhitelist)&&d(aa.name,ak.columnBlacklist)))){var ac=ag[aa.name];if(ac!=null&&ac.Id){var aj={maxFiles:1,required:false,files:ac.Id,hideError:true};var Z=new E.FileViewer("#"+ag._rowId,null,aj)}}}if(Y){var W=al.find(".itemViewBody");if(W&&W.html!=null){W.content(V)}}am.view=al;return al};var G=function(V){return V&&!V.isPassword&&V.name!=="Id"&&V.name!=="Entry user"&&V.name!=="Entry date"&&V.name!=="Handler status"};var j=function(V,W){return W!=null&&(W.indexOf(V)!==-1)};var g=function(V,W){return W==null||(W.indexOf(V)!==-1)};var k=function(V,W){return W==null||(W.indexOf(V)!==-1)};var d=function(W,V){return V==null||(V.indexOf(W)===-1)};var T=function(af,ae){this.initParent(af);var ag=ae._table;if(ag.config&&ag.config.manipulateRow){ag.config.manipulateRow.call(ag,this,ae)}for(var ac=ag.contract.elements.length,ab=0;ab<ac;ab++){var Z=ag.contract.elements[ab];if(Z.shortType==="RichText"){var Y=this.find("._rtb_"+ab);var ad={};ad.readOnly=true;var ah=E.RTB(Y,null,ad);ah.value(ae[Z.name])}else{if(Z.shortType==="File"&&ae!=null&&ae[Z.name]!=null&&ae[Z.name].Id){var ad={maxFiles:1,required:false,files:ae[Z.name].Id,hideError:true};var Y=new E.FileViewer("#"+ae._rowId,null,ad)}}}if(ae._table.actionButtons){for(var V=ae._table.actionButtons.length,ai=0;ai<V;ai++){var X=ae._table.actionButtons[ai];if(X.enableFn&&!X.enableFn.call(X,ae)){var W=this.find("._ab_"+ai);W.addClass("disabled");continue}var W=this.find("._ab_"+ai,E.NB);if(X.action){W.execute(function(){this.button.action.call(this.ab,this.rowData,this.button)},{ab:W,button:X,rowData:ae})}var aa="";if(X.hrefFn){aa=X.hrefFn.call(X,ae);W.html.href=aa}else{if(X.link){aa=X.link.call(X,ae);W.html.href=aa}}if(X.href){aa=X.href;if(X.href_key){aa+="?"+X.href_key_name+"="+ae[X.href_key]}W.html.href=aa}W.tableHref=aa;if(E.has(X.hrefTarget)){W.html.target=X.hrefTarget}else{if(aa){W.click(function(){E.navigate(this.tableHref);return false},W)}}if(ae._table.config&&ae._table.config.manipulateActionButton){ae._table.config.manipulateActionButton.call(ae._table,W,ai,X,ae)}if(X.initialize){X.initialize.call(W,ae)}}}};T.inherit(E.Action,{template:function(aj){var ao=this._table;var Z=ao.config;if(Z.manipulateRowData){Z.manipulateRowData.call(this._table,aj)}var ak;if(this._table.noHover){ak="<tr class='noHover'>"}else{ak="<tr>"}if(Z.editMode&&Z.editMode.enabled){for(var ae=this._contract.elements.length,ac=0;ac<ae;ac++){var aa=this._contract.elements[ac];if(g(aa.name,Z.editMode.columns)){if(Z.editMode.columns!=null||(G(aa)&&k(aa.name,ao.columnWhitelist)&&d(aa.name,ao.columnBlacklist))){var ad=o(ao,aa,aj);ak+="<td>"+C(aa,aj,ad)+"</td>"}}else{if(G(aa)&&k(aa.name,ao.columnWhitelist)&&d(aa.name,ao.columnBlacklist)){ak+="<td>"+R(aa,aj,ao,ac)+"</td>"}}}}else{for(var ae=this._contract.elements.length,ac=0;ac<ae;ac++){var aa=this._contract.elements[ac];if(G(aa)&&k(aa.name,ao.columnWhitelist)&&d(aa.name,ao.columnBlacklist)){if(ao.config.searchEnabled&&ao.searchColumn==aa.name&&ao.searchText!=null){var aq=R(aa,aj,ao,ac);if(aq!=null){aq=aq+"";var al=ao.searchText;var am=aq.toLowerCase().indexOf(al.toLowerCase());if(am!=-1){var ab=aq.substr(0,am);var an=aq.substr(am,al.length);var ap=aq.substr(am+al.length);ak+="<td>"+ab+"<span class='hiSrTxt'>"+an+"</span>"+ap+"</td>"}else{ak+="<td>"+aq+"</td>"}}}else{ak+="<td>"+R(aa,aj,ao,ac)+"</td>"}}}}aj._table=ao;if(this._table.extraColumns){for(var V=this._table.extraColumns.length,ar=0;ar<V;ar++){var Y=this._table.extraColumns[ar];if(!Y.classes){Y.classes=""}var af=Y.label;var X=Y.classes;if(Y.labelFn){var ah=Y.labelFn.call(Y,af,aj);if(ah!=null){af=ah}}if(Y.classesFn){var ag=Y.classesFn.call(Y,X,aj);if(ag!=null){X=ag}}ak+="<td class='table_actionButton_column'><div class='table_extraColumn _ec_"+ar+" "+X+"'>"+af+"</div></td>"}}if(this._table.actionButtons){for(var V=this._table.actionButtons.length,ar=0;ar<V;ar++){var W=this._table.actionButtons[ar];if(!W.classes){W.classes=""}var af=W.label;var X=W.classes;if(W.labelFn){var ah=W.labelFn.call(W,af,aj);if(ah!=null){af=ah}}if(W.classesFn){var ag=W.classesFn.call(W,X,aj);if(ag!=null){X=ag}}var ai;if(Z.manipulateActionButtonOuput){ai=Z.manipulateActionButtonOuput.call(this._table,af,X,W,aj)}if(ai){af=ai.label;X=ai.classes}ak+="<td class='table_actionButton_column'><a target='_blank' class='table_actionButton nButton _ab_"+ar+" "+X+"'>"+af+"</a></td>"}}return ak+"</tr>"}});var z=true,S=function(W,V){if(!W||W.error){if(W){W.error.handled=true}if(!V.wasAborted){if(W.error.name=="SearchParameterDeserializerError"){this.footer.hide();this.listView.empty()}else{if(z){this.toast=E.toaster.alert("Could not load data table.",null,4000,this.toast)}else{this.toast=E.toaster.alert("Could not refresh data table.",null,4000,this.toast)}}}}else{if(this.toast&&!this.toast.closed&&!this.toast._dataTableLoadedSet){this.toast=E.toaster.message("Data table loaded.",null,3000,this.toast);this.toast._dataTableLoadedSet=true}this.handleData(W)}z=false;if(V._responseFn){V._responseFn.call(V._responseScope,W,V)}};var b=function(X,ah,am){var ai=am.objectAlias;if(!ai){ai=ah}var ab=E("<div class='itemView'><div class='itemViewHeader'><div class='itemViewHeaderTitle'>New "+ai+"</div></div><div class='itemViewBody'></div></div>");var V;if(am.config&&am.config.createAddViewBodyFn){V=am.config.createAddViewBodyFn.call(am,X,ah,am)}else{var al="<table class='itemViewTable'><tbody>";var aa=X.elements,ae=[];for(var ac=0,ag=aa.length;ac<ag;ac++){var Z=aa[ac];var ad=A(Z,am);if(ad!=null){ae.push(ad);al+=ad.template}}al+="</tbody></table><div class='itemViewFooter'><div class='nButton itemViewButtonAdd'>Add</div></div>";V=E(al);V.addToHiddenDiv();V.form=new E.Form(V,am.controller+"Insert"+am.singleName).representsObject(am.singleName).response(am.addComplete,V);J(ae,V.form);if(am.config&&am.config.objectValues){var ak=am.config.objectValues;for(var af in ak){if(!ak.hasOwnProperty(af)){continue}var aj=ak[af];var Y=new E.StaticElement(af);Y.value(aj);V.form.add(Y)}}}V.table=am;ab.body=V;var W=ab.find(".itemViewBody");if(V&&W&&W.html!=null){W.content(V)}return ab};var R=function(V,Y,Z,aa){if(Y==null){return}if(V.shortType==="File"){Y._rowId="_fileViewer_"+Z.uniqueTableID+"_"+String.random(12);return E.FormBuilder.createFileViewer({id:Y._rowId})}if(V.foreignModel){Y=Y[V.name];if(Y==null){return""}if(V.foreignTitlecolumn!=null&&V.foreignTitlecolumn!=V){return R(V.foreignTitlecolumn,Y,Z,aa)}else{return""}}var ab=Y[V.name];if(Z.config){if(Z.config.manipulateColumnOutput){ab=Z.config.manipulateColumnOutput.call(Z,ab,V,Y)}if(Z.mappings){var W=Z.mappings[V.name];if(W){var X=W[ab];if(X!==undefined){ab=X}}}}if(V.shortType==="RichText"&&!V.dontProcessOuput){return"<div class='_rtb_"+aa+" richtextbox table_richtextboxviewer'><div class='table_richtextboxviewer_inner'></div></div>"}if(V.shortType==="Boolean"&&!V.dontProcessOuput){if(ab){return"Yes"}else{return"No"}}if(V.shortType==="DateTime"&&!V.dontProcessOuput){if(ab!=null){return moment(ab).local().format("LL")}else{return""}}return ab==null?"":ab};var J=function(Y,V,Z){for(var W=0,aa=Y.length;W<aa;W++){var X=Y[W];H(X,V,Z)}};var L=function(aj,X,af,ah,ak){var ab=E("<div class='itemView'><div class='itemViewHeader'><div class='itemViewHeaderTitle'>"+ah+"</div></div><div class='itemViewBody'></div></div>");var Y;if(aj.config&&aj.config.createEditViewBodyFn){Y=aj.config.createEditViewBodyFn.call(aj,X,af,ah,ak)}else{var ai="<table class='itemViewTable'><tbody>";var aa=X.elements,ae=[];var V=0;for(var ac=0,ag=aa.length;ac<ag;ac++){var Z=aa[ac];var ad=B(aj,Z,af);ae[V++]=ad;ai+=ad.template}ai+="</tbody></table><div class='itemViewFooter'><div class='nButton itemViewButtonUpdate'>Update</div></div>";Y=E(ai);Y.addToHiddenDiv();Y.form=new E.Form(Y,aj.controller+"Update"+aj.singleName).representsObject(aj.singleName).response(aj.editComplete,ak);J(ae,Y.form,true)}Y.table=aj;ab.body=Y;var W=ab.find(".itemViewBody");if(Y&&W&&W.html!=null){W.content(Y)}return ab};var c=function(){this.contentHolder.html.style.overflow="auto"};var m=function(){this.form.execute()};var n=function(){this.form.execute()};var y=function(){var X=confirm("Confirm action: Delete "+this.table.singleName);if(X===true){var V=this.item.Id;var W;var Y=this.item._table;if(V==null){delete this.item._table;W={};W[Y.singleName]=this.item}else{W={id:this.item.Id}}E.send(this.table.controller+"Delete"+this.table.singleName,W,this.table.deleteComplete,this);this.item._table=Y}};var x=function(){if(this.contract.activationFlag){var V=this.item[this.contract.activationFlag.name];if(V){E.send(this.table.controller+"Activate"+this.table.singleName,{id:this.item.Id},this.table.activateComplete,this)}else{E.send(this.table.controller+"Deactivate"+this.table.singleName,{id:this.item.Id},this.table.deactivateComplete,this)}}};var P=function(){var W;if(this.config&&this.config.createEditViewFn){W=this.config.createEditViewFn}else{W=L}var X=W(this.table,this.contract,this.item,this.itemName,this);X.addToHiddenDiv();X.body.view=X;if(X.body.form){var V=X.find(".itemViewButtonUpdate",E.NB);if(V&&V.html!=null){V.click(n,X.body)}}var Z=X.width();var Y=X.height();if(!Z||Z<240){Z=240}if(!Y){Y=200}else{if(Y<100){Y=100}}X.body.window=this.window;this.window.contentHolder.content(X);this.window.contentHolder.html.style.overflow="hidden";this.window.resizeContent(Z+24,Y+4,true,400,c,this.window)};var K=function(ac){if(this.noHover){return}if(this.config&&this.config.clickFunction){this.config.clickFunction(ac.listItem,ac);return}if(this.contract.name==="LOG_USERS"){E.navigate("UserPage/"+ac.listItem.Username,function(){},this);return}var aa=ac.listItem;if(!aa){return}if(this.config&&this.config.viewLoaderLink){var ad="";if(this.config.viewLoaderVarName){ad="?"+this.config.viewLoaderVarName+"="+aa[this.config.viewLoaderVarName]}E.navigate(this.config.viewLoaderLink+ad,function(){},this);return}for(var Z=0;Z<E.windows.list.length;Z++){if(E.windows.list[Z].tableItem===aa){E.windows.list[Z].select().blinkBtn();return}}var ab;if(this.titleElement){ab=ac.listItem[this.titleElement.name]}else{ab=aa.Name||aa.Description||aa.Title||aa["Handler Name"]||aa["Cert Number"]||aa["Last name"]||aa["Market Name"]||aa["Country Name"]||aa["Region Name"]||(aa.Id?("'"+aa.Id+"'"):false)||(aa.anID?("'"+aa.anID+"'"):false)||(aa.ID?("'"+aa.ID+"'"):false)}var X;if(this.config&&this.config.createItemViewFn){X=this.config.createItemViewFn}else{X=u}var ae=X(this,this.contract,aa,ab);ae.contract=this.contract;ae.item=aa;ae.itemName=ab;ae.table=this;if(!this.config||!this.config.editDisabled){var W=ae.find(".itemViewButtonEdit",E.NB);if(W&&W.html!=null){W.click(P,ae)}}if(!this.config||!this.config.deleteDisabled){var V=ae.find(".itemViewButtonDelete",E.NB);if(V&&V.html!=null){if(this.contract.activationFlag){V.click(x,ae)}else{V.click(y,ae)}}}var af=ae.width();var Y=ae.height();if(!af||af<240){af=240}if(!Y){Y=200}else{if(Y<100){Y=100}}var ag=new E.Window({title:this.singleName+": "+ab,board:E.board,pos:"middleOpen",width:af,height:Y});App.dashboard.append(ag);E.windows.add(ag,false);ag.window.addClass("itemWindow");ag.contentHolder.append(ae);ag.contentHolder.html.style.overflow="auto";ag.tableItem=aa;ae.window=ag;ag.reveal(100);ag.select();ag.view=ae;ag.doResize=function(){this.contentHolder.html.style.overflow="hidden";var ai=ae.width();var ah=ae.height();if(!ai||ai<240){ai=240}if(!ah){ah=200}else{if(ah<100){ah=100}}this.resizeContent(ai,ah,null,null,c,this)};if(this.config&&this.config.afterWindowOpenClickFunction){this.config.afterWindowOpenClickFunction(ac.listItem)}if(this.config&&this.config.viewWindowCallback){this.config.viewWindowCallback.call(this,this,ac.listItem,ag,ae)}};var a=function(){var X;if(this.config&&this.config.addFunction){this.config.addFunction.call(this);return}else{if(this.config&&this.config.createAddViewFn){X=this.config.createAddViewFn}else{X=b}}var V=X(this.contract,this.singleName,this);V.addToHiddenDiv();V.body.view=V;if(V.body.form){var W=V.find(".itemViewButtonAdd",E.NB);if(W&&W.html!=null){W.click(m,V.body)}}var aa=V.width();var Y=V.height();if(!aa||aa<240){aa=240}if(!Y){Y=200}else{if(Y<100){Y=100}}var Z=this.objectAlias;if(!Z){Z=this.singleName}var ab=new E.Window({title:"New "+Z,board:E.board,pos:"middleOpen",width:aa,height:Y});App.dashboard.append(ab);E.windows.add(ab,false);ab.window.addClass("itemWindow");ab.contentHolder.append(V);ab.contentHolder.html.style.overflow="auto";V.body.window=ab;ab.reveal(100);ab.select();if(this.config&&this.config.addWindowCallback){this.config.addWindowCallback.call(this,this,ab,V)}};var Q=function(V,X){if(!this||this.number==null){return}var W=this.number;this.table.offset=this.table.topNum*(W-1);this.table.send()};var D=function(V,W){this.order=!this.order;if(this.order){this.removeClass("dsc").addClass("asc")}else{this.removeClass("asc").addClass("dsc")}if(!this.selected){this.selected=true;this.addClass("selected");if(this.table.selectedHeader){this.table.selectedHeader.order=false;this.table.selectedHeader.selected=false;this.table.selectedHeader.removeClass("selected")}this.table.selectedHeader=this}this.table.orderBy(this.name,this.order)};var U=function(){if(!this.queryBuilderOpen){this.queryBuilderOpen=true;this.queryBuilderHolder.show();this.queryBuilderToggleIcon.replaceClass("fa-toggle-off","fa-toggle-on");this.refresh()}else{this.queryBuilderOpen=false;this.queryBuilderHolder.hide();this.queryBuilderToggleIcon.replaceClass("fa-toggle-on","fa-toggle-off");this.refresh()}};E.Table=function(Z,Y,aa,X){this.initParent(Z);this.name=Y;this.singleName=aa;this.offset=0;this.orderDirection=false;this.orderByColumn=null;this.list=E.L();var W=this.children();this.head=W[0];this.body=W[1];this.foot=W[2];if(X){if(!X.settingsBarHasContent){E("#"+X.tableID+"_SettingsBar").hide()}if(X.enableQueryBuilder){var V=E.NB("#"+X.tableID+"_QueryBuilderButton").click(U,this);this.queryBuilderToggleIcon=E("#"+X.tableID+"_QueryBuilderToggleIcon");this.queryBuilderHolder=E("#"+X.tableID+"_QueryBuilder");if(X.queryBuilder){this.queryBuilder=X.queryBuilder}else{this.queryBuilder=E.QueryBuilder.create()}this.queryBuilderHolder.content(this.queryBuilder)}this.topNum=X.count||20;this.mappings=X.mappings;this.actionButtons=X.actionButtons;this.extraColumns=X.extraColumns;if(E.has(this.actionButtons)||(X.editMode&&X.editMode.enabled)){this.noHover=true}if(X.controller){this.controller=X.controller;if(!this.controller.endsWith("/")){this.controller+="/"}if(!this.controller.startsWith("/")){this.controller="/"+this.controller}}else{this.controller="/Data/"}this.columnWhitelist=X.columns;this.columnBlacklist=X.hiddenColumns;this.showInForms=X.showInForms;this.showAllInForms=X.showAllInForms;this.ignoreLegacySetting=X.ignoreLegacySetting;if(X.footer){this.footer=X.footer}else{if(X.tableID){this.footer=E("#"+X.tableID+"_TableFooter")}else{this.footer=E("#TableFooter")}}if(X.addButton){X.addButton.click(a,this)}if(X.refreshButton){X.refreshButton.click(this.send,this)}if(X.csvButton){X.csvButton.click(this.downloadCSV,this)}if(X.tableID&&X.enableAdd){if(X.addButtonLink){E.NB("#"+X.tableID+"_AddButton").setLink(X.addButtonLink)}if(X.addButtonFunction){E.NB("#"+X.tableID+"_AddButton").click(X.addButtonFunction,this)}if(!X.addButtonFunction&&!X.addButtonLink){E.NB("#"+X.tableID+"_AddButton").click(a,this)}}if(X.addPadding){this.paddingDiv=E("#"+X.tableID+"_TablePadding")}if(X.tableID!=null){this.uniqueTableID=X.tableID}else{this.uniqueTableID=String.random(12)}this.objectAlias=X.objectAlias;this.config=X}else{this.topNum=20;this.controller="/Data/";this.uniqueTableID=String.random(12);this.footer=E("#TableFooter");E.NB("#AddButton").click(a,this);this.config={}}this.listView=E.LV(this.body,T).isActionList().objectClick(K,this);if(!X||!X.dontSendOnInit){this.send()}};var w=function(V){};E.Table.inherit(E.Interface,{send:function(V,W){if(this.doneInitRequest){this.sendIt(false,V,W)}else{this.doneInitRequest=true;this.sendIt(true,V,W)}},sendIt:function(V,X,Y){if(!this.ended){if(this.currentMessage&&!this.currentMessage.completed){if(this.currentMessage.getTableContract){V=true}this.currentMessage.abort()}var W;if(V){W=E.send(this.controller+this.name,this.createSettings(true),S,this,App.loadBar.newJob());W.getTableContract=true}else{W=E.send(this.controller+this.name,this.createSettings(),S,this,App.loadBar.newJob())}W.timeoutMs=360000;W._responseFn=X;W._responseScope=Y;this.currentMessage=W}},downloadCSV:function(){var W=this.createSettings(true);W.listQuery.CSV_Request=true;var V=new E.Message(this.controller+this.name,W,w,this,App.loadBar.newJob());V.timeoutMs=18000000;V.responseType="blob";V.send();return V},refresh:function(V,W){this.send(V,W)},getItems:function(V,X,Y){var W=new E.Message(this.controller+this.name,{listQuery:{keys:V}},X,Y);W.send();return W},orderBy:function(W,V){this.orderByColumn=W;this.orderDirection=V;this.send()},createSettings:function(V){var aa;if(this.queryBuilder&&this.queryBuilderOpen){aa=this.queryBuilder.value()}if(this.config&&this.config.parameters&&this.config.parameters.length>0){var Y={operator:0};var ab=Y;for(var ac=0;ac<this.config.parameters.length;ac++){var W=ac==this.config.parameters.length-1;if(W){if(Y.left){Y.right=this.config.parameters[ac]}else{Y.left=this.config.parameters[ac]}}else{Y.left=this.config.parameters[ac];Y.rightOperator={operator:0};Y=Y.rightOperator}}if(aa){aa={operator:0,leftOperator:aa,rightOperator:ab}}else{aa=ab}}var Z;if(this.config&&!this.config.searchEnabled&&!this.config.outsideSearchEnabled){Z={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection}}else{if(this.searchText!=null&&this.searchText!==""){Z={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection,searchText:this.searchText,searchColumn:this.searchColumn}}else{Z={offset:this.offset,count:this.topNum,orderByColumn:this.orderByColumn,orderDirection:this.orderDirection}}}Z.queryRoot=aa;if(V){Z.getContract=true}if(M&&!this.ignoreLegacySetting){return Z}var X={listQuery:Z};E.extend(X,this.config.methodParameters);return X},createPage:function(W,V){var Y=W===V?"<a class='selected'>":"<a>";var X=E.A(Y+W+"</a>");X.click(Q,X);X.number=W;X.table=this;return X},handleData:function(al){if(!al||al.error){return}if(al.contract){this.contract=contract=al.contract;this.contract_v2=al.contract_v2;this.listView._contract=this.contract;this.listView._table=this;this.queryParameters=[];var am="<tr>",ap=[],ai,ah,Z;this.columns=E.C();for(ai=contract.elements.length,ah=0;ah<ai;ah++){Z=contract.elements[ah];if(Z.isTitle){this.titleElement=Z}this.columns.add(Z.name,Z.name);if(G(Z)&&k(Z.name,this.columnWhitelist)&&d(Z.name,this.columnBlacklist)){am+="<th class='tableOrder'>"+Z.name+"<div class='arrow'></div></th>";ap.push(Z)}if(Z.activationFlag){contract.activationFlag=Z}}if(this.extraColumns){for(ai=this.extraColumns.length,ah=0;ah<ai;ah++){var W=this.extraColumns[ah];am+="<th class='tableOrder'>"+W.title+"</th>"}}if(this.actionButtons){for(ai=this.actionButtons.length,ah=0;ah<ai;ah++){var V=this.actionButtons[ah];am+="<th class='tableOrder'>"+V.title+"</th>"}}this.head.content("<thead>"+am+"</tr></thead>");var af=this.head.child(0).findAll("th",E.A);var an=E.C(),au;for(ai=ap.length,ah=0;ah<ai;ah++){Z=ap[ah];var ad=af[ah];ad.name=Z.name;ad.table=this;ad.click(D,ad);if(!Z.foreignModel&&(Z.shortType==="String"||Z.shortType==="Int")){if(Z.isTitle){au=Z}if(!this.config||this.config.searchEnabled){an.add(Z.name,Z.name)}}if(Z.foreignModel){var ac=Z.foreignModel;for(var ax=0;ax<ac.elements.length;ax++){var Y=ac.elements[ax];if(Y.isTitle){Z.foreignTitlecolumn=Y;break}else{if(Z.foreignKeyName&&Y.name==Z.foreignKeyName){Z.foreignKeycolumn=Y}}}if(!Z.foreignTitlecolumn){Z.foreignTitlecolumn=ac.elements[0]}}}if(!this.config||this.config.searchEnabled){var ao;if(this.config&&this.config.tableID){ao=E.DD("#"+this.config.tableID+"_DDSearchColumn","searchColumn").data(an)}else{ao=E.DD("#DDSearchColumn","searchColumn").data(an)}if(au){ao.value(au.name)}else{if(ap.length){ao.index(0)}}var aw;if(this.config&&this.config.tableID){aw=E.TB("#"+this.config.tableID+"_TxtSearch",{name:"searchText"})}else{aw=E.TB("#TxtSearch",{name:"searchText"})}if(this.config&&this.config.setSearchFocus){aw.setFocus()}ao.change(function(){aw.empty()});aw.input(function(){this.offset=0;this.searchColumn=ao.value();this.searchText=aw.value();this.send()},this)}if(this.queryBuilder){this.queryBuilder.setContract(new E.Contract(al.contract_v2),this)}}var av=al.totalRows;this.totalRows=av;var ak=Math.ceil(av/this.topNum);var X=Math.floor((al.offset/this.topNum)+1);if(ak===1||ak===0){this.footer.hide()}else{this.footer.show();var ag=E("<div class='pageNum'></div>");var aq=10;var at=3;var ab=3;var ae=Math.round(aq/2);var ar=X-ae;var aa=X+ae;if(ar<1){ar=1}if(aa>ak){aa=ak}var ah;if(ak<=aq){for(ah=1;ah<=ak;ah++){ag.append(this.createPage(ah,X))}}else{if(ar>1){if(ar<=at+1){ar=1}else{for(ah=1;ah<=at;ah++){ag.append(this.createPage(ah,X))}ag.append("<span>...</span>")}}if(aa<ak&&aa+ab>=ak){aa=ak}for(ah=ar;ah<=aa;ah++){ag.append(this.createPage(ah,X))}if(aa<ak){ag.append("<span>...</span>");var aj=ak-(ab-1);if(aj<=aa){aj=aa+1}for(;aj<=ak;aj++){ag.append(this.createPage(aj,X))}}}this.footer.content(ag)}this.listView.fill(al.rows);if(this.config&&this.config.replyHandler){this.config.replyHandler.call(this,al)}},dispose:function(){if(!this.ended){this.ended=true}},addComplete:function(W,V){if(W&&!W.error){E.toaster.success("Item added.");this.table.refresh();this.window.close();if(this.table.config&&this.table.config.addReplyHandler){this.table.config.addReplyHandler.call(this.table,W,V)}}},editComplete:function(W,V){if(W&&!W.error){E.toaster.success("Item updated.");this.table.refresh();this.window.close()}},deleteComplete:function(W,V){if(W&&!W.error){E.toaster.success("Item deleted.");this.window.close();this.table.refresh()}},deactivateComplete:function(W,V){if(W&&!W.error){E.toaster.success("Item deactivated.");this.window.close();this.table.refresh()}},activateComplete:function(W,V){if(W&&!W.error){E.toaster.success("Item activated.");this.window.close();this.table.refresh()}}})})(I);(function(a){a.createTable=a.CreateTable=function(m,c){var d=c.id||"";var b=""+d+String.random(14);var k={tableID:b,mappings:c.mappings,objectName:c.objectName,objectAlias:c.objectAlias,clickFunction:c.clickFunction,replyHandler:c.replyHandler,controller:c.controller,viewLoaderLink:c.viewLoaderLink,viewLoaderVarName:c.viewLoaderVarName,columns:c.columns,hiddenColumns:c.hiddenColumns,parameters:c.parameters,objectValues:c.objectValues,addButton:c.addButton,addFunction:c.addFunction,addReplyHandler:c.addReplyHandler,afterWindowOpenClickFunction:c.afterWindowOpenClickFunction,enableAdd:c.enableAdd,editDisabled:c.editDisabled,deleteDisabled:c.deleteDisabled,searchEnabled:c.enableSearch,actionButtons:c.actionButtons,extraColumns:c.extraColumns,showAllInForms:c.showAllInForms,showInForms:c.showInForms,count:c.count,addPadding:c.addPadding,centerTable:c.centerTable,fullWidthTable:c.fullWidthTable,addButtonTarget:c.addButtonTarget,searchTarget:c.searchTarget,setSearchFocus:c.setSearchFocus,manipulateRowData:c.manipulateRowData,manipulateRow:c.manipulateRow,manipulateColumnOutput:c.manipulateColumnOutput,manipulateActionButton:c.manipulateActionButton,manipulateActionButtonOuput:c.manipulateActionButtonOuput,createItemViewBodyFn:c.createItemViewBodyFn,createEditViewBodyFn:c.createEditViewBodyFn,createAddViewBodyFn:c.createAddViewBodyFn,viewWindowCallback:c.viewWindowCallback,editWindowCallback:c.editWindowCallback,addWindowCallback:c.addWindowCallback,addButtonLabel:c.addButtonLabel,addButtonFunction:c.addButtonFunction,addButtonLink:c.addButtonLink,useNewOptionsLoader:c.useNewOptionsLoader,methodParameters:c.methodParameters,enableQueryBuilder:c.enableQueryBuilder,dontSendOnInit:c.dontSendOnInit,editMode:c.editMode};var g=a.createTableString(b,!!c.addPadding,!c.enableQueryBuilder,!c.enableSearch,!c.enableCSV,!c.enableAdd,c.id,k);m=a(m);m.content(g);if(c.enableCSV){k.csvButton=a.NB("#"+b+"_BtnDownloadCSV")}if(!c.objectNamePlural){c.objectNamePlural=c.objectName+"s"}var j=new a.Table("#"+b+"_Table",c.objectNamePlural,c.objectName,k);j.holder=m;return j}})(I);(function(a,b){a.ObjectViewer=function(d,c){c=a.ObjectViewer.prototype.options(c);this.options=c;this.initParent(d);return this};a.ObjectViewer.HTML=function(c){c=a.ObjectViewer.prototype.options(c);return"<div class='objectViewer'></div>"};a.ObjectViewer.create=function(c){return new a.ObjectViewer(a.ObjectViewer.HTML(c),c)};a.ObjectViewer.inherit(a.FormElement,{value:function(k){var d={readOnly:true,noButtonsRow:true,decapitalizeDataElements:false,theme:this.options.theme?this.options.theme:"webForm_readOnly"};var c=[];for(var j in k){if(k.hasOwnProperty(j)){var g=k[j];if(typeof g==="object"&&g!==null){c.push({name:j,control:"object",title:j,readOnly:true})}else{c.push({name:j,control:"label",title:j,readOnly:true})}}}d.fields=c;var m=a.CreateForm(this,d);m.setValues(k)}})})(I,window);(function(b,c){var a=function(g,d){this.initParent(g)};a.inherit(b.Interface,{template:function(k){var g=this._headers;var m="<tr>";for(var j=0;j<g.length;j++){var d=g[j];var n=k[d];if(n!=null){m+="<td>"+n+"</td>"}else{m+="<td></td>"}}return m+"</tr>"}});b.ArrayViewer=function(g,d){d=b.ArrayViewer.prototype.options(d);this.options=d;this.initParent(g);return this};b.ArrayViewer.HTML=function(d){d=b.ArrayViewer.prototype.options(d);return"<div class='arrayViewer'><table class='"+d.theme+"'><thead class='arrayViewerTableHead'></thead><tbody class='arrayViewerTableBody'></tbody></table></div>"};b.ArrayViewer.create=function(d){return new b.ArrayViewer(b.ArrayViewer.HTML(d),d)};b.ArrayViewer.inherit(b.FormElement,{setHeaders:function(d){this.headers=d},value:function(d){if(this.headers==null){var k=[];for(var n=0;n<d.length;n++){var o=d[n];for(var u in o){if(o.hasOwnProperty(u)){if(!k.includes(u)){k.push(u)}}}}this.headers=k}var g=b.AL();g.fill(d);var j=this.find(".arrayViewerTableHead"),m="";for(var n=0;n<this.headers.length;n++){m+="<th>"+this.headers[n]+"</th>"}j.content(m);this.listView=b.LV(this.find(".arrayViewerTableBody"),a);this.listView._headers=this.headers;this.listView.fill(g)}})})(I,window);I.WebElement.add((function(b,c){var a={name:"ConfirmWindow"};a.public={init:function(m,k){if(k.title==null){k.title="Confirm"}if(k.confirmText==null){k.confirmText="Confirm"}if(k.size==null){k.size=1}var j=b("<div class='confirmWindowFooter'></div>");this.confirmButton=b.NiceButton.create({classes:"confirmWindowButton",label:"<i class='far fa-check-circle' style='margin-right:4px'></i> "+k.confirmText});this.confirmButton.execute(function(){k.onConfirm(this)},this);j.append(this.confirmButton);if(k.content!=null){var d=b("<div class='confirmWindowHolder'></div>");var g=b("<div class='confirmWindowBody'></div>");g.append(k.content);d.append(g);d.append(j);k.content=d}else{k.content=j}var n=b.Window.create(k);n.maximize();this.win=n}};return a})(I,window));I.Plot=function(d,c){this.initParent(d);this.name=c.name;this.title=c.title;this.viewOnly=c.viewOnly;this.plotHeader=this.find(".plot_header");var a="#436cce",b=new I.Color(a);this.fullscreenButton=I.NB(this.plotHeader.find(".plot_header_fullscreen"),{isDark:true,baseColor:b});this.saveButton=I.NB(this.plotHeader.find(".plot_header_save"),{isDark:true,baseColor:b});this.saveAsButton=I.NB(this.plotHeader.find(".plot_header_saveAs"),{isDark:true,baseColor:b});this.loadButton=I.NB(this.plotHeader.find(".plot_header_load"),{isDark:true,baseColor:b});this.plotBoxesHolder=this.find(".plot_settings");this.plotHolderOuter=this.find(".plot_holder");this.plotHolderInner=this.plotHolderOuter.find(".plot_holder_inner");this.messageHolder=this.plotHolderOuter.find(".plot_message").center(true,false).top(145);this.plotHolder=this.plotHolderInner.find(".plot_plotly");this.loadBar=I.LoadBar.create(null,{delayForShow:0}).center(true,false,true).top(145);this.plotHolderOuter.append(this.loadBar);this.loadBar.recenter();this.boxes=[];this.initPlot(c);if(c.viewOnly){this.plotHeader.hide();this.plotBoxesHolder.hide();this.addClass("view_only");this.plotHolderOuter.addClass("view_only")}return this};I.Plot.createHTMLString=function(g){var k=g==null?"":(g.theme==null?"":g.theme);var d=g==null?"":(g.title==null?"":("<div class='plot_header_title'>"+g.title+"</div>"));var b="<div class='plot_header_fullscreen cButton'><i class='fas fa-expand-arrows-alt plot_settings_icon'></i>Windowed</div>";var c="<div class='plot_header_load cButton'><i class='fas fa-folder-open plot_settings_icon'></i>Load</div><div class='plot_header_save cButton' style='display:none'><i class='fas fa-save plot_settings_icon'></i>Save</div><div class='plot_header_saveAs cButton'><i class='fas fa-save plot_settings_icon'></i>Save As...</div>";var a="<div class='plot_header'>"+d+b+c+"</div>";var j="<div class='plot_box "+k+"'"+(g==null?"":(g.hidden===true?" style='display:none'":""))+">"+a+"<div class='plot_settings "+k+"'></div>";j+="<div class='plot_holder "+k+"'><div class='plot_message "+k+"' style='display:none'></div><div class='plot_holder_inner "+k+"'><div class='plot_plotly "+k+"'></div></div>";return j+"</div>"};I.Plot.create=function(a){return new I.Plot(I.Plot.createHTMLString(a),a)};I.Plot.inherit(I.Interface,(function(o){var x=function(H,G){if(H&&!H.error){this.loadBar.setProgress(65);this.loadBar.crawlTo(90,2500);this.currentData=H;if(this.currentPlotLayout==null){this.currentPlotLayout={}}if(this.currentPlotConfig==null){this.currentPlotConfig={}}var J=this.onUpdate(H,G._plotSettings.settings,this.currentPlotLayout,this.currentPlotConfig);this.currentPlotTraces=J;this.render(G._callbackFn,G._callbackScope)}},y=function(G,H){this.plotHolderInner.animate({opacity:1},300);Plotly.newPlot(this.plotHolder.html,this.currentPlotTraces,this.currentPlotLayout,this.currentPlotConfig);this.plotly=this.plotHolder.html;this.loadBar.setProgress(100);if(G){G.call(H)}this.onLoad()},z=function(G,H){Plotly.newPlot(this.plotHolder.html,this.currentPlotTraces,this.currentPlotLayout,this.currentPlotConfig);this.plotly=this.plotHolder.html;if(G){G.call(H)}};var c=function(){var H=this.form.serialize();var G=JSON.stringify(H);var H={plotName:this.name,customSettings:G};return H};var F=function(G,H){this.saveId=G;this.saveName=H;this.saveButton.content("<i class='fas fa-save plot_settings_icon'></i>Save <span style='text-decoration: underline;font-weight: 800'>"+H+"</span>").show()};var E=function(H,G){if(H&&!H.error){o.toaster.success("Settings saved.")}};var C=function(H,G){if(H&&!H.error){F.call(this,H.Id,H.Name);G._win.close();o.toaster.success("Settings saved.")}};var g=function(H,G){if(H&&!H.error){G._win.table.refresh();o.toaster.success("Settings deleted.")}};var u=function(H,G){if(H&&!H.error){G._win.close();this.loadingSettings=true;this.form.setValues(JSON.parse(H.CustomSettings));this.loadingSettings=false;this.loadData();F.call(this,H.Id,H.Name)}};var A=function(){var H=c.call(this);H.name=this.saveName;H.id=this.saveId;var G=new o.Message("PlotSettings/Save",{settings:H},E,this);G.button=this.saveButton;G.send()};var B=function(){if(this.txtSaveName.validate()){var G=this.t;var J=c.call(G);J.name=this.txtSaveName.value();var H=new o.Message("PlotSettings/SaveAs",{settings:J},C,G);H._win=G.win;H.button=this.btnSave;H.send()}};var n=function(G){o.network.dataStringToDownload(G,"image/jpeg",this.title+".jpeg")};var m=function(){var O=this.plotHolder.width(),K=this.plotHolder.height(),N=this.exportDropdown.value();if(N==="PlotlyImage"){try{this.exportButton.startProcessing();var G=this;var H=Plotly.toImage(this.plotHolder.html,{format:"jpeg",height:K,width:O});H.then(function(P){n.call(G,P)})}catch(J){console.error(J)}this.exportButton.endProcessing()}else{var M=c.call(this);M.width=O;M.height=K;var L=new o.Message("Plots/Export",{settings:M,resolutionScale:this.exportResolutionScaleTextbox.value(),exportType:N});L.button=this.exportButton;L.responseType="blob";L.timeoutMs=120000;L.send()}};var d=function(J){var M={};M.addPadding=true;M.count=2000;M.enableSearch=true;M.controller="PlotSettings";M.objectName="Settings";M.objectNamePlural="Settings";M.objectAlias="Settings";M.columns=["Name","Last Modified"];M.parameters=[{column:"Plot Name",operation:0,value:this.name}];var G=this;M.actionButtons=[{title:"",label:"Delete",classes:"plot_save_delete",action:function(O,Q){var R=confirm('Confirm action: Delete "'+O.Name+'"');if(R===true){var P=new o.Message("PlotSettings/Delete",{id:O.Id},g,this);P._win=G.win;P.button=this;P.send()}}}];var L=o.createTable(J,M);L.paddingDiv.addClass("save_window");var K=o("<div class='plot_save_name_holder'></div>");var H=o.NiceButton.create({classes:"plot_save_name_button",label:"<i class='fas fa-save plot_settings_icon'></i> Save"});var N=o.TextBox.create({name:"Save Name",classes:"plot_save_name_textbox"}).checkNotEmpty().onEnterKey(function(){H.execute()});H.execute(B,{t:this,txtSaveName:N,btnSave:H});K.append("<div class='plot_save_name_label'>Save name:</div>");K.append(H);K.append(N);J.append(K);N.setFocus();return L};var b=function(H){var K={};K.addPadding=true;K.count=2000;K.setSearchFocus=true;K.enableSearch=true;K.controller="PlotSettings";K.objectName="Settings";K.objectNamePlural="Settings";K.objectAlias="Settings";K.columns=["Name","Last Modified"];K.parameters=[{column:"Plot Name",operation:0,value:this.name}];var G=this;K.actionButtons=[{title:"",label:"Open",classes:"plot_save_load",action:function(L,N){var M=new o.Message("PlotSettings/Load",{id:L.Id},u,G);M._win=G.win;M.button=this;M.send()}}];var J=o.createTable(H,K);J.paddingDiv.addClass("load_window");return J};var D=function(){if(this.win!=null){this.win.close()}this.win=new o.Window({title:"Save plot settings",board:o.board,pos:"middleOpen",width:520,height:500,size:1});App.dashboard.append(this.win);o.windows.add(this.win,false);var G=o("<div></div>");this.win.contentHolder.css("background","#fdfeff");this.win.contentHolder.append(G);this.win.table=d.call(this,G);this.win.reveal(100);o.timeout(0,function(){this.win.select()},this)};var w=function(){if(this.win!=null){this.win.close()}this.win=new o.Window({title:"Load plot settings",board:o.board,pos:"middleOpen",width:520,height:500,size:1});App.dashboard.append(this.win);o.windows.add(this.win,false);var G=o("<div></div>");this.win.contentHolder.css("background","#fdfeff");this.win.contentHolder.append(G);this.win.table=b.call(this,G);this.win.reveal(100);o.timeout(0,function(){this.win.select()},this)};var j=function(){if(this.isInFullscreen===true){this.fullscreenWindow.close()}else{this.isInFullscreen=true;this.fullscreenButton.switchOn();this.preFullscreenParent=this.parent();var G=o.Window.create({title:this.title,background:"#f5f5f5",width:this.width(),height:this.height(),revealSpeed:400,size:0});G.onClose(k,this);G.setContent(this);this.fullscreenWindow=G}};var a=function(){if(this.fullscreenWindow){this.fullscreenWindow.close()}};var k=function(){if(this.isInFullscreen){this.hide();this.fullscreenButton.switchOff();this.preFullscreenParent.append(this);this.fadeIn();this.isInFullscreen=false}};return{initPlot:function(L){this.form=new o.Form(this.plotBoxesHolder,null,false,false);this.form.representsObject("settings");if(L==null){L={}}if(L.boxes==null){L.boxes=[]}this.fullscreenButton.isSwitch().switchOn(j,this).switchOff(a,this);this.saveButton.execute(A,this);this.saveAsButton.execute(D,this);this.loadButton.execute(w,this);L.boxes.push({title:"<i class='fas fa-chart-area plot_settings_icon PlotlyColors'></i> Chart",theme:"chart_settings PlotlyColors",formConfig:{noButtonsRow:true,fields:[{name:"ChartSettings",title:"Settings",control:"button",excludeFromForm:true,options:{icon:"<i class='fas fa-cog'></i>",classes:"plot_general_settings_button",spanLabelColumn:true,shadowStyle:false}},{name:"ExportResolutionScale",title:"Resolution Scale",control:"textbox",excludeFromForm:true,options:{classes:"plot_resolution_scale",}},{name:"ExportType",title:"Export Type",control:"dropdown",excludeFromForm:true,options:{classes:"plot_export_dropdown",}},{name:"ExportButton",title:"<i class='fas fa-file-export plot_export_icon' style='margin-right: 7px;'></i> Download",control:"button",excludeFromForm:true,options:{classes:"plot_export_button2",spanLabelColumn:true}}]}});for(var K=0;L.boxes.length>K;K++){var H=L.boxes[K];if(H.form==null){H.form=this.form}H.plot=this;var G=o.PlotBox.create(H);this.plotBoxesHolder.append(G);this.boxes.push(G);if(H.formConfig!=null){for(var M=0;M<H.formConfig.fields.length;M++){var J=H.formConfig.fields[M];if(J.plotLayoutUpdate){this.getFormElement(J.name).change(this.updateLayout,this)}else{if(J.plotDataUpdate){this.getFormElement(J.name).change(this.loadData,this)}}}}}this.endpoint=L.endpoint;this.onUpdate=L.onUpdate;this.settingsHolder=this.plotBoxesHolder.find(".chart_settings");this.settingsButton=o.NB(this.settingsHolder.find(".plot_general_settings_button"));this.settingsHolder.find(".row_ChartSettings").hide();this.exportResolutionScaleTextbox=o.TB(this.settingsHolder.find(".plot_resolution_scale"),{name:"ResolutionScale"});this.exportResolutionScaleTextbox.setNumberValidation().value(1);this.exportButton=o.NB(this.settingsHolder.find(".plot_export_button2")).execute(m,this);this.exportDropdown=this.settingsHolder.find(".plot_export_dropdown").data(o.C(["Image","PlotlyImage","PDF"],["<i class='fas fa-file-image plot_export_icon'></i> Image (Server)","<i class='fas fa-file-image plot_export_icon'></i> Image (Plotly)","<i class='fas fa-file-pdf plot_export_icon'></i> PDF"])).index(0);this.plotHolder.onParentResize(function(){var N=this.plotHolderInner.width();if(this.currentPlotLayout){Plotly.relayout(this.plotHolder.html,{width:N})}},this)},getFormElement:function(G){if(this.form==null){return null}return this.form.elements.get(G)},stopLoadData:function(){if(this.loadDataTimer!=null){clearTimeout(this.loadDataTimer);this.loadDataTimer=null}},loadData:function(G,H){if(this.loadDataTimer==null){this.loadDataTimer=o.timeout(0,function(){this.loadDataNow(G,H)},this)}},loadDataNow:function(G,H){this.stopLoadData();if(this.loaded&&!this.loadingSettings){var K;if(this.settings!=null){K=this.settings}else{K=this.form.serialize()}window.loadBar=this.loadBar;this.loadBar.newJob();this.plotHolderInner.animate({opacity:0.15},200);this.messageHolder.hide();this.loadBar.setProgress(14);this.loadBar.crawlTo(55,6000);var J=new o.Message(this.endpoint,K,x,this);J._plotSettings=K;J._callbackFn=G;J._callbackScope=H;J.send()}},updateLayout:function(){if(this.loaded&&this.currentData!=null&&!this.loadingSettings){var G=this.form.serialize();if(this.currentPlotLayout==null){this.currentPlotLayout={}}var H=this.onUpdate(this.currentData,G.settings,this.currentPlotLayout,this.currentPlotConfig);this.currentPlotTraces=H;o.timeout(0,z,this)}},render:function(G,H){if(this.loaded){o.timeout(0,function(){y.call(this,G,H)},this)}},load:function(G,H){if(!this.loaded){this.loaded=true;this.loadData(G,H)}},onLoad:o.q("onLoad")}})(I));I.PlotBox=function(b,a){this.initParent(b);this.contentHolder=this.find(".plot_settings_content");if(a.formConfig){a.formConfig.form=a.form;I.CreateForm(this.contentHolder,a.formConfig)}return this};I.PlotBox.createHTMLString=function(a){var c=a==null?"":(a.theme==null?"":a.theme);var b="<div class='plot_settings_box "+c+"'"+(a==null?"":(a.hidden===true?" style='display:none'":""))+"><div class='plot_settings_header "+c+"'>"+a.title+"</div><div class='plot_settings_content "+c+"'></div></div>";return b};I.PlotBox.create=function(a){return new I.PlotBox(I.PlotBox.createHTMLString(a),a)};I.PlotBox.inherit(I.Interface,(function(a){})(I));(function(){var a=function(j,d){if(!j.error&&j.JavaScript){var c=new Function("return (function(data, viewOnly){;"+j.JavaScript+"}(this.data, this.viewOnly));");var b={data:d._data,viewOnly:d._viewOnly};var g=c.call(b);if(d._fn){d._fn.call(d._scope,g)}}};I.Plots={renderDashboard:function(d,b,c,g){this.render(d,false,b,c,g)},renderViewOnly:function(d,b,c,g){this.render(d,true,b,c,g)},render:function(g,k,b,c,j){var d=new I.Message("Plots/Get",{name:g},a);d._data=b;d._fn=c;d._scope=j;d._viewOnly=k;d.send()}}})();(function(I,window){var logInRedirect=function(url){var navUrl="/LogIn?redirect="+encodeURIComponent(url);if(I.state.isLoggedIn){window.location.href=navUrl;return}var navRequest=new I.NavRequest(navUrl);navRequest.replaceState=true;navRequest.send();I.pleaseSignInToast=I.toaster.message("Please sign in or create an account to access this page.",null,7000)};var isFailedAuthenticationError=function(error){return error.name=="NoUserSessionKey"||error.name=="InvalidUserSessionKey"||error.name=="FailedUserAuthentication"||error.name=="NoActiveSessionsFound"};var navigating=false,navQueue=[];I.navigate=function(url,callbackFn,callbackScope,fromHistory){var n=new I.NavRequest(url,callbackFn,callbackScope,fromHistory);n.send();return n};I.refresh=function(callbackFn,callbackScope){I.navigate(I.page.url,callbackFn,callbackScope)};I.NavRequest=function(url,callbackFn,callbackScope,fromHistory){this.mapRequestSent=this.viewsReceived=this.viewsLoaded=this.failed=this.dataReceived=this.dataLoaded=this.done=this.hasViewDataError=false;this.viewRequestsSentTotal=this.viewRequestsSent=0;this.affectedViewLoaders=[];this.loadingBundles=[];this.callbackFn=callbackFn;this.callbackScope=callbackScope;this.fromHistory=fromHistory;if(url==null){url=""}if(url.startsWith("/")){url=url.substring(1)}this.url=url;var indexQuery=url.indexOf("?");if(indexQuery>0){this.url_pathPart=url.substr(0,indexQuery);this.url_queryPart=url.substr(indexQuery);this.mapUrl=this.url_pathPart+"/-viewMap"+this.url_queryPart}else{this.url_pathPart=url;this.url_queryPart="";this.mapUrl=url+"/-viewMap"}};I.NavRequest.prototype={viewDataError:function(error){error.handled=true;this.errorData=error;this.hasViewDataError=true;if(isFailedAuthenticationError(error)){logInRedirect(this.url);this.finish()}},errorReply:function(error){this.error()},error:function(except,errorHandled){if(!this.done){if(except){I.logError(except)}if(this.viewsReceived){var baseViewLoader=this.baseViewLoader;if(baseViewLoader){baseViewLoader.displayError({name:"ViewPageReadyCallErrored",userMessage:"An error occurred while loading this page."})}else{I.toaster.alert("Page load error.")}}else{if(!errorHandled){I.toaster.alert("Page load error.")}}this.failed=true;this.finish()}},addViewLoader:function(vl){this.affectedViewLoaders.push(vl)},callPreLoad:function(i){var success=false;try{success=this.affectedViewLoaders[i].onPreLoadEvent()}finally{if(success&&i+1<this.affectedViewLoaders.length){this.callPreLoad(i+1)}else{if(!success){this.affectedViewLoaders[i].displayError()}this.callLoad(0)}}},callLoad:function(i){var success=false;try{success=this.affectedViewLoaders[i].onLoadEvent()}finally{if(success&&i+1<this.affectedViewLoaders.length){this.callLoad(i+1)}else{if(!success){this.affectedViewLoaders[i].displayError()}this.viewsLoaded=true;this.updateProgress();this.checkFinished()}}},checkIfBundlesLoaded:function(){if(!this.done&&this.viewsReceived&&this.loadingBundles.length==0){this.callPreLoad(0)}},checkFinished:function(){if(!this.done&&this.viewsLoaded&&this.dataReceived&&!this.dataLoaded){processViewData.call(this);this.readyViewLoaders()}},readyViewLoaders:function(){if(!this.done&&this.viewsLoaded&&this.dataLoaded){if(this.hasViewDataError){this.affectedViewLoaders[0].displayError(this.errorData);this.finish()}else{var viewReadySuccess;for(var i=0;i<this.affectedViewLoaders.length;i++){viewReadySuccess=this.affectedViewLoaders[i].onReadyEvent(this);if(!viewReadySuccess){break}}this.finish()}}},finish:function(){if(!this.done){this.done=true;this.receivedViews=null;this.updateProgress();if(navigating){navigating=false;I.timeout(75,this.callResize);if(navQueue.length>0){var navRequest=navQueue.shift();navRequest.sendMapRequest()}}}},callResize:function(){I.page.resize(true)},updateProgress:function(){if(this.currentJob){if(this.done){this.currentJob.setProgress(100);return}if(this.dataLoaded){this.currentJob.setProgress(92);return}if(this.viewsReceived&&this.dataReceived){if(this.viewsLoaded){this.currentJob.setProgress(90)}else{this.currentJob.setProgress(80)}return}var score=30;if(this.dataReceived){score+=25}if(this.viewsReceived){score+=25}else{if(this.viewRequestsSentTotal!=0){score+=Math.round(25*((this.viewRequestsSentTotal-this.viewRequestsSent)/this.viewRequestsSentTotal))}}this.currentJob.setProgress(score)}},send:function(){this.sendMapRequest()},sendMapRequest:function(){if(!this.mapRequestSent){if(navigating){navQueue.push(this);return}this.mapRequestSent=true;navigating=true;try{this.currentJob=I.mainLoadBar.newJob();var message=new I.Message(this.mapUrl,{currentMap:getCurrentViewMap()},processIncomingViewMap,this);message.requestMethod="POST";message.send();this.currentJob.setProgress(14)}catch(err){this.error()}}}};var processIncomingViewMap=function(reply,message){if(this.done){return}try{if(reply){if(reply.error){if(isFailedAuthenticationError(reply.error)){logInRedirect(this.url);reply.error.handled=true}else{if(this.callbackFn){this.callbackFn.call(this.callbackScope,reply,message)}}this.error(null,true)}else{this.viewMap=reply;if(reply.dataKey){var dataMessage=new I.Message(this.url_pathPart+"/-viewData"+this.url_queryPart,{dataKey:reply.dataKey},receiveViewData,this);dataMessage.send()}else{this.dataReceived=this.dataLoaded=true}I.body.docScrollTop(0);I.history.updateTitleAndUrl(null,"/"+this.url,this.fromHistory,null,this.replaceState);this.baseViewLoader=I.viewLoaders.get(reply.viewLoader.name);this.map=reply.viewLoader.view;loadViews.call(this);this.updateProgress()}}}catch(err){this.error(err)}};var receiveViewData=function(reply,message){if(this.done){return}this.newData=reply;if(reply&&!reply.error){this.newData=reply}else{if(reply.error){this.viewDataError(reply.error)}else{this.error()}}this.dataReceived=true;this.updateProgress();this.checkFinished()};var processViewData=function(){if(this.newData){for(var prop in this.newData){if(!this.newData.hasOwnProperty(prop)){continue}I.pageData[prop]=this.newData[prop]}}this.dataLoaded=true;this.updateProgress()};var sendLoadViewRequest=function(url,callbackFn,callbackScope,viewName){if(url==null){url=""}if(url.startsWith("/")){url=url.substring(1)}var indexQuery=url.indexOf("?");var viewUrl;if(indexQuery>0){viewUrl=url.substr(0,indexQuery)+"/-view"+url.substr(indexQuery)}else{viewUrl=url+"/-view"}var message=new I.Message(viewUrl,null,callbackFn,callbackScope);message.viewName=viewName;message.requestMethod="GET";message.send()};var receiveViewRequest=function(reply,message){if(this.done){return}this.viewRequestsSent--;this.receivedViews[message.viewName]=reply;if(this.viewRequestsSent==0){var newView=this.map,vl=this.baseViewLoader;while(true){vl.onLoad(this.receivedViews[newView.name],this);this.addViewLoader(vl);vl.activeView={name:newView.name,viewLoaders:[]};if(newView.viewLoader){var html=I("#VL_"+newView.viewLoader.name);var next_vl=vl.activeView.viewLoaders[0]=new I.ViewLoader(html,newView.viewLoader.name);next_vl.parentView=vl.activeView;next_vl.activeView=null;if(newView.viewLoader.view){newView=newView.viewLoader.view;vl=next_vl}else{break}}else{break}}this.viewsReceived=true;this.updateProgress();this.checkIfBundlesLoaded()}else{this.updateProgress()}};var loadViews=function(){this.receivedViews={};var newView=this.map;while(true){this.viewRequestsSentTotal++;this.viewRequestsSent++;sendLoadViewRequest(newView.path,receiveViewRequest,this,newView.name);if(newView.viewLoader!=null&&newView.viewLoader.view!=null){newView=newView.viewLoader.view}else{break}}};var processViewLoaders=function(view,fn,obj){for(var i=0;i<view.viewLoaders.length;i++){var vl=view.viewLoaders[i];r=fn.call(this,vl,obj);if(r){return r}if(vl.activeView){return processViewLoaders(vl.activeView,fn,obj)}}};var forEachViewLoader=function(fn,obj){var baseVL=I.baseViewLoader;if(!baseVL){return}var r=fn.call(this,baseVL,obj);if(r){return r}return processViewLoaders(baseVL.activeView,fn,obj)};var loadChecker=function(vl,loadId,bundle,navRequest){this.vl=vl;this.loadId=loadId;this.bundle=bundle;this.tries=0;this.navRequest=navRequest;I.timeout(0,this.checkLoad,this)};var map_processViewTempFix=function(vl){var view=vl.activeView;var v={name:view.name};if(!vl.isReady){return v}for(var i=0;i<view.viewLoaders.length;i++){var nextVL=view.viewLoaders[i];v.viewLoader={name:nextVL.name};if(nextVL.activeView){v.viewLoader.view=map_processViewTempFix(nextVL)}}return v};var map_processView=function(view){var v={name:view.name,viewLoaders:[]};for(var i=0;i<view.viewLoaders.length;i++){var vl=view.viewLoaders[i];v.viewLoaders[i]={name:vl.name};if(vl.activeView){v.viewLoaders[i].view=map_processView(vl.activeView)}}return v};var getCurrentViewMap=function(){var baseVL=I.baseViewLoader;if(!baseVL){return}return map_processViewTempFix(baseVL)};loadChecker.prototype={checkLoad:function(){if(this.navRequest!=null&&this.navRequest.isDone){return}if(this.tries++>5000){console.log("View html load failed.");return}var d=document.getElementById("vlview_"+this.loadId);if(d){if(this.vl){this.vl.htmlLoaded.call(this.vl,this.loadId,this.bundle,this.navRequest)}else{I.timeout(2,this.checkLoad,this)}}}};I.ViewLoader=function(s,name){this.name=name;this.viewLoadId=0;this.disposed=false;this.initParent(s);this.initVL();return this};I.ViewLoader.inherit(I.Interface,{initVL:function(){this.dispose(this.disposeView,this)},loadCheckDiv:function(i){return"<div id='vlview_"+i+"' style='display:none'></div>"},refresh:function(){return this.load(I.page.url)},loadView:function(url,callbackFn,callbackScope,navRequest){},load:function(url,callbackFn,callbackScope,fromHistory){I.navigate.apply(this,arguments)},onLoad:function(reply,navRequest){if(navRequest!=null&&navRequest.isDone){return}try{this.displayingError=this.bundleLoaded=this.viewPreLoaded=this.viewLoaded=this.isReady=false;if(!reply||reply.error){if(reply.error.name!="ViewNotFound"){I.toaster.alert("Failed to load page.",null,4000)}}else{this.css("opacity",0);this.disposeView();this.loadComplete=false;this.content(reply.html+this.loadCheckDiv(++this.viewLoadId));if(navRequest){navRequest.loadingBundles.push(this)}var evalSuccess=false;try{window.activeViewLoader=this;eval(reply.javaScript);evalSuccess=true}finally{if(!evalSuccess){this.displayError();if(navRequest){navRequest.loadingBundles.spliceObj(this)}return}}new loadChecker(this,this.viewLoadId,reply,navRequest)}}catch(err){if(navRequest){navRequest.error(err)}else{throw err}}},disposeView:function(){if(this.activeView&&!this.activeView.disposed){this.activeView.disposed=true;if(this.activeView.viewLoaders){for(var i=0;i<this.activeView.viewLoaders.length;i++){this.activeView.viewLoaders[i].disposeView()}}if(this.events&&this.events.pageDispose){this.events.pageDispose()}if(I.pageData!=null&&I.pageData[this.activeView.name]){delete I.pageData[this.activeView.name]}this.events=null}},displayError:function(error){window.stop=true;if(!this.displayingError){this.displayingError=true;if(error==null){error={userMessage:"An error occurred while loading this page."}}var errorBox="<div class='viewLoaderErrorBox'><div class='viewLoaderErrorBoxTop'>Page could not be loaded.</div>";if(error.userMessage&&error.userMessageDetails){errorBox+="<div class='viewLoaderErrorBoxTitle'>"+error.userMessage+"</div><div class='viewLoaderErrorBoxBody'>"+error.userMessageDetails+"</div>"}else{var msg=error.userMessage?error.userMessage:(error.userMessageDetails?error.userMessageDetails:"An unexpected error occurred.");errorBox+="<div class='viewLoaderErrorBoxBody'>"+msg+"</div>"}this.disposeView();if(this.html!=null){this.empty()}this.append(errorBox+"</div>").fadeIn(100,null,this.fadeInComplete,this)}},htmlLoaded:function(viewLoadId,bundle,navRequest){if(viewLoadId==this.viewLoadId){var vls=this.findAll(".viewLoader");for(var l=vls.length,i=0;i<l;i++){var vl=vls[i];var id=vl.html.id;I.viewLoaders.add(new I.ViewLoader(vl,id,i))}this.bundleLoaded=true;if(navRequest){navRequest.loadingBundles.spliceObj(this);navRequest.checkIfBundlesLoaded()}}},onPreLoadEvent:function(){if(this.bundleLoaded&&!this.viewPreLoaded){if(this.events&&this.events.pagePreLoad){this.events.pagePreLoad.call(this,this.activeView)}this.viewPreLoaded=true;return true}return false},onLoadEvent:function(){if(this.viewPreLoaded&&!this.viewLoaded){if(this.events&&this.events.pageLoad){this.events.pageLoad.call(this,this.activeView)}this.viewLoaded=true;return true}return false},onReadyEvent:function(navRequest){if(this.viewLoaded&&!this.isReady){var viewData=I.pageData[this.activeView.name];if(viewData==null){viewData={error:{name:"NoViewData",userMessage:"Failed to load page data."}};console.log("ISSUE: no view data received.")}var success=false;try{if(this.events&&this.events.pageReady){this.events.pageReady.call(this,this.activeView,viewData)}success=true}finally{if(!viewData.error&&!success){this.displayError();if(navRequest){navRequest.finish()}}else{if(viewData.error&&!viewData.error.handled){this.displayError(viewData.error);if(navRequest){navRequest.finish()}}else{this.fadeIn(70,null,this.fadeInComplete,this);this.isReady=true}}}}return true},fadeInComplete:function(){}});I.handlePageLoadViewDataError=function(){var error=I.pageData.error;I.toaster.error(error)};I.state.onDocLoad(function(){navigating=true;var onEachGet_ForViewName=function(vl,name){if(vl.activeView&&vl.activeView.name===name){return vl.activeView}};var onEachGet_ForViewLoaderName=function(vl,name){if(vl.name==name){return vl}};I.viewLoaders=[];I.viewLoaders.get=function(name){return forEachViewLoader(onEachGet_ForViewLoaderName,name)};I.getView=function(name){return forEachViewLoader(onEachGet_ForViewName,name)};var callScriptLoad=function(i){var success=false;try{var vl=affectedViewLoaders[i];window.activeViewLoader=vl;var script=window.viewScripts[vl.activeView.uniqueName];if(script){if(typeof script==="string"){eval(script)}else{script()}}vl.bundleLoaded=true;success=true}finally{if(success&&i+1<affectedViewLoaders.length){callScriptLoad(i+1)}else{if(!success){affectedViewLoaders[i].displayError()}callPreLoad()}}},callPreLoad=function(){var success=true;for(var i=0;success&&i<affectedViewLoaders.length;i++){try{success=false;success=affectedViewLoaders[i].onPreLoadEvent()}finally{if(!success){affectedViewLoaders[i].displayError()}}}},affectedViewLoaders=[];I.viewLoaders.raisePreLoad=function(){console.log("Raising Viewloaders: PreLoad");forEachViewLoader(function(vl){if(vl.activeView){affectedViewLoaders.push(vl)}});if(affectedViewLoaders.length>0){callScriptLoad(0)}I.viewLoaders.raisePreLoad=null;window.viewScripts=null};I.viewLoaders.raiseLoad=function(){console.log("Raising Viewloaders: Load");var success=true;for(var i=0;success&&i<affectedViewLoaders.length;i++){try{success=false;success=affectedViewLoaders[i].onLoadEvent()}finally{if(!success){affectedViewLoaders[i].displayError()}}}I.viewLoaders.raiseLoad=null};I.viewLoaders.raiseReady=function(){affectedViewLoaders=null;console.log("Raising Viewloaders: Ready");forEachViewLoader(function(vl){if(!vl.viewLoaded){return true}var success=vl.onReadyEvent();if(!success){return true}return false});I.viewLoaders.raiseReady=null};I.viewLoaders.add=function(vl){for(var l=I.viewLoaders.length,i=0;i<l;i++){var current=I.viewLoaders[i];if(current.name==vl.name){vl.index=i;I.viewLoaders[i]=vl;return}}I.viewLoaders.push(vl)};(function(window,I){var createView=function(pl_view){var view={name:pl_view.name,uniqueName:pl_view.uniqueName,viewLoaders:[]};if(pl_view.viewLoaders){for(var i=0;i<pl_view.viewLoaders.length;i++){var pl_vl=pl_view.viewLoaders[i];var new_vl=view.viewLoaders[i]=new I.ViewLoader(pl_vl.html,pl_vl.name);new_vl.parentView=view;new_vl.activeView=createView(pl_vl.activeView)}}return view};if(window._pl){var baseViewLoader=new I.ViewLoader("#BaseViewLoader","BaseViewLoader");baseViewLoader.activeView=createView(window._pl.__master);I.baseViewLoader=baseViewLoader}})(window,I);var endInitialNav=function(){if(navigating){navigating=false;if(navQueue.length>0){var navRequest=navQueue.shift();navRequest.sendMapRequest()}}};I.state.onDocLoad(function(){I.viewLoaders.raisePreLoad()});I.state.onInterfaced(function(){I.viewLoaders.raiseLoad()});I.state.onReady(function(){try{if(I.pageData.error==null){I.viewLoaders.raiseReady()}else{if(isFailedAuthenticationError(I.pageData.error)){logInRedirect(I.page.url)}if(I.baseViewLoader.activeView!=null&&I.baseViewLoader.activeView.viewLoaders!=null&&I.baseViewLoader.activeView.viewLoaders.length>0){I.baseViewLoader.activeView.viewLoaders[0].displayError(I.pageData.error)}else{I.handlePageLoadViewDataError()}}}finally{endInitialNav();I.timeout(75,function(){I.page.resize(true)})}})})})(I,window);(function(a,b){a.Log={};a.Log.createDataContent=function(){};a.Log.createTable=function(k){var g=a("<div class='logTableHolder'></div>");a(k.Target).append(g);var m=a.createTable(g,{controller:"Log",objectName:"GlobalLogEntry",objectNamePlural:"GlobalLogEntries",enableAdd:false,editDisabled:true,deleteDisabled:true,enableSearch:true,enableQueryBuilder:true,hiddenColumns:["EventId","EventName","ObjectId","ObjectTypeName","ObjectTypeId","ObjectTypeURL","ObjectTypeURLVariableName","Object Type","UserId","User","User Name","UserURL","UserURLVariableName","HasLoggedValues","HasLoggedDetails","AccessTypeId","AccessTypeName"],manipulateColumnOutput:function(u,n,o){if(n.name=="Timestamp"){n.dontProcessOuput=true;return moment(u).local().format("MMM Do YY, h:mm:ss a")}return u},actionButtons:[{title:"User",label:"Object",classes:"viewButton userLogButton",hrefFn:function(n){return n.UserURL+"?"+n.UserURLVariableName+"="+n.UserId},labelFn:function(n,o){return o.User},enableFn:function(n){return n.User!=null}},{title:"Object",label:"Object",classes:"table_actionButton",hrefFn:function(o){if(!o.ObjectTypeURL){return null}var n=o.ObjectTypeURL.indexOf("?")>-1;return o.ObjectTypeURL+(n?"&":"?")+o.ObjectTypeURLVariableName+"="+o.ObjectId},labelFn:function(n,o){return o["Object Type"]},enableFn:function(n){return n.ObjectTypeId!==0&&n.ObjectTypeName!="None"}},{title:"Details",label:"Details",action:function(n,o){a.Log.openWindow(n.Id)},classes:"viewButton"}]});m.addClass("niceTable logTable");m.footer.addClass("niceFooter");if(k.EnableAdministration){var c=a.NiceButton.create({label:"<i class='fas fa-cog' style='margin-right: 3px'></i> Administration",classes:"btnLogAdministration",onColor:"#C4C4C4"}).isSwitch();var j=a.FL("<div class='floaterForOptions'><a class='navEventTypes floaterOption'>Event Types</a><a class='navObjectTypes floaterOption'>Object Types</a><a class='navAccessTypes floaterOption'>Access Types</a></div>").closeOnBlur().setSwitch(c).fix().belowToLeft(c).targetParent();var d={baseColor:"#0866ad",hoverColor:"#0866ad"};a.NB(j.find(".navEventTypes"),d).click(function(){var n=a("<div style='padding: 10px'></div>");a.Window.create({title:"Event Types",height:550,width:700,content:n});var o=a.createTable(n,{controller:"Log",objectName:"EventType",objectAlias:"Event Type",enableAdd:true});j.close()});a.NB(j.find(".navObjectTypes"),d).click(function(){var n=a("<div style='padding: 10px'></div>");a.Window.create({title:"Object Types",height:550,width:700,content:n});var o=a.createTable(n,{controller:"Log",objectName:"ObjectType",objectAlias:"Object Type",enableAdd:true});j.close()});a.NB(j.find(".navAccessTypes"),d).click(function(){var n=a("<div style='padding: 10px'></div>");a.Window.create({title:"Access Types",height:550,width:700,content:n});var o=a.createTable(n,{controller:"Log",objectName:"AccessType",objectAlias:"Access Type",enableAdd:true});j.close()});a(g).append(c)}return m}})(I,window);(function(a,c){var b=function(x){if(x&&!x.error){var n=x;var k=n.Entry;var d=n.Details;var B=n.Values;console.log(B);var o=new a.Window({title:"Log: "+k.Event+" (id: "+k.Id+")",board:a.board,pos:"middleOpen",width:620,height:655});App.dashboard.append(o);a.windows.add(o,false);var z=["Log Entry"];if(B!=null&&B.length){z.push("Changes")}if(d!=null){z.push("Details")}var A=a.Tabs.create({Tabs:z});var u=a.ObjectViewer.create();u.value(k);A.boxes[0].append(u);var y=1;if(B!=null&&B.length){var C=a.ObjectViewer.create();C.value(B);A.boxes[y].append(C);y++}if(d!=null){try{if(d.Details!=null){var j=d.Details.trim();if(j[0]==="{"||j[0]==="["){var w=JSON.parse(j);var g=a.ObjectViewer.create();g.value(w);A.boxes[y].append(g)}else{}}}catch(m){A.boxes[y].append("<div style='padding:10px;'>JSON PARSE ERROR: "+m.message+"</div>")}A.boxes[y].append("<div style='padding:10px;'>"+d.Details+"</div>")}A.select(0);o.contentHolder.append(A);o.contentHolder.css("overflow","auto");o.reveal(100)}};a.Log.openWindow=function(d){new a.Message("Log/Get",{id:d},b,this).send()}})(I,window);((function(b,c){var a=function(g,x,d,w,y){var n=[];for(var u=0;u<x.elements.length;u++){var j=x.elements[u];if(j.shortType==="Model"){n.push(j)}else{d.push({isRoot:w==="",contract:j,id:w+j.name,title:y+j.displayName})}}for(var u=0;u<n.length;u++){var m=n[u];var o=m.fullTypeName;var k=g.models[o];d.push({contract:m,id:w+m.name,title:y+m.displayName});a(g,k,d,w+m.name+".",y+m.displayName+"->")}};b.Contract=function(d){this.read(d)};b.Contract.prototype={read:function(g){this.full=g;this.root=g.rootModel;this.rootModel=g.models[this.root];var d=[];a(g,this.rootModel,d,"","");this.columnInfo=b.C().transform(d,"id");this.columns=b.C().transform(d,"id","title")}}})(I,window));I.WebElement.add((function(n,B){var d={name:"QueryBuilder",template:function(C){return"<div class='queryBuilder'><div class='queryBuilderContent'></div></div>"}};var x=n.C([0,1,2,3,4,5,6],["=","<>",">",">=","<","<=","Like"]);var z=function(){this.parentGroup.nodes.spliceObj(this);this.remove();this._qb.change()};var m=function(J){var G=String.random(12);var D=n.FormBuilder.createDropdown({id:G});this.formElement=n.DD(D);this.formElement.addClass("queryModelDD");var K,H;for(var F=0;F<this.formElementContract.elements.length;F++){var E=this.formElementContract.elements[F];if(E.properties&&E.properties.General){if(E.properties.General.PrimaryKey){H=E}if(E.properties.General.IsTitle){K=E}}if(K&&H){break}}var C=n.C().transform(J.rows,H.name,K.name);this.formElement.data(C);this.formElementHolder.content(this.formElement);this.formElement.change(u,this)};var c=function(){if(this.previousValue){this.ignoreChange=true;this.ignoreChange=false}var C=this.ddColumns.value();var D=this._qb.columnInfo.get(C);var E=D.contract;if(E.shortType==="Model"){this.formElementContract=this._qb.contract.models[E.fullTypeName];if(this.formElement){this.formElement.remove();this.formElement=null}var F="AnalysisReportingAPI";if(!(E.displayName==="Form"||E.displayName==="Supplier"||E.displayName==="Analyte"||E.displayName==="Sample"||E.displayName==="Lot"||E.displayName==="Variety")){F="AnalysisDataTypesAPI"}var H=E.displayName+"s";if(E.displayName==="Variety"){H="Varieties"}var J=F+"/"+H;var G=new n.Message(J,{listQuery:{count:10000}},m,this);G.send()}else{this.formElement=n.TextBox.create({classes:"queryTBH"}).change(u,this).onEnterKey(u,this).input(o,this._qb);this.formElementHolder.content(this.formElement)}u.call(this)};var u=function(){if(this.ignoreChange){return}if(this.formElement){var C=this.formElement.value();if(this.previousValue||C){this._qb.change()}this.previousValue=C}else{if(this.previousValue){this._qb.change()}this.previousValue=null}};var b=function(){var C=j.call(this._qb,this);this.holder.append(C)};var a=function(){var C=g.call(this._qb,this);this.holder.append(C)};var y=function(){this.parentGroup.nodes.spliceObj(this);this.remove();this._qb.change()};var A=function(){this._qb.change()};var g=function(L,J){var G=n("<div class='qbGroup'><div class='qbGroupLeft'></div><div class='qbGroupRight'></div></div>");G._qb=this;G.isGroup=true;G.parentGroup=L;G.nodes=[];L.nodes.push(G);var F=G.children();G.leftGroup=F[0];G.rightGroup=F[1];G.switch=n.YesNo.create({yesLabel:"AND",noLabel:"OR",classes:"qbSwitch",neutralColors:true});G.switch.value(1);G.switch.change(A,G);G.leftGroup.append(G.switch);G.cbNotHolder=n("<div class='qbCbNotHolder'></div>");G.cbNot=n.CheckBox.create({label:"NOT"});G.cbNotHolder.append(G.cbNot);G.leftGroup.append(G.cbNotHolder);G.cbNot.change(function(){var M=this.cbNot.value();if(M){this.cbNotHolder.addClass("checked")}else{this.cbNotHolder.removeClass("checked")}this._qb.change()},G);G.holder=n("<div class='qbGroupContent'></div>");G.rightGroup.append(G.holder);var K=j.call(this,G);G.holder.append(K);var C=n.NB("<div class='nButton qbBAddParamBtn'><i class='fas fa-plus-circle' style='margin-right: 4px;'></i> Add Parameter</div>");C.click(b,G);G.rightGroup.append(C);var H=n.NB("<div class='nButton qbBGroupParamBtn'><i class='fas fa-bars' style='margin-right: 4px;'></i> Add Group</div>");H.click(a,G);G.rightGroup.append(H);if(J!==true){var E=n.NB("<div class='cButton qbGroupBtnRemove'><i class='fas fa-window-close' style='margin-right: 4px;'></i> Delete Group</div>");E.click(y,G);G.rightGroup.append(E)}else{var D=n.NB("<div class='nButton qbBtnApplyChanges'><i class='fas fa-sync-alt refreshIcon' style='margin-right: 4px;'></i> Apply Changes</div>",{successAnimationSpeed:250});D.refreshIcon=D.find(".refreshIcon");D.click(this.applyChanges,this);this.btnApplyChanges=D;this.btnApplyChangesDisabled=true;this.btnApplyChanges.disable();this.disableApplyChanges();G.rightGroup.append(D)}return G};var o=function(){this.change()};var j=function(E){if(!this.contract){return}var D="<div class='dropdown queryDD queryDDColumns'><span class='ddLabel queryDDLabel' unselectable='on'></span><div class='ddButton queryDDButton'></div></div>";var J=" <div class='queryFormElementHolder'></div>";var G="<div class='dropdown queryDD queryDDOperations'><span class='ddLabel queryDDLabel' unselectable='on'></span><div class='ddButton queryDDButton'></div></div>";var H="<div class='cButton queryBtnRemove'><i class='fas fa-window-close'></i></div>";var F=n("<div class='parameterLine'>"+D+G+J+H+"</div>");var C=F.children();F.ddColumns=n.DD(C[0]).data(this.columns).index(0).change(c,F);F.ddOperations=n.DD(C[1]).data(x).index(0).change(u,F);F.formElementHolder=n(C[2]);if(false){F.formElement=n.TB(C[2]).onEnterKey(u,F).input(o,this)}else{}F.btnRemove=n.NB(C[3]).click(z,F);F._qb=this;F.isGroup=false;F.parentGroup=E;E.nodes.push(F);return F};var w=function(D){var K=D.switch.value()?0:1;var G=D.cbNot.value();var C,M;var N=false,F;for(var E=0;E<D.nodes.length;E++){var J=D.nodes[E];F=E==D.nodes.length-1;if(!F||!C){if(!C&&F){F=false}var H={operator:K,not:G};if(C){C.rightOperator=H}else{M=H}C=H}if(J.isGroup){if(F){C.rightOperator=w(J)}else{C.leftOperator=w(J)}}else{var O=J.formElement.value();if(O){var L={column:J.ddColumns.value(),operation:J.ddOperations.value(),value:O};if(F){C.right=L}else{C.left=L}}}}return M};var k=function(D,M,C,L,N){var H=[];for(var K=0;K<M.elements.length;K++){var E=M.elements[K];if(E.shortType==="Model"){H.push(E)}else{C.push({contract:E,id:L+E.name,title:N+E.displayName})}}for(var K=0;K<H.length;K++){var G=H[K];var J=G.fullTypeName;var F=D.Models[J];C.push({contract:G,id:L+G.name,title:N+G.displayName});k(D,F,C,L+G.name+".",N+G.displayName+"->")}};d.public={init:function(D,C){this.initParent(D,C.name);this.queryBuilderContent=this.child(0)},setContract:function(C,E){this.contract=C.full;this.columnInfo=C.columnInfo;this.columns=C.columns;this.table=E;this.nodes=[];var D=g.call(this,this,true);this.queryBuilderContent.append(D)},value:function(C){if(n.has(C)){this.rootvalue=C}else{return this.rootvalue}},change:function(){this.btnApplyChanges.removeClass("errorOccured");if(this.btnApplyChangesDisabled){this.btnApplyChangesDisabled=false;this.btnApplyChanges.html.style.backgroundColor="";this.btnApplyChanges.removeClass("important");this.btnApplyChanges.hide();this.btnApplyChanges.enable();this.btnApplyChanges.fadeIn(400)}},disableApplyChanges:function(){if(this.errorOccured){this.errorOccured=null;this.btnApplyChangesDisabled=false;return}this.btnApplyChanges.disable();n.timeout(0,function(){this.btnApplyChanges.animate({backgroundColor:"#e4e4e4",},200,null,function(){this.addClass("important")},this.btnApplyChanges)},this)},applyChanges:function(){if(this.isProcessing){return}if(this.btnApplyChangesDisabled){return}this.errorOccured=null;this.btnApplyChanges.removeClass("errorOccured");this.btnApplyChangesDisabled=true;this.isProcessing=true;this.rootvalue=w(this.nodes[0]);this.isProcessing=true;this.btnApplyChanges.refreshIcon.fadeOut(200);this.btnApplyChanges.startProcessing();this.table.send(function(D,C){if(!D||D.error){this.errorOccured=true;this.btnApplyChanges.addClass("errorOccured")}this.btnApplyChanges.endProcessing(D,C,this.disableApplyChanges,this);this.btnApplyChanges.refreshIcon.show();this.isProcessing=false},this)}};return d})(I,window));(function(g){var d="<div class='bg' style='display:none;background-image:url(",c=")'></div>",b="<div class='bg' style='display:none;background:",a="'></div>",k=function(){this.remove()};var j=g.theme={changeBackgroundImage:function(n,o){var u,x=this.bg,m=new g.Color(arguments[0],arguments[1],arguments[2],arguments[3]);isSmall=false;if(m.isColor){var w=m.toHex();if(this.img===w){return}this.img=w;u=g(b+this.img+a)}else{if(this.img===n){return}this.img=n;if(o===true){u=g(b+n+a)}else{u=g(d+n+c)}}g.body.append(u);this.bg=u;if(x){u.fadeIn(400,null,k,x)}else{u.fadeIn(400)}}}})(I);I.templates={packages:I.C(),windows:I.D().addKey("fullName"),viewers:I.D().addKey("fullName"),toolbars:I.D().addKey("fullName")};I.Package=function(b){this.id=b.id;this.name=b.name;var c,a;if(b.dependecies){this.dependecies=[];if(b.dependecies.isArray){for(c=0,a=b.dependecies.length;c<a;c++){this.addDependency(b.dependecies[c])}}else{this.addDependency(b.dependecies)}}if(b.windows){this.windows=[];if(b.windows.isArray){for(c=0,a=b.windows.length;c<a;c++){this.addWindow(b.windows[c])}}else{this.addWindow(b.windows)}}if(b.toolbars){this.toolbars=[];if(b.toolbars.isArray){for(c=0,a=b.toolbars.length;c<a;c++){this.addToolbar(b.toolbars[c])}}else{this.addToolbar(b.toolbars)}}if(b.viewers){this.viewers=[];if(b.viewers.isArray){for(c=0,a=b.viewers.length;c<a;c++){this.addViewer(b.viewers[c])}}else{this.addViewer(b.viewers)}}if(b.css){this.css=[];if(b.css.isArray){for(c=0,a=b.css.length;c<a;c++){this.addStyle(b.css[c])}}else{this.addStyle(b.css)}}if(b.js){this.js=[];if(b.js.isArray){for(c=0,a=b.js.length;c<a;c++){this.addScript(b.js[c])}}else{this.addScript(b.js)}}this.packages.add(this.id,this);return this};I.Package.unpack=function(b){for(var c=0,a=b.length;c<a;c++){new I.Package(b[c])}};I.Package.prototype={packages:I.templates.packages,scripts:{},styles:null,addDependency:function(a){this.dependecies.push(a)},addWindow:function(a){a.pack=this;a=new I.TWindow(a);this.windows.push(a)},addToolbar:function(a){a.pack=this;a=new I.TToolbar(a);this.toolbars.push(a)},addViewer:function(a){a.pack=this;a=new I.TViewer(a);this.viewers.push(a)},addStyle:function(a){a=I("<style type='text/css' id='s"+a.id+"'>"+a.content+"</style>");this.css.push(a);this.styles.append(a)},addScript:function(js){this.js.push(js.id);this.scripts[js.id]=(typeof js.content==="string")?eval(js.content):js.content},uninstall:function(){var b,a;if(this.css){for(b=0,a=this.css.length;b<a;b++){this.css[b].remove()}}if(this.js){for(b=0,a=this.js.length;b<a;b++){this.scripts[this.js[b]]=null}}if(this.windows){for(b=0,a=this.windows.length;b<a;b++){this.windows[b].remove()}}if(this.viewers){for(b=0,a=this.viewers.length;b<a;b++){this.viewers[b].remove()}}this.packages.remove(this.id);return this}};I.Template=function(item){this.id=item.id;this.name=item.name;this.pack=item.pack;this.single=item.single;this.fullName=item.pack.name+"."+item.name;this.pageTitle=item.pageTitle;if(item.listeners){this.listeners=(typeof item.listeners==="string")?eval("("+item.listeners+")"):item.listeners}this.list.add(item.id,this)};I.Template.prototype={setTemplate:function(a){this.content=a?((typeof a==="string")?new Function("arg1","arg2","arg3","return "+a):a):null},applyTemplate:function(){return this.content.isInterface?(this.single?this.content:this.content.clone()):I(this.content.apply(this,arguments))},event:function(b,c){if(!I.emptyWindows){var a;if(this.listeners){a=this.listeners[b];if(a){a.apply(this,Array.prototype.slice.call(arguments,1))}}if(c.listeners){a=c.listeners[b];if(a){a.apply(this,Array.prototype.slice.call(arguments,1))}}}return this},remove:function(){this.list.remove(this.id)}};I.TemplateInstance=function(a){return this.initParent(a)};I.TemplateInstance.inherit(I.Interface,{event:function(){this.template.event.apply(this.template,arguments);return this}});I.TToolbar=function(a){this.setTemplate(a.content);I.initParent(this,a)};I.TToolbar.inherit(I.Template,{instantiate:function(a){return new I.Toolbar(this,a)},list:I.templates.toolbars});I.Toolbar=function(a,b){this.template=a;this.viewer=b;if(b){b.toolbar=this;this.win=b.win}this.event("preCreate",this,b,this.win);this.initParent(a.applyTemplate(b,this.win))};I.Toolbar.inherit(I.TemplateInstance,{isOpen:false,isNew:true,open:function(){if(!this.isOpen&&!this.removed){this.isOpen=true;if(this.toolbar.active){this.toolbar.active.close()}this.toolbar.active=this;if(this!==this.toolbar.newsFeed){this.toolbar.append(this)}else{this.toolbar.holder.addClass("choice")}if(this.isNew){this.isNew=false;this.event("postCreate",this,this.viewer,this.win)}this.event("preOpen",this,this.viewer,this.win);this.show();this.event("postOpen",this,this.viewer,this.win)}},close:function(){if(this.isOpen){this.isOpen=false;this.event("preClose",this,this.win);if(this===this.toolbar.newsFeed){this.hide().toolbar.holder.removeClass("choice")}else{this.hide().remove(true)}this.toolbar.active=null;this.event("postClose",this,this.win)}},destroy:function(){if(!this.removed){this.removed=true;this.close();this.event("preRemove",this,this.win);this.remove();this.event("postRemove",this,this.win)}}});I.TViewer=function(a){this.setTemplate(a.content);I.initParent(this,a);this.setToolbar(a.toolbar)};I.TViewer.inherit(I.Template,{toolbars:I.templates.toolbars,setToolbar:function(a){if(a&&a.indexOf(".")===-1){a=this.pack.name+"."+a}if(a!==this.toolbarName){this.toolbarName=a;this.toolbarTemplate=null;this.getToolbarTemplate()}},getToolbarTemplate:function(){if(!this.toolbarTemplate&&this.toolbarName){this.toolbarTemplate=this.toolbars.getWithKey("fullName",this.toolbarName)}return this.toolbarTemplate},instantiate:function(a){return new I.Viewer(this,a)},list:I.templates.viewers});I.Viewer=function(a,b){this.template=a;this.win=b;if(b){b.viewer=this}this.event("preCreate",this,b);this.initParent(a.applyTemplate(b))};I.Viewer.inherit(I.TemplateInstance,{scrolled:0,isOpen:false,isNew:true,open:function(a){if(!this.isOpen&&!this.removed){var b=this.isNew;this.isOpen=true;if(this.view.active){this.view.active.close()}this.view.active=this;if(this!==this.view.newsFeed){this.hide();this.view.append(this)}if(this.isNew){this.isNew=false;this.event("postCreate",this,this.win)}this.event("preOpen",this,this.win);this.view.toolbar.open(this);if(this===this.view.newsFeed){this.view.css("background","")}else{this.view.css("background","#FFF")}if(b){this.fadeIn(200)}else{this.show()}if(a){I.page.resetScroll=this.scrolled}if(this.view.body.docScrollTop()!==this.scrolled){this.view.body.docScrollTop(this.scrolled)}if(this!==this.view.newsFeed){I.call.raise("viewOpen")}else{I.call.raise("newsFeedOpen")}this.event("postOpen",this,this.win)}},close:function(){if(this.isOpen){this.isOpen=false;this.event("preClose",this,this.win);if(!I.support.history){this.scrolled=this.view.body.docScrollTop()}if(this===this.view.newsFeed){this.hide()}else{this.hide().remove(true)}this.view.active=null;this.event("postClose",this,this.win)}},destroy:function(){if(!this.removed){this.removed=true;this.close();this.event("preRemove",this,this.win);this.remove();this.event("postRemove",this,this.win);if(this.toolbar){this.toolbar.destroy()}}}});I.TWindow=function(a){this.setTemplate(a.content);this.width=a.w;this.position=a.pos;this.fallback=a.fpos;this.padding=a.p!=null?a.p:5;this.minWidth=a.minw;this.maxWidth=a.maxw;this.height=a.h;this.minHeight=a.minh;this.maxHeight=a.maxh;this.size=a.s||0;this.viewerData=a.viewerData;this.disableSelect=a.disableSelect;I.initParent(this,a);this.setViewer(a.viewer)};I.TWindow.inherit(I.Template,{viewers:I.templates.viewers,list:I.templates.windows,setViewer:function(a){if(a&&a.indexOf(".")===-1){a=this.pack.name+"."+a}if(a!==this.viewerName){this.viewerName=a;this.viewerTemplate=null;this.getViewerTemplate()}},getViewerTemplate:function(){if(!this.viewerTemplate&&this.viewerName){this.viewerTemplate=this.viewers.getWithKey("fullName",this.viewerName)}return this.viewerTemplate},newWindowDimensions:function(a){if(!a){a={}}var b={padding:a.padding||this.padding,size:a.size||this.size};b.width=a.width?a.width:this.width;b.height=a.height?a.height:this.height;b.contentScale=b.width/b.height;if(b.size===1){b.width+=I.Window.prototype.uiWidth;b.height+=I.Window.prototype.uiHeight}else{b.width+=I.Window.prototype.borderUiWidth;b.height+=I.Window.prototype.borderUiHeight}var d,c;if(a.pos||this.position){c=I.Board.prototype[a.pos||this.position]}if(c){d=c.call(a.board,b.width+(b.padding*2),b.height+(b.padding*2))}else{d=a.board.middleOpen(b.width+(b.padding*2),b.height+(b.padding*2))}b.left=Math.round(d.left);b.top=Math.round(d.top);return b}});I.windows=(function(b){var j=false,c=[],u=200,d={selected:null,maximized:null,list:[],deselectSelected:function(){if(this.selected){this.selected.deselect()}},addToQueue:function(z){for(var y=0,x=z.length;y<x;y++){c.push({type:b.Window,data:z[y]})}if(!j){j=true;g()}},create:function(x){var y=new b.Window(x);b.windows.add(y);return y},add:function(y,x){if(y&&y.isReady()){this.list.push(y);y.zIndex(u++);y.board.container.append(y);if(x!==false){y.reveal()}}},reposition:function(C,B,E,D){b.tempScriptieFix=true;if(!b.has(C)){var x=b.body;C=E=x.w;B=D=x.h}var H=E/C,y=D/B,A,z=this.list.length,G,J;var F=[];for(G=0;G<z;G++){J=this.list[G];if(J.isFeedPin){F.push(J);J.prevLoc=J.middle();J.move(Math.round((J.l+(J.w/2))/H)-(J.w/2),Math.round((J.t+(J.h/2))/y)-(J.h/2),null,undefined,undefined,true);J.endDrag(true)}else{if(J.isOpen()){if(J.square){J.square.destroy()}if(J.isMaximized()){J.positionMax();A=J.board.findNear(Math.round(((J.recover.l+(J.recover.w/2))/H)),Math.round(((J.recover.t+(J.recover.h/2))/y)),J.recover.w+(J.p*2),J.recover.h+(J.p*2));J.recover.l=A.left+J.p;J.recover.t=A.top+J.p;J.updateSquareWithRecover()}else{A=J.board.findNear(Math.round(((J.l+(J.w/2))/H)),Math.round(((J.t+(J.h/2))/y)),J.w+(J.p*2),J.h+(J.p*2));J.move(A.left+J.p,A.top+J.p)}}}}b.tempScriptieFix=false},winClosed:function(x){this.list.spliceObj(x)},winSelected:function(x){if(this.selected){this.selected.deselect(true)}this.selected=x},winDeselected:function(x){if(this.selected){if(x.state!==-1){if(u===349){w()}this.selected.zIndex(u++)}this.selected=null}}},a=function(y,x){d.add(new y(x))},g=function(){var x=c.pop();a(x.type,x.data);if(c.length){setTimeout(g,400)}else{j=false}},w=function(){var y=[],z,x,A;for(z=0,x=d.list.length;z<x;z++){A=d.list[z];if(A.isOpen()&&!A.isSelected()){y.push({0:A.zIndex(),index:z})}}u=200;y.sort(b.util.sortFirstElementNonEqual);for(z=0,x=y.length;z<x;z++){d.list[y[z].index].zIndex(u++)}},k=null,n=function(x){var y=b.windows.selected;if((y&&y.titleUpdateTimer)||(x&&y.item)){y.titleUpdateTimer=null}else{if(k&&!x){k=null}}},o=function(y,x){if(k){clearTimeout(k);k=null}if(x){n.call(this,x)}else{if(y.item){y.titleUpdateTimer=b.timeout(200,n,this)}else{k=b.timeout(200,n,this)}}},m=function(z,y,x){if(z.titleUpdateTimer){clearTimeout(z.titleUpdateTimer);z.titleUpdateTimer=null}if(x){n.call(this,x)}else{if(!y){k=b.timeout(200,n,this)}}};b.state.onDocLoad(function(){b.doc.keydown(function(y){if(y.keyCode==27){if(b.windows.selected){if(b.windows.selected.maximized){b.windows.selected.maximize()}else{b.windows.selected.deselect()}}}});var x=function(){var y=document.activeElement;if(y&&y._I&&y._I.win){y._I.win.ytIframeFocus=true;y._I.win.select()}};b.window.blur(function(){b.timeout(0,x)});b.window.leave(function(){b.mouseMove.emergencyOverlay()})});b.state.onInterfaced(function(){if(!b.desktop){b.desktop=b.body}b.desktop.down(function(x,y){while(y){if(y.className==="winPos"){return}y=y.parentNode}b.windows.deselectSelected()},b.desktop)});b.call.on("bodyResize",function(y,x,A,z){if(A!=null&&z!=null){b.timeoutArgs(0,this.reposition,this,y,x,A,z)}},d);b.call.on("windowSelect",o,d);b.call.on("windowDeselect",m,d);return d})(I);I.Square=function(a){if(!a){a=I.board}this.board=a;this.active=false};I.Square.prototype={update:function(b,c,d,g){var a=true;if(this.active){this.board.remove(this,true);this.active=false}else{a=false}this.x1=Math.round(b);this.x2=Math.round(c-1);this.y1=Math.round(d);this.y2=Math.round(g-1);if(!this.active){this.board.add(this,a);this.active=true}},destroy:function(){if(this.active){this.board.remove(this,false);this.active=false}},splice:function(){if(this.active){this.board.splice(this);this.active=false}}};(function(u){u.Board=function(A,C,B,D){this.fullPageSize=D;this.container=A;if(C){this.squares=[]}else{this.resizeHandler()}if(!B){u.call.on("bodyResize",this.resizeHandler,this)}A.dispose(this.dispose,this)};u.Board.prototype={fullscreenMarginTop:20,fullscreenMarginLeft:20,fullscreenMarginBottom:20,fullscreenMarginRight:20,dispose:function(){u.call.remove("bodyResize",this.resizeHandler,this)},reset:function(){if(this.squares){for(var A=0;A<this.squares.length;A++){this.squares.active=false}}this.open=[[1,0,this.w,0,this.h]];this.squares=[]},getSquares:function(){return this.squares},resizeHandler:function(){if(this.fullPageSize){var D=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);var C=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);this.resize(D,C)}else{var B,A=this.container;while(true){B=A.height();if(B||!A){break}A=A.parent()}this.resize(A.width(),B)}},resize:function(D,A){var C,B;if(u.scriptieMode){D=u.body.w}this.w=D-1;this.h=A-1;this.centerW=Math.round(this.w/2)-1;this.centerH=Math.round(this.h/2)-1;C=this.squares;this.reset();if(C){B=C.length;while(B--){this.add(C[B])}}},getMiddle:function(){return{left:this.centerW,top:this.centerH}},add:function(L,Q,K){if(!K){K=this.open}if(!Q){this.squares.push(L)}var R=K.length,H,J,F,G,T,U,S,B=0,D,A,E,C,M=L.x1,N=L.x2,O=L.y1,P=L.y2;while(R--){if(K[B++][2]<M){continue}S=K[B-1];F=S[1];if(F>N){break}T=3;U=S[0];G=S[2];while(U--){H=S[T++];J=S[T++];if(O<=J&&P>=H){if(M>F){A=false;C=false;D=S.concat();if(O>H){if(P<J){D[0]++;D.splice(T,0,P+1,J);C=true}D[T-1]=O-1}else{if(P<J){D[T-2]=P+1;C=true}else{D[0]--;D.splice(T-2,2)}}D[1]=M;if(N<G){E=S.concat();E[1]=N+1;E[2]=G;D[2]=N;K.splice(B,0,D,E);if(C){B+=2}else{R+=2}}else{D[2]=G;K.splice(B,0,D);if(C){B++}else{R++}}S[2]=M-1;break}else{if(N<G){E=S.concat();S[2]=G=N;E[1]=N+1;K.splice(B,0,E);R++}if(O>H){S[T-1]=O-1;if(P<J){S[0]++;S.splice(T,0,P+1,J);break}}else{if(P<J){S[T-2]=P+1;break}else{S[0]--;T-=2;S.splice(T,2)}}}}}}},remove:function(B,J){var E=B.x1<0?0:B.x1,F=B.x2>this.w?this.w:B.x2,G=B.y1<0?0:B.y1,H=B.y2>this.h?this.h:B.y2,A,D=[[1,E,F,G,H]],C=this.squares.length;while(C--){A=this.squares[C];if(A!=B){if(F>=A.x1&&E<=A.x2&&H>=A.y1&&G<=A.y2){this.add(A,true,D)}}else{if(!J){this.squares.splice(C,1)}}}x.call(this,D)},splice:function(B){var A=this.squares.length;while(A--){if(this.squares[A]===B){this.squares.splice(A,1);return}}},isAvailable:function(C,F,H){var D=this.squares,B=D.length,E,J,G=H.w+(H.p*2),A=H.h+(H.p*2);if(C<0||F<0||C+G>this.w||F+A>this.h){return false}for(E=0;E<B;E++){sqr=D[E];if(sqr.active&&C<sqr.x2&&(C+G)>sqr.x1&&F<sqr.y2&&(F+A)>sqr.y1){return false}}return true},findRandom:function(F,B){var C,D,E=this.w-F-u.view.width,A=this.h-B;C=u.util.random(0,E);D=u.util.random(30,A);return{left:C,top:D}},findBestNonFit:function(C,F,G,A){var B=C-(G/2);var E=F-(A/2);var D=k(j.call(this,1,1),G,A);if(!D){return this.findRandom(G,A)}return a(y(D,B,E,G,A),G,A)},findNear:function(C,E,F,B,A){if(u.localSettings.values.scriptie||u.tempScriptieFix){return u.scriptie.find(this,C,E,F,B)}var G=C-(F/2);var H=E-(B/2);var D=m.call(this,j.call(this,F,B),C,E,G,H,F,B,A);if(!D){return this.findBestNonFit(C,E,F,B)}return y(D,G,H,F,B)},getMiddleLoc:function(C,A){var B=this.getMiddle();B.left-=Math.round(C/2);B.top-=Math.round(A/2);return B},middleOpen:function(D,B,A){var C=this.getMiddle();return this.findNear(C.left,C.top,D,B,A)},bottomOpen:function(C,A){var B=this.getMiddle();return this.findNear(B.left,this.h,C,A)},middle:function(C,A){var B=this.getMiddle();return{left:B.left-Math.round(C/2),top:B.top-Math.round(A/2)}},aboveMiddle:function(C,A){var B=this.getMiddle();return{left:B.left-Math.round(C/2),top:Math.round((B.top*0.9)-(A/2))}},aboveMiddleOpen:function(C,A){var B=this.getMiddle();return this.findNear(B.left,Math.round(B.top*0.95),C,A)},topRightOpen:function(C,A){var B=this.getMiddle();return this.findNear((Math.round((this.w+1)/1.3)),Math.round(B.top*0.55),C,A)},leftTop:function(B,A){return{left:10,top:10}},top:function(C,A){var B=this.getMiddle();return this.findNear(B.left,230,C,A)},leftFromMiddleOpen:function(B,A){return this.findNear((Math.round((this.w+1)/6)),Math.round(((this.h+1)/2)),B,A)},rightFromMiddleOpen:function(B,A){return this.findNear((Math.round((this.w+1)/1.4)),Math.round(((this.h+1)/2)),B,A)},display:function(){var M=this.open.length,P,K,F,H,L,O,B=true,C=80,D=80,E=80,J="<div>",G,A;if(!u("#Display").html){u.body.append("<div id='Display'></div>")}u("#Display").empty();for(G=0;G<M;G++){O=3;var N=this.open[G];P=N[0];H=N[1];L=N[2]-H+1;for(A=0;A<P;A++){K=N[O++];F=N[O++]-K+1;C+=15;if(C>120){C=50;E-=10;D-=8}D+=4;if(D>120){D=80}if(B){E+=15;if(E>120){B=false}}else{E-=15;if(E<40){B=true}}J+='<div style="position:absolute;top:'+K+"px;left:"+H+"px;width:"+L+"px;height:"+F+"px;background-color:rgb("+C+","+D+","+E+');"></div>'}}u("#Display").append(J+"</div>")}};var x=function(M){var J=this.open,Q=J.length,E,F,G,H,L=M.length,P,K,S,T,R,C=0,A,B,N,O,D;for(A=0;A<L;A++){K=M[A];while(Q--){R=J[C++];F=R[2];if(F<K[1]){continue}E=R[1];if(E>K[2]){Q++;C--;break}if(K[1]>E){D=R.concat();R[2]=K[1]-1;D[1]=K[1];J.splice(C,0,D);Q++;continue}else{if(K[2]<F){D=R.concat();R[2]=K[2];D[1]=K[2]+1;J.splice(C,0,D);Q++}}B=S=3;P=K[0];T=R[0];while(P--){N=K[B++];O=K[B++];while(T){G=R[S++];H=R[S++];if((H+1)==N){if((O+1)==R[S]){R[0]--;T--;R[S-1]=R[S+1];R.splice(S,2)}else{R[S-1]=O}S-=2;break}else{if(G==(O+1)){S-=2;R[S]=N;break}else{if(O<G){R[0]++;R.splice(S-2,0,N,O);break}else{T--}}}}if(!T){R[0]++;T=1;R.splice(S,0,N,O)}}if(w.call(this,C-1)){C--}}}if(C<J.length){w.call(this,C)}},w=function(A){if(A===0){return false}var C=this.open,D=C[A],B=C[A-1],F=D[0],E=3;if(F!=B[0]){return false}while(F--){if(D[E]!=B[E++]||D[E]!=B[E++]){return false}}B[2]=D[2];C.splice(A,1);return true},j=function(R,J){var Q=this.open,T=Q.length,U,Y,O,M=[],N,K,P=[],V,A,B,F,G,D,E,C,S,W,X,H=false,L=true;while(T--){U=Q[T];Y=U[0];K=[];D=U[1];E=U[2];V=3;while(Y--){A=U[V++];B=U[V++];if(B-A+1<J){continue}N=M.length;C=E;while(N--){O=M[N];F=O.y1;G=O.y2;if(F>B){continue}if(G<A){break}if(A>F){if(B>G){if(G-A+2>J){H=true;W=A;X=G;S=O.x2}}else{C=O.x2}}else{if(A<F){if(B<G){if(B-F+2>J){H=true;W=F;X=B;S=O.x2}}else{O.x1=D;K.push(O);if(!O.r&&O.x2-D+2>R){O.r=true}}}else{if(B<G){C=O.x2}else{O.x1=D;K.push(O);if(!O.r&&O.x2-D+2>R){O.r=true}if(B==G){L=false}}}}}if(L){F={r:(C-D+2>R),x1:D,x2:C,y1:A,y2:B};K.push(F);P.push(F)}else{L=true}if(H){F={r:(S-D+2>R),x1:D,x2:S,y1:W,y2:X};K.push(F);P.push(F);H=false}}M=K}return P},n=function(E,F,G,H,C,D,B,A){return{l:E<=C?(F>=(C+B)?C:(F-B)):E,t:G<=D?(H>=(D+A)?D:(H-A)):G}},g=function(A,B,C){return Math.round(Math.sqrt((Math.pow((B-A.l),2))+Math.pow((C-A.t),2)))},d=function(E,F,G,H,C,D,B,A){return g(n(E,F,G,H,C,D,B,A),C,D)},k=function(B,L,D){var J=B.length,H,G,A=-90000,F,N,K,C,M,E;if(!J){return null}for(N=0;N<J;N++){H=B[N];if(H.r){K=H.x2-H.x1;C=H.y2-H.y1;M=K-L;E=C-D;G=(M>=0?0:M)+(E>=0?0:E);if(G>A){A=G;F=N}}}return B[F]},o=function(C,D){var O=this.open.length,H,J,F,G,Q,R,P,A=0,K,B,E,M=0,N=0,L=0;while(O--){P=this.open[O];R=P[0];F=P[1];G=P[2];Q=3;while(R--){H=P[Q++];J=P[Q++];K=(G-F)*(J-H);L+=K;middleX=F+((G-F)/2);middleY=H+((J-H)/2);middleX=middleX-C;middleY=middleY-D;E=Math.abs(middleX)+Math.abs(middleY);M+=(middleX/E)*K;N+=(middleY/E)*K}}E=Math.abs(M)+Math.abs(N);return{x:M/E,y:N/E,p:(E/L)}},m=function(C,G,H,R,S,Q,F,D){var P=C.length,O,B,A=90000000,N,T,J,K,L;if(!P){return null}if(D!==false&&P>1){var E=o.call(this,G,H),M;for(T=0;T<P;T++){O=C[T];if(O.r){M=n(O.x1,O.x2,O.y1,O.y2,R,S,Q,F);B=g(M,R,S);J=M.l-R;K=M.t-S;L=Math.abs(J)+Math.abs(K);L=((((J/L)*E.x)+((K/L)*E.y))+1)/2;L=((L+(L*E.p))/2);if(L){B=B/L}if(B<A){N=O;if(!B){break}A=B}}}}else{for(T=0;T<P;T++){O=C[T];if(O.r){B=d(O.x1,O.x2,O.y1,O.y2,R,S,Q,F);if(B<=A){N=O;if(!B){break}A=B}}}}return N},a=function(B,C,A){if(B.left<0){B.left=0}if(B.top+A>(this.h+1)){B.top=this.h+1-A}if(B.left+C>(this.w+1)){B.left=this.w+1-C}if(B.top<0){B.top=0}return B},y=function(C,B,D,E,A){C.x2-=E;C.y2-=A;return{left:B<C.x1?C.x1:B>C.x2?(C.x2+1):Math.round(B),top:D<C.y1?C.y1:D>C.y2?(C.y2+1):Math.round(D)}},z=false,b=function(D){var E=this.open.length-1,B,A,G,C,F,K,H,J;if(!this.globalCount){this.globalCount=0}if(window.clear&&this.globalCount==10){this.globalCount=0;console.clear()}this.globalCount++;console.log("SQUARE x1: "+D.x1+" x2:"+D.x2+" y1:"+D.y1+" y2:"+D.y2);while(E--){F=this.open[E];K=F[0]-1;G=3;console.log("("+E+") x1: "+F[1]+" x2: "+F[2]);y3=F[G++];y4=F[G++];console.log("y1: "+y3+" y2: "+y4);for(B=0;B<K;B++){H=y3;J=y4;y3=F[G++];y4=F[G++];if(J+1===y3||y3<J){console.log("Inconsistency detected");console.log("y3: "+y3+" y4: "+y4);return}else{console.log("y3: "+y3+" y4: "+y4)}}}},c=function(L){var M=L.length,K,N,F,H,O,B=true,C=80,D=80,E=80,J="<div>",G,A;u("#Display").empty();while(M--){K=L[M];if(K.r){H=K.x1;O=K.x2-H+1;N=K.y1;F=K.y2-N+1;C+=15;if(C>120){C=50;E-=10;D-=8}D+=4;if(D>120){D=80}if(B){E+=15;if(E>120){B=false}}else{E-=15;if(E<40){B=true}}J+='<div style="position:absolute;top:'+N+"px;left:"+H+"px;width:"+O+"px;height:"+F+"px;background-color:rgb("+C+","+D+","+E+');"></div>'}}u("#Display").append(J+"</div>")}})(I);I.resize=(function(c){var d,B,m,j,k,g,y,z,u,w,x,o,E,b,A=function(F){b(F);E.onResizeTick()},n={start:function(H,F,G){E=H;d=E.isScaled();if(d){B=E.content.scale}if(E.template.minWidth&&E.template.minWidth>110){m=E.uiWidth+E.template.minWidth}else{m=E.uiWidth+110}if(E.template.maxWidth){j=E.template.maxWidth+E.uiWidth}else{j=null}k=E.uiHeight;if(E.template.minHeight){k+=E.template.minHeight}if(E.template.maxHeight){g=E.template.maxHeight+E.uiHeight}else{g=null}y=G.realX-E.l;z=G.realY-E.t;u=G.realX-E.w;w=G.realX+E.w;x=G.realY-E.h;o=G.realY+E.h;b=a[F];c.mouseMove.start(G,E,A,this,E.onEndResize,E)}},C=function(F){return parseInt(((F-E.uiWidth)/B),10)+E.uiHeight},D=function(F){return parseInt(((F-E.uiHeight)*B),10)+E.uiWidth},a={e:function(F,K,L,G){if(!L){L=F.realX-u}if(j){if(L>j){L=j}}if(L<m){L=m}if(L+E.l>c.body.w){L=c.body.w-E.l}if(!G&&d){var J=C(L),H;if(K){H=a.n(F,false,J,true)}else{H=a.s(F,false,J,true)}if(H!==J){L=D(H)}}E.width(L);if(G){return L}},w:function(F,L,M,G){var K;if(!M){K=F.realX-y;M=w-F.realX}else{K=w-M-y}if(j){if(M>j){M=j;K=w-M-y}}if(M<m){M=m;K=w-M-y}if(K<0){K=0;M=w-y}if(!G&&d){var J=C(M),H;if(L){H=a.s(F,false,J,true)}else{H=a.n(F,false,J,true)}if(H!==J){M=D(H);K=w-M-y}}E.left(K);E.width(M);if(G){return M}},s:function(F,K,H,G){if(!H){H=F.realY-x}if(g){if(H>g){H=g}}if(H<k){H=k}if(H+E.t>c.body.h){H=c.body.h-E.t}if(!G&&d){var J=D(H),L;if(K){L=a.w(F,false,J,true)}else{L=a.e(F,false,J,true)}if(L!==J){H=C(L)}}E.height(H);if(G){return H}},n:function(F,K,H,G){var L;if(!H){L=F.realY-z;H=o-F.realY}else{L=o-H-z}if(g){if(H>g){H=g;L=o-H-z}}if(H<k){H=k;L=o-H-z}if(L<0){L=0;H=o-z}if(!G&&d){var J=D(H),M;if(K){M=a.e(F,false,J,true)}else{M=a.w(F,false,J,true)}if(M!==J){H=C(M);L=o-H-z}}E.top(L);E.height(H);if(G){return H}},ne:function(F){if(d){if(B>1){a.e(F,true)}else{a.n(F,true)}}else{a.e(F);a.n(F)}},se:function(F){if(d){if(B>1){a.e(F)}else{a.s(F)}}else{a.e(F);a.s(F)}},nw:function(F){if(d){if(B>1){a.w(F)}else{a.n(F)}}else{a.w(F);a.n(F)}},sw:function(F){if(d){if(B>1){a.w(F,true)}else{a.s(F,true)}}else{a.w(F);a.s(F)}}};return n})(I);I.Window=function(a){this.isDeactivated(true);if(!a){return}if(!a.board){a.board=I.board}this.board=a.board;this.data=a;if(a.isItem){this.item=a;a.win=this}this.quickReveal=a.quickReveal;if(a.window===undefined){a.window=-1}this.template=this.templates.get(a.window);this.title=a.title;this.listeners=a.listeners;if(!this.template){return}I.call.raise("winPreCreate",this);this.event("preCreate",this,a);var b=this.template.newWindowDimensions(a);this.size=b.size;this.p=b.padding;this.w=b.width;this.h=b.height;if(!this.isFixedSize()){}this.initParent(this.UI.clone()).down(this.select).input(this.select);this.window=this.find(".window");this.titlebar=this.window.find(".titlebar").down(this.startDrag,this).on("ondblclick",this.maximize,this);if(this.title==null){this.title=this.template.name}this.titletext=this.titlebar.find(".title").text(this.title);this.actionbar=this.titlebar.find(".actionbar").down(null,null,null,true).dblclick(null,null,null,true);this.closebtn=this.actionbar.find(".close",I.A).click(this.close,this);this.minimizebtn=this.actionbar.find(".minimize",I.A);if(a.noMin||I.scriptieMode){this.minimizebtn.hide()}else{this.minimizebtn.click(this.minimize,this)}this.maximizebtn=this.actionbar.find(".maximize",I.A);if(a.noMax||I.scriptieMode){this.maximizebtn.hide()}else{this.maximizebtn.click(this.maximize,this)}this.border=this.window.find(".winBorder");if(!this.isFixedSize()){this.border.addClass("winPadding")}this.content=this.border.find(".content").click(this.contentClick,this);this.contentHolder=this.content.child(0);if(this.template.content&&!I.emptyWindows){this.contentHolder.append(this.template.applyTemplate(a))}if(I.emptyWindows&&!a.settings){this.closebtn.hide();this.content.css("border","0");this.content.css("background","transparent");this.titletext.hide();this.css("background",I.Color.random().toRGB())}this.content.scale=b.contentScale;this.l=b.left+this.p;this.t=b.top+this.p;this.pos(this.l,this.t).width(this.w).height(this.h);if(!this.template.disableSelect){this.content.enableSelect()}this.contentHolder.css("background",a.background);this.event("postCreate",this,a);this.enableOrDisableResize();this.isReady(true);this.isOpen(true);if(a.noSquare!==true){this.square=new I.Square(this.board);this.square.win=this;this.updateSquare()}};I.Window.create=function(b){if(b==null){b={}}if(b.board==null){b.board=I.board}if(b.size==null){b.size=0}if(b.pos==null){b.pos="middleOpen"}if(b.width==null&&b.height==null&&b.content!=null){I.body.append(b.content.addToHiddenDiv());var c=b.content.fullWidth();var a=b.content.fullHeight();if(c>I.body.w-80){c=I.body.w-80}if(a>I.body.h-80){a=I.body.h-80}b.width=c;b.height=a}else{if(b.width==null){b.width=500}if(b.height==null){b.height=500}}if(b.title==null){b.title=""}if(b.revealSpeed==null){b.revealSpeed=100}var d=new I.Window(b);b.board.container.append(d);I.windows.add(d,false);if(b.parent!=null){b.parent.dispose(function(){this.close()},d)}if(b.content!=null){d.contentHolder.content(b.content)}if(b.scroll){d.contentHolder.css("overflow",b.scroll)}else{d.contentHolder.css("overflow","auto")}d.reveal(b.revealSpeed);d.select();return d};I.Window.inherit(I.TemplateInstance,(function(a){return{onClose:a.q("onClose"),onReveal:a.q("onReveal"),templates:a.templates.windows,isWindow:true,dragging:false,minimized:false,resizeAppended:false,maximized:false,uiWidth:4,borderUiWidth:12,maxUiWidth:4,uiHeight:28,borderUiHeight:33,maxUiHeight:35,isOpen:function(b){if(b&&!this.isDeactivated()){this.state=2}else{return(this.state===2||this.state===3)}},isSelected:function(b){if(b&&!this.isDeactivated()){this.state=3}else{return(this.state===3)}},isUnopened:function(b){if(b&&!this.isDeactivated()){this.state=1}else{return(this.state===1)}},isReady:function(b){if(b){this.state=1}else{return(this.state)}},isDeactivated:function(b){if(b){this.state=0}else{return(!this.state||this.state===-1)}},isRemoved:function(b){if(b){this.state=-1}else{return(this.state===-1)}},setContent:function(b){this.contentHolder.css("overflow","auto");this.contentHolder.content(b)},width:function(b){if(a.has(b)){this.w=b;this.content.width(b-this.uiWidth);return this}else{return this.content.width()+this.uiWidth}},height:function(b){if(a.has(b)){this.h=b;this.content.height(b-this.uiHeight);return this}else{return this.content.height()+this.uiHeight}},contentWidth:function(b){if(a.has(b)){this.w=b+this.uiWidth;this.content.width(b);return this}else{return this.w-this.uiWidth}},contentHeight:function(b){if(a.has(b)){this.h=b+this.uiHeight;this.content.height(b);return this}else{return this.h-this.uiHeight}},left:function(b){return this.pos(b,null)},top:function(b){return this.pos(null,b)},pos:function(b,c){if(b!=null){this.l=Math.round(b)}if(c!=null){this.t=Math.round(c)}return this.css("pos",this.l,this.t)},middle:function(){return{left:this.l+(this.w/2),top:this.t+(this.h/2)}},snapshot:function(){this.recover={w:this.w,h:this.h,l:this.l,t:this.t}},isFixedSize:function(){return(this.size===1)},isScaled:function(){return(this.size===2)},updateSquare:function(){if(!this.isDeactivated()&&this.square){this.square.update(this.l-this.p,this.l+this.w+this.p,this.t-this.p,this.t+this.h+this.p)}return this},updateSquareWithRecover:function(){if(!this.isDeactivated()&&this.square){this.square.update(this.recover.l-this.p,this.recover.l+this.recover.w+this.p,this.recover.t-this.p,this.recover.t+this.recover.h+this.p)}return this},destroySquare:function(){if(this.square){this.square.destroy()}},changeTitle:function(b){this.title=b;this.titletext.text(b);return this},reveal:function(b){if(!this.isRevealed&&this.isReady()){this.checkLocation();this.onLoad();this.isRevealed=true;a.call.raise("winOpen",this);if(b===0||b===true||this.quickReveal){this.show();this.revealed()}else{this.css("addTransform","scale(0.5)");this.animate({opacity:1,addTransform:"scale(1)"},b?b:150,null,function(){this.show().css("removeTransform","scale");this.revealed()},this)}}return this},onLoad:function(){this.event("load",this)},revealed:function(){this.event("revealed",this);this.onReveal()},open:function(b){if(!this.isDeactivated()&&this.isUnopened()){this.event("preOpen",this);this.window.replaceClass("unopened","open");this.enableOrDisableResize();if(!this.dragging){this.zIndex(199)}else{this.hideResize()}if(b){this.minimizebtn.show();this.maximizebtn.show()}else{this.minimizebtn.fadeIn(70);this.maximizebtn.fadeIn(70)}this.closebtn.removeClass("unopened");this.titletext.removeClass("unopened");this.isOpen(true);this.updateSquare();var c=this.css("opacity");if(c&&c<1){this.show()}this.event("postOpen",this)}return this},blinkBtn:function(){if(this.isSelected()){this.closebtn.blink("backgroundColor","#AAAAAA",90,2)}else{this.closebtn.blink("backgroundColor","#C95959",90,2)}return this},showSelect:function(b){this.minimize(false);if(this.isSelected()){this.blinkBtn()}else{this.select(b)}return this},select:function(b){if(!this.isDeactivated()&&!this.isSelected()){this.open();this.input(this.select,this,true);this.window.addClass("selected");this.content.addClass("selected");this.minimizebtn.addClass("selected");this.maximizebtn.addClass("selected");this.closebtn.addClass("selected");if(!this.dragging){this.zIndex(401)}this.isSelected(true);a.windows.winSelected(this);a.call.raise("windowSelect",this,b===true)}return this},deselect:function(c,b){if(!this.isDeactivated()&&this.isSelected()){this.window.removeClass("selected");this.content.removeClass("selected");this.minimizebtn.removeClass("selected");this.maximizebtn.removeClass("selected");this.closebtn.removeClass("selected");this.input(this.select,this);this.isOpen(true);a.windows.winDeselected(this);a.call.raise("windowDeselect",this,c,b===true);if(this.maximized){this.maximize()}}},minimize:function(d){if(!this.isDeactivated()){if(!this.minimized&&d!==false){this.endMouseMove();this.maximize(false);this.open().snapshot();var c=140,g=0;if(!this.isFixedSize()){this.border.removeClass("winPadding");g+=10}var b=this.l+this.w-(c+this.uiWidth-g);this.contentHeight(0).contentWidth(c).left(b);this.w=this.w-g;this.content.addClass("minimized");this.minimizebtn.content("&#43;").removeClass("minimize").addClass("plus");this.minimized=true;this.onResize().hideResize()}else{if(this.minimized&&d!==true){this.endMouseMove();this.content.removeClass("minimized");if(!this.isFixedSize()){this.border.addClass("winPadding")}this.l+=this.w-this.recover.w;this.resize(this.recover.w,this.recover.h).pos(this.l,this.t);this.minimizebtn.content("&minus;").replaceClass("plus","minimize");this.minimized=false;this.showResize()}}}return this},isMaximized:function(){return !!this.maximized},positionMax:function(){a.call.raise("preWindowMaxRepos",this);var b=this.board,g=b.w,w=this.maximized?200:0,z,d,y=this.maxUiWidth,x=this.maxUiHeight;var k=b.fullscreenMarginLeft,m=b.fullscreenMarginRight,n=b.fullscreenMarginTop,j=b.fullscreenMarginBottom;if(!this.isFixedSize()){var u=b.w-k-m,o=b.h-n-j;z=this.template.maxWidth;if(!z){z=u}else{z+=y;if(z>u){z=u}}if(this.isScaled()){d=((z-y)/this.content.scale)+x;if(d>o){d=o;z=((d-x)*this.content.scale)+y}}else{d=this.template.maxHeight;if(!d){d=o}else{d+=x;if(d>o){d=o}}}this.resizeContent(z-y,d-x,false,w,undefined,undefined,true,true,true)}else{z=this.contentWidth()+y;d=this.contentHeight()+x;if(a.app&&a.app.center!==0){g+=300}}var c=false;this.move(Math.round(g/2-(z/2)),c?Math.round(b.h/2-(d/2)):n,w,undefined,undefined,true,true,true);this.onResizeTick();this.event("postResize",this);a.call.raise("postWindowMaxRepos",this)},maximize:function(b){if(!this.isDeactivated()){if(!this.maximized&&b!==false){a.body.css("overflow","hidden");this.endMouseMove();this.minimize(false);this.event("preMaximize",this);this.stop(undefined,true);this.content.stop(undefined,true);this.snapshot();this.select();a.desktop.fullscreen.enter(this);this.maximized=true;a.audio.playTick();this.zIndex(4001);this.maximizebtn.addClass("maximized").leave();this.titletext.addClass("maximized");this.titlebar.addClass("maximized");this.window.addClass("maximized");this.border.addClass("maximized");this.closebtn.addClass("maximized");this.minimizebtn.addClass("maximized");this.hideResize();this.event("postMaximize",this);a.call.raise("winMaximize",this)}else{if(this.maximized&&b!==true){a.body.css("overflow","");this.event("preCollapse",this);this.width(this.recover.w);this.height(this.recover.h);this.pos(this.recover.l,this.recover.t);this.maximizebtn.removeClass("maximized").leave();this.titletext.removeClass("maximized");this.titlebar.removeClass("maximized");this.window.removeClass("maximized");this.border.removeClass("maximized");this.closebtn.removeClass("maximized");this.minimizebtn.removeClass("maximized");this.maximized=false;this.showResize();a.desktop.fullscreen.exit(this);this.onResize();this.event("postCollapse",this)}}}},fsExitDone:function(){if(this.isSelected()){this.zIndex(401)}},close:function(b){this.closeFade(b)},closeSlow:function(){this.closeFade(800)},deactivate:function(){if(!this.isDeactivated()){if(!this.silent){a.audio.playSwoosh()}if(this.viewer){this.viewer.destroy()}if(this.isSelected()){a.windows.winDeselected(this);a.call.raise("windowDeselect",this,false)}if(this.maximized){this.maximize()}if(this.feedPin){this.feedPin.windows.spliceObj(this)}this.endMouseMove();this.destroySquare();this.isDeactivated(true);a.windows.winClosed(this);a.call.raise("winClose",this);this.event("postDeactivate",this)}},closeFade:function(b){this.deactivate();if(!a.util.isNumber(b)){b=75}if(this.html&&b){var c=this.css("transform");this.animate({opacity:0,transform:c+" scale(0.75)"},b,null,function(){this.closeNow()},this)}else{this.closeNow()}},closeNow:function(){if(!this.isRemoved()){this.event("preClose",this);this.deactivate();a.mouseMove.cancelIf(this);a.call.raise("windowRemove",this);this.hide();a.timeout(300,this.remove,this);this.isRemoved(true);this.event("postClose",this);this.onClose()}},startDrag:function(c){if(!this.isDeactivated()&&!this.maximized&&c.which===1){var b=a.body,d=a.mouseMove;this.dragging=true;d.relX=c.realX-this.l;d.relY=c.realY-this.t;d.maxX=b.w-this.w;d.maxY=b.h-this.h;b.html.style.cursor="move";this.hideResize();d.start(c,this,this.drag,this,this.endDrag,this);this.zIndex(999);a.call.raise("winStartDrag",this)}},endDrag:function(){this.dragging=false;this.zIndex(401);document.body.style.cursor="";this.showResize();this.updateSquare();a.call.raise("winEndDrag",this)},drag:function(d){if(this.dragging){var j=a.mouseMove,b=d.realX-j.relX,c=d.realY-j.relY,k=c<0?0:c>j.maxY?j.maxY<0?0:j.maxY:c,g=b>j.maxX?j.maxX:b<0?j.maxX<0?j.maxX:0:b;this.pos(g,k)}},enableOrDisableResize:function(){if(!this.isFixedSize()){this.enableResize()}else{this.disableResize()}},enableResize:function(){if(!this.resizeAppended&&!this.minimized){this.resizeDiv=a(this.resizeNodes.clone());var b=this.resizeDiv.children(),d=0,c=b.length;for(;d<c;d++){b[d].html.isResizeDiv=true}this.append(this.resizeDiv);this.resizeAppended=true;this.down(this.checkForResize)}},disableResize:function(){if(this.resizeAppended){this.resizeDiv.remove();this.resizeAppended=false;this.down(this.checkForResize,this,true)}},showResize:function(){if(this.resizeAppended&&!this.maximized&&!this.minimized){this.resizeDiv.show()}return this},hideResize:function(){if(this.resizeAppended){this.resizeDiv.hide()}return this},checkForResize:function(b,c){if(c.isResizeDiv&&b.which===1){this.startResize(b,c)}},startResize:function(c,d){if(!this.isDeactivated()&&!this.maximized&&!this.minimized){this.select();var b=d.className;this.titlebar.html.style.cursor=document.body.style.cursor=b+"-resize";a.resize.start(this,b,c)}},onResize:function(){this.onResizeTick();this.checkLocation();if(this.isMaximized()){this.positionMax();this.updateSquareWithRecover()}else{this.updateSquare()}return this.event("postResize",this)},onResizeTick:function(){return this.event("onResize",this)},endMouseMove:function(){a.mouseMove.endObj(this)},onEndResize:function(){this.onResize();this.titlebar.html.style.cursor=document.body.style.cursor=""},resize:function(o,g,b,n,c,d,j,m,k){return this.resizeContent(o==null?null:o-this.uiWidth,g==null?null:g-this.uiHeight,b,n,c,d,j,m,k)},resizeContent:function(z,j,c,x,d,g,k,w,n){if(!this.isMaximized()||this.isFixedSize()||n){if(x){var b=this;this.content.animate({width:z,height:j},x,null,d,g)}else{if(z!=null){this.content.width(z)}if(j!=null){this.content.height(j)}}}var u,o,m,y;if(this.isMaximized()&&!n){if(c){u=this.recover.w;o=this.recover.h;m=this.recover.l;y=this.recover.t}if(z!=null){this.recover.w=z+this.uiWidth}if(j!=null){this.recover.h=j+this.uiHeight}if(this.isFixedSize()){this.w=this.recover.w;this.h=this.recover.h}}else{if(c){u=this.w;o=this.h;m=this.l;y=this.t}if(z!=null){this.w=z+this.uiWidth}if(j!=null){this.h=j+this.uiHeight}}if(c){this.move(z==null?null:m+Math.round((u-z-this.uiWidth)/2),j==null?null:y+Math.round((o-j-this.uiHeight)/2),x,undefined,undefined,k)}else{if(!w){this.onResize()}}return this},move:function(j,n,m,c,d,g,k,b){j=Math.round(j);n=Math.round(n);if(this.isMaximized()&&!b){if(j!=null){this.recover.l=j}if(n!=null){this.recover.t=n}return this}if(m){if(j!=null){this.l=j}if(n!=null){this.t=n}this.adjustTargets().animate({pos:{left:this.l,top:this.t}},m,null,c,d,g)}else{this.pos(j,n)}if(!k){this.onMove()}return this},adjustTargets:function(){if(this.l<0){this.l=0}if(this.t+this.h>a.body.h){this.t=a.body.h-this.h}if(this.l+this.w>a.body.w){this.l=a.body.w-this.w}if(this.t<0){this.t=0}return this},onMove:function(){this.checkLocation();this.updateSquare()},checkLocation:function(){var d=false,c=a.body;if(this.size===0||this.size===2){var b=this.board;var m=b.fullscreenMarginLeft,n=b.fullscreenMarginRight,o=b.fullscreenMarginTop,k=b.fullscreenMarginBottom;var u=false,A,g,x=this.t,j=this.l;var z=this.maxUiWidth,y=this.maxUiHeight;if(this.w>c.w){A=c.w-(m+n);if(this.size===2){g=((A-z)/this.content.scale)+y}u=true}if(this.h>c.h){g=c.h-(o+k);if(this.size===2){A=((g-y)*this.content.scale)+z}u=true}if(u){if(x<o){x=o;d=true}if(j<k){j=k;d=true}this.resize(A,g,false,0);if(d){this.pos(j,x)}return}}if(this.l<0){this.l=0;d=true}if(this.t+this.h>c.h){this.t=c.h-this.h;d=true}if(this.l+this.w>c.w){this.l=c.w-this.w;d=true}if(this.t<0){this.t=0;d=true}if(d){this.pos(this.l,this.t);this.updateSquare()}},changeTemplate:function(d,g,c,b){if(!a.has(b)){b=this.data}if(d instanceof Template){this.template=d}else{this.template=templates.find(d)}if(!a.has(g)||!a.has(c)){g=this.template.width;c=this.template.height}this.contentHolder.content(this.template.content.call(b));this.content.scale=g/c;this.resizeContent(g,c,true,140);this.enableOrDisableResize()},distance:function(b,d,c,g){return Math.round(Math.sqrt((Math.pow(b-c,2)+Math.pow(d-g,2))))},moveToOpen:function(d,c){var b=this.findOpen();if(c&&this.distance(this.l,this.t,b.left,b.top)>c){return this.updateSquare()}this.move(b.left,b.top,d)},findOpen:function(){var c=this.middle();this.destroySquare();var b=this.board.findNear(c.left,c.top,this.w+(this.p*2),this.h+(this.p*2));b.left+=this.p;b.top+=this.p;return b},contentDown:function(){this.event("contentDown",this);this.select()},contentClick:function(){this.event("contentUp",this)},UIUnopened:a("<div class='winPos' style='opacity:0;'><div class='window unopened'><div class='titlebar'><span class='title unopened'></span><div class='actionbar'><div class='action minimize' style='display:none;'>&minus;</div><div class='action icon maximize' style='display:none;'></div><div class='action close unopened'></div></div></div><div class='winBorder'><div class='content'><div class='contentHolder'></div></div></div></div>"),UI:a("<div class='winPos' style='opacity:0;'><div class='window'><div class='titlebar'><span class='title'></span><div class='actionbar'><div class='action minimize'>&minus;</div><div class='action icon maximize'></div><div class='action close'></div></div></div><div class='winBorder'><div class='content'><div class='contentHolder'></div></div></div></div>"),resizeNodes:a("<div><div class='sw'></div><div class='se'></div><div class='nw'></div><div class='ne'></div><div class='n'></div><div class='w'></div><div class='e'></div><div class='s'></div></div>")}})(I));I.pins=[];I.FeedPin=function(a){this.windows=[];this.paused=false;this.title=a.title;this.url=a.url;this.w=a.width;this.state=0;this.dragging=false;this.maximized=false;var b=a.position.call(this.board,this.w+(this.p*2),this.h+(this.p*2));this.l=b.left+this.p;this.t=b.top+this.p;this.square=new I.Square();this.updateSquare();this.parentObj=this.parentObj.prototype.parentObj;this.initParent(this.generateUI()).down(this.startSubDrag,this);this.pausebtn=this.find(".feedPinPause",I.A).click(this.toggle,this).down(null,null,null,true);this.closebtn=this.find(".feedPinClose",I.A).click(this.close,this).down(null,null,null,true);I.desktop.append(this);this.reveal();I.pins.push(this)};I.FeedPin.inherit(I.Window,{isFeedPin:true,h:24,p:2,destroyWindowSquares:function(){for(var b=0,a=this.windows.length;b<a;b++){this.windows[b].square.destroy()}},spliceWindowSquares:function(){for(var b=0,a=this.windows.length;b<a;b++){this.windows[b].square.splice()}},moveWindowsToOpen:function(){for(var b=0,a=this.windows.length;b<a;b++){this.windows[b].moveToOpen(140)}},startSubDrag:function(a){this.prevLoc=this.middle();this.startDrag(a)},endDrag:function(b){this.dragging=false;this.zIndex("");this.checkLocation();this.updateSquare();I.body.style.cursor="";var g=this.middle(),o,d,j,c=this.windows.length,k,m,n;this.spliceWindowSquares();this.board.resize(I.body.w,I.body.h);var a=[];for(k=0;k<c;k++){m=this.windows[k];d=m.l+g.left-this.prevLoc.left-m.p;j=m.t+g.top-this.prevLoc.top-m.p;if(this.board.isAvailable(d,j,m)){m.move(d+m.p,j+m.p,b?null:400,undefined,undefined,true)}else{a.push(m)}}for(k=0,c=a.length;k<c;k++){m=a[k];n=this.board.findNear(g.left,g.top,m.w+(m.p*2),m.h+(m.p*2));m.move(n.left+m.p,n.top+m.p,400,undefined,undefined,true)}},reveal:function(){this.fadeIn(320);this.state=1},toggle:function(){if(!this.paused){this.paused=true;I.request.pollTimer.pause();this.pausebtn.addClass("startIcon")}else{this.paused=false;I.request.pollTimer.resume();this.pausebtn.removeClass("startIcon");this.ping()}},standardColor:{borderTopColor:"transparent",borderLeftColor:"transparent",borderRightColor:"transparent",borderBottomColor:"transparent"},newColor:{borderTopColor:"#5086E9",borderLeftColor:"#5086E9",borderRightColor:"#5086E9",borderBottomColor:"#5086E9"},pong:function(){this.animate(this.standardColor,180,null)},wait:function(){I.timeout(40,this.pong,this)},ping:function(){this.animate(this.newColor,120,null,this.wait,this)},generateUI:function(){return"<div class='feedPin' style='"+this.opacityIE+";width:"+(this.w-4)+"px;left:"+this.l+"px;top:"+this.t+"px;'><div class='feedPinIcon' style=\"background-image:url('"+this.url+"');\"></div><div class='icon feedPinClose pinCloseIcon'></div><div class='icon feedPinPause pauseIcon'></div><div class='icon feedPinSettings pinSettingsIcon'></div>"}});I.scriptie=(function(){var a=0,b=0;return{initialMaxConfigs:3000,overlap:function(n,j){var o=0,g,k,m;for(var c=0;c<n.length;c++){k=n[c];g=0;for(var d=c+1;d<n.length;d++){m=n[d];if(k.x2>=m.x1&&k.x1<=m.x2&&k.y2>=m.y1&&k.y1<=m.y2){xOverlap=Math.max(0,Math.min(k.x2,m.x2)-Math.max(k.x1,m.x1));yOverlap=Math.max(0,Math.min(k.y2,m.y2)-Math.max(k.y1,m.y1));g+=xOverlap*yOverlap}}o+=g}if(o>j){return 0.01}return 1-(o/j)},displacement:function(o,m,j){var u=0;for(var g=0;g<o.length;g++){var n=o[g],k=m[g],c=n.x1-k.x1,d=n.y1-k.y1;u+=Math.sqrt(c*c+d*d)}if(u>j){return 0.01}return 1-(u/j)},randomize:function(c,y,B,u){var A=I.util.random,C=c.w,m=c.h,j=I.util.random(10,(10+((B*4)%200))),k=I.util.random(10,((B*4)+(B%200)));for(var n=0;n<y.length;n++){var z=y[n],o=u[n];var x=Math.random();if(x<0.5&&z.win&&!z.win.settings){var d,g;if(x<0.25){d=Math.round((Math.random()-0.5)*j);g=Math.round((Math.random()-0.5)*k)}else{if(x<0.366){d=Math.round((Math.random()-0.5)*j);g=0}else{d=0;g=Math.round((Math.random()-0.5)*k)}}var D=z.x1+d,F=z.y1+g;if(D<0){o.x1=0;o.x2=Math.round(z.x2+d-D)}else{var E=z.x2+d;if(E>C){o.x2=C;o.x1=Math.round(z.x1+(d-(E-C)))}else{o.x1=Math.round(D);o.x2=Math.round(E)}}if(F<0){o.y1=0;o.y2=Math.round(z.y2+g-F)}else{var G=z.y2+g;if(G>m){o.y2=m;o.y1=Math.round(z.y1+(g-(G-m)))}else{o.y1=Math.round(F);o.y2=Math.round(G)}}}else{o.x1=z.x1;o.x2=z.x2;o.y1=z.y1;o.y2=z.y2}o.size=z.size;o.win=z.win}return u},move:function(d){for(var c=0;c<d.length;c++){var g=d[c];if(g.win&&g.win!==true){g.win.move(g.x1+g.win.p,g.y1+g.win.p,250)}}},initNew:function(k,o,c,g,n){var j=[];for(var d=0;d<k.length;d++){var m=k[d];j.push({x1:m.x1,x2:m.x2,y1:m.y1,y2:m.y2,win:m.win})}j.push({x1:g,x2:g+o,y1:n,y2:n+c,win:true});return j},onePlusOneStrategy:function(d,w,N,R,n){var g=d.getSquares();var S=w-(Math.round(R/2));var T=N-(Math.round(n/2));var z=this.initNew(g,R,n,S,T);var B=[],L=[];var k,A,E,D,Q=0,P=0,O=0,F;for(var o=0;o<z.length;o++){var G=z[o];B[o]={x1:G.x1,x2:G.x2,y1:G.y1,y2:G.y2,win:G.win};L[o]={};G.size=(G.x2-G.x1)*(G.y2-G.y1);O+=G.size}var x=Math.sqrt(d.w*d.h)*z.length,y=O*z.length;y=O;k=1;A=this.overlap(B,y);var c={overall:k*A,recs:z,oGrade:A,dGrade:k};if(!this.maxConfigs){try{this.maxConfigs=parseInt(I.stringStorage.getItem("scriptieMaxConfig"))}catch(m){console.log("stringstorage error: "+m.message)}if(!this.maxConfigs||this.maxConfigs<750||this.maxConfigs>(2*this.initialMaxConfigs)){this.maxConfigs=this.initialMaxConfigs}}var H=performance.now(),C=Math.round(this.maxConfigs/10);F=L;if(c.overall!==1){for(;P<this.maxConfigs;P++){Q++;L=this.randomize(d,c.recs,Q,F);k=this.displacement(B,L,x);A=this.overlap(L,y);D=k*A;if(D>c.overall){Q=0;F=c.recs;c.overall=D;c.dGrade=k;c.oGrade=A;c.recs=L}else{F=L}if(!(P%C)){var K=performance.now();if(K-H>150&&P>500){console.log("skipped"+(K-H));break}}if(this.maxConfigs>=1000&&Q>(this.maxConfigs/5)){break}}}var J=performance.now(),M=J-H;if(P>(this.maxConfigs/4)){a=((a*b)+M)/(b+1);b++;if(b>3){a=3*(a/b);b=3}var j=false;if(a>60&&this.maxConfigs>500){if(a>100){this.maxConfigs-=Math.round(this.maxConfigs/2)}else{this.maxConfigs-=Math.round(this.maxConfigs/4)}if(this.maxConfigs<750){this.maxConfigs=750}j=true}else{if(a<15&&this.maxConfigs<(2*this.initialMaxConfigs)){this.maxConfigs+=Math.round(this.initialMaxConfigs/2);if(this.maxConfigs>(2*this.initialMaxConfigs)){this.maxConfigs=(2*this.initialMaxConfigs)}j=true}else{if(a<30&&this.maxConfigs<this.initialMaxConfigs){this.maxConfigs+=Math.round(this.initialMaxConfigs/4);if(this.maxConfigs>this.initialMaxConfigs){this.maxConfigs=this.initialMaxConfigs}j=true}else{if(a>15&&this.maxConfigs>this.initialMaxConfigs){this.maxConfigs-=Math.round(this.maxConfigs/4);if(this.maxConfigs<this.initialMaxConfigs){this.maxConfigs=this.initialMaxConfigs}j=true}}}}if(j){if(this.maxConfigs<750){this.maxConfigs=750}a=1*(a/b);b=1;try{I.stringStorage.setItem("scriptieMaxConfig",this.maxConfigs+"")}catch(m){console.log("stringstorage error: "+m.message)}}}if(I.scriptieMode){console.log("[scrip] final: dGrade: "+c.dGrade+" oGrade:"+c.oGrade);this.displacementLabel.text(Math.round(c.dGrade*10000)/10000);this.overlapLabel.text(Math.round(c.oGrade*10000)/10000);this.overallLabel.text(Math.round(c.overall*10000)/10000);this.configLabel.text(o);this.timeLabel.text(Math.round((J-H)*10000)/10000)}this.move(c.recs);var u=c.recs[c.recs.length-1];return{left:u.x1,top:u.y1}},find:function(c,g,j,k,d){return this.onePlusOneStrategy.apply(this,arguments)}}})();(function(j){var n=0;var d=function(){if(this.fn){this.fn.call(this)}};var g=function(){this.addClass("selected")};var k=function(u,o){this.initParent(u);if(o.view!=null){this.setLink(o.view)}else{if(o.fn!=null){this.fn=o.fn;this.click(d,this)}else{if(o.href!=null){this.html.href=o.href;if(o.target!=null){this.html.target=o.target}this.click(g,this)}}}};var b="<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1024 1024' class='subMenuArrow'><path d='M704 360.448v89.6L524.8 640 345.6 450.048v-89.6H704z'></path></svg>";k.inherit(j.Action,{template:function(o){if(o.id){return"<a id='"+o.id+"'><span>"+o.name+"</span>"+(o.subMenu?b:"")+"</a>"}else{return"<a><span>"+o.name+"</span>"+(o.subMenu?b:"")+"</a>"}}});var m=function(w){var z=w.listItem.subMenu;if(z){w.addClass("subMenu");if(!w.floater){n++;var x="<div id='SubMenu' style='display:none'>";for(var u=0;u<z.length;u++){x+="<a id='subMenu"+u.toString()+n.toString()+"' class='subMenuOption'>"+z[u].name+"</a>"}w.floater=j.FL(x+"</div>").below(w).open();for(var u=0;u<z.length;u++){var o=j.NB("#subMenu"+u.toString()+n.toString());var y=z[u];if(y.view!=null){o.setLink(y.view)}else{if(y.fn!=null){o.click(d,y)}else{if(y.href!=null){o.html.href=y.href;if(y.target!=null){o.html.target=y.target}}}}o.click(function(){this.floater.close();this.button.doLeave().removeRipples()},{button:o,floater:w.floater})}}else{w.floater.open()}}};var c=function(o){if(o.floater){o.removeClass("subMenu");o.floater.close()}};var a=function(){if(!this.indicatorFloater.disabled&&this.selectedPage){this.indicatorFloater.width(this.selectedPage.fullWidth()-30)}};j.NavigationBar=function(u,o){if(o==null){o={}}this.options=o;this.list=j.C();this.list.key(function(w){return w.id==null?w.name:w.id});this.listView=j.LV(u,k).isActionList().fill(this.list).objectEnter(m,this).objectLeave(c,this);this.pagesSet=false;if(this.options.indicatorFloaterEnabled){this.indicatorFloater=j.FL(j.div(null,"floatingIndicator")).alwaysReposition().hide();j.body.append(this.indicatorFloater);this.indicatorFloater.targetParent().animatePos(400);j.call.on("bodyResizeTick",a,this)}return this};j.NavigationBar.prototype={setPages:function(o){this.list.fill(o);if(this.pagesSet===false){this.pagesSet=true;if(this.selectedPageName!=null){this.selectPage(this.selectedPageName)}}return this},get:function(o){return this.listView.get(o)},selectPage:function(w){this.selectedPageName=w;if(this.pagesSet===false){return}var o=this.get(w);this.deselectPage();this.selectedPage=o;j.body.scrollTop(0);if(o){o.addClass("selected")}else{return}if(this.options.indicatorFloaterEnabled){var u=o.fullWidth();this.indicatorFloater.below(o,15,-3).width(u-30).open().position()}},deselectPage:function(){if(this.selectedPage){this.selectedPage.removeClass("selected");this.selectedPage.css("background","");this.selectedPage=null}}}})(I);(function(c){c.SideMenu=function(j){this.initParent(j);this.createInitialStructure();return this};var a=function(){this.hide()};var b=function(){this.height("");this.css("overflow","auto")};var g=function(j,k){return k.sort-j.sort};var d=function(){c.navigate(this.url)};c.SideMenu.inherit(c.Interface,{createInitialStructure:function(){if(!this._initialStructureCreated){this._initialStructureCreated=true;this.background=c('<div class="sideMenuBackground" style="display: none"></div>');this.inner=c('<div class="sideMenuInner"></div>');this.titleBox=c('<div class="sideMenuTitleBox"></div>');this.menuBox=c('<div class="sideMenuBody"></div>');this.parent().prepend(this.background);this.append(this.inner);this.inner.append(this.titleBox).append(this.menuBox);this.offsetContentBody=c.body.find(".sideMenuOffset")}},toggleMenuHeader:function(){if(!this._itemBoxHidden){this._itemBoxHidden=true;this._itemBoxHeight=this._itemBox.height();this._itemBox.height(this._itemBoxHeight);this._itemBox.css("overflow","hidden");this.replaceClass("down","right");this._itemBox.animate({height:0},200,null,a,this._itemBox);this._arrowDiv.replaceClass("fa-chevron-down","fa-chevron-right").addClass("right")}else{this._itemBoxHidden=false;this.replaceClass("right","down");if(this._itemBoxHeight){this._itemBox.show().animate({height:this._itemBoxHeight},200,null,b,this._itemBox)}else{this._itemBox.show();b.apply(this._itemBox)}this._arrowDiv.replaceClass("fa-chevron-right","fa-chevron-down").removeClass("right")}},setHeader:function(m,o){var n=null;for(var k=0;k<this.elements.length;k++){var j=this.elements[k];if(j.name==m){n=j;break}}if(n===null){return}if(n.visible&&o===false){n.hide();n.visible=false}else{if(!n.visible&&o===true){n.show();n.visible=true}}},set:function(m,C,y,z,w){var B=null;for(var k=0;k<this.elements.length&&B===null;k++){var j=this.elements[k];for(var D=0;D<j.items.length;D++){var o=j.items[D];if(o.idName===m){B=o;break}}}if(B===null){return}if(B.visible&&C===false){B.hide();B.visible=false;if(!B.header._hiddenBecauseEmpty){var A=false;for(var u=0;u<B.header.items.length;u++){if(B.header.items[u].visible){A=true;break}}if(!A){B.header.hide();B.header._hiddenBecauseEmpty=true}}}else{if(!B.visible&&C===true){B.show();B.visible=true;if(B.header._hiddenBecauseEmpty){var A=false;for(var u=0;u<B.header.items.length;u++){if(B.header.items[u].visible){A=true;break}}if(A){B.header.show();B.header._hiddenBecauseEmpty=false}}}}if(z!=null){B.icon.text(z).show()}},selectCategory:function(m){var n=null;for(var k=0;k<this.elements.length;k++){var j=this.elements[k];if(j.name==m){n=j;break}}if(n===null||!n.items.length){return}n.items[0].over();n.items[0].down();n.items[0].out()},select:function(m){if(!this.elements){this._queuedItem=m;return}this._queuedItem=null;if(this.selectedItem){if(this.selectedItem.idName===m){return}this.selectedItem.removeClass("selected");this.selectedItem.indicator.stop().removeClass("on").css("backgroundColor","#ffb03b");this.selectedItem.indicator.animate({backgroundColor:""},200,"linear")}if(!m){this.selectedItem=null;this.selectedHeader=null;return}for(var k=0;k<this.elements.length;k++){var j=this.elements[k];for(var o=0;o<j.items.length;o++){var n=j.items[o];if(n.idName===m){n.addClass("selected");n.indicator.animate({backgroundColor:"#ffb03b"},200,"linear",function(){this.addClass("on")},n.indicator);if(j.header._itemBoxHidden){this.toggleMenuHeader.call(j.header)}this.selectedHeader=j;this.selectedItem=n;this.selectedName=m;return}}}this.selectedItem=null;this.selectedHeader=null},enable:function(){if(!this.enabled){this.enabled=true;this.offsetContentBody.addClass("sideMenuOffsetMargin");this.background.fadeIn(400);this.fadeIn(800)}return this},disable:function(){if(this.enabled){this.enabled=false;this.offsetContentBody.removeClass("sideMenuOffsetMargin");this.background.hide();this.hide()}return this},title:function(m,j){this.enable().createInitialStructure();var k="";k+='<div class="sideMenuTitle"><span>';k+=m;k+="</span></div>";this.titleBox.content(c(k));if(j){if(!this.firstColorSet){this.firstColorSet=true;this.background.css("background",j)}else{this.background.animate({backgroundColor:j},400)}}else{this.background.css("background","")}return this},clear:function(){this.selectedItem=null;this.selectedHeader=null;this.selectedName=null;this.elements=null;this.menuBox.empty()},update:function(j,k){if(this.selectedName){this.previousSelectedName=this.selectedName}this.create(j,k);if(this.previousSelectedName){this.select(this.previousSelectedName)}},create:function(G,K){this.enable().createInitialStructure();this.selectedItem=null;this.selectedHeader=null;this.selectedName=null;for(var F=0;F<G.length;F++){var m=G[F];m.items.sort(g)}var L="";for(var F=0;F<G.length;F++){var n=G[F];L+='<div class="sideMenuHeader"';if(n.visible!==false){L+=">"}else{L+=' style="display: none">'}if(K||n.closed){L+='<div class="sideMenuHeaderTitleBox right"><div class="sideMenuHeaderTitle">'+n.headerName+"</div>";L+='<div class="sideMenuHeaderTitleButton fa fa-fw fa-chevron-right right"></div></div>';L+='<div class="sideMenuBox" style="display:none; height: 0">'}else{L+='<div class="sideMenuHeaderTitleBox down"><div class="sideMenuHeaderTitle">'+n.headerName+"</div>";L+='<div class="sideMenuHeaderTitleButton fa fa-fw fa-chevron-down"></div></div>';L+='<div class="sideMenuBox">'}for(var M=0;M<n.items.length;M++){var k=n.items[M];L+='<a class="nButton sideMenuLink default"';if(k.visible!==false){L+=">"}else{L+=' style="display: none">'}if(c.has(k.icon)){L+='<div class="sideMenuIcon">'+k.icon+"</div >"}else{L+='<div class="sideMenuIcon" style="display: none"></div>'}L+='<div class="sideMenuHeaderButtonLeft"></div>';L+='<div class="sideMenuLabel">';if(c.has(k.fa_icon)){L+="<div class='sideHolder'><i class='";L+=k.fa_icon;L+=" sideIcon'></i><div class='sideText'>";L+=k.name;L+="</div></div>"}else{L+=k.name}L+="</div>";L+="</a>"}L+="</div></div>"}this.menuBox.content(L);var D=this.menuBox.children();for(var F=0;F<G.length;F++){var H=D[F];var E=G[F];var z=E.items;var B=H.children();var A=B[0];var C=B[1];var y=C.children();for(var j=0;j<y.length;j++){y[j]=c.B(y[j])}A._itemBox=C;A._arrowDiv=A.find(".sideMenuHeaderTitleButton");A._itemBoxHidden=K||E.closed;c.A(A).click(this.toggleMenuHeader,A);H.header=A;H.items=y;H.name=E.headerName;H.visible=E.visible!==false;H.hideOnEmpty=E.hideOnEmpty===true;var J=false;for(var M=0;M<E.items.length;M++){var u=y[M];var o=z[M];u.header=H;u.idName=c.has(o.id)?o.id:o.name;u.visible=o.visible!==false;var w=u.children();u.icon=w[0];u.indicator=w[1];u._isDark=false;if(u.visible){J=true}if(o.fn){u.click(o.fn,o)}if(o.url){u.setLink(o.url)}}if(!J&&H.hideOnEmpty){H._hiddenBecauseEmpty=true;H.hide()}else{H._hiddenBecauseEmpty=false}}this.elements=D;if(this._queuedItem){this.select(this._queuedItem)}return this}})})(I);I.WebElement.add((function(b,g){var a={name:"UserPanel",inherits:"Interface",template:function(k){var j="<div id='ButtonsPanel'>";j+="<div id='LogInPanel' style='display: none'><div id='BtnSignInLink' class='nButton'>Sign In</div><div id='BtnRegisterLink' class='nButton'>Register</div></div>";j+="<div id='UserPanel'><div id='UserName' style='display: none'></div><div id='UserImgHolder' style='display: none'></div></div>";j+="<div id='QuestionMarkButton' class='topBarButton'><i class='topBarIcon fas fa-question-circle'></i></div>";j+="<div id='UserOptionFloater' style='display: none'>";j+="<div class='userOption userOptionUsername'></div>";j+="<div class='userOptionLine'></div>";j+="<a id='BtnAccountDetails' class='userOption' style='display: none'>";j+="<div class='userOptionLeft'><i class='far fa-user-cog'></i></div>";j+="<div class='userOptionRight'>Account Management</div>";j+="</a>";j+="<a id='BtnUserLogout' class='userOption' style='display: none'>";j+="<div class='userOptionLeft'><i class='far fa-sign-out'></i></div>";j+="<div class='userOptionRight'>Log Out</div>";j+="</a>";j+="</div>";j+="<div id='QuestionMarkFloater' style='display: none'>";j+="<a id='BtnEmailSupport' class='userOption' href='mailto:helpdesk@almondboard.com'><div class='userOptionLeft'><i class='far fa-envelope'></i></div><div class='userOptionRight'>Support</div></a>";j+="<a id='BtnManageCookies' class='userOption'><div class='userOptionLeft'><i class='far fa-cookie-bite'></i></div><div class='userOptionRight'>Manage Cookies</div></a>";j+="<a id='BtnPrivacyPolicy' class='userOption' href='https://www.almonds.com/privacy-policy-and-terms-of-use' target='_blank'><div class='userOptionLeft'><i class='far fa-eye'></i></div><div class='userOptionRight'>Privacy Policy</div></a>";j+="</div>";j+="</div>";return j}};var c=function(){if(!b.state.isLoggedIn&&!this.options.disableLogInPanel){this.logInPanel.show()}};var d=function(){var w=b.user.profile;var k=w.firstName,o=w.lastName;b("#UserName").text(((k==null||k.length===0)?"":(k+" ")+((o==null||o.length===0)?"":o)));b("#LogInPanel").hide();b("#UserName").fadeIn(200);this.optionFloater.find(".userOptionUsername").text(w.username);var m=b("#UserImgHolder");var n=((k==null||k.length===0)?"":k[0])+((o==null||o.length===0)?"":o[0]);m.append("<div id='UserInitials'>"+n+"</div>");m.fadeIn(200);var u=b.NB(this.optionFloater.find("#BtnUserLogout"),{isDark:false});if(!b.has(this.options.logOutLink)){u.execute(function(){b.user.logOut()},this)}else{u.html.href=this.options.logOutLink}u.show();var j=b.NB(this.optionFloater.find("#BtnAccountDetails"),{isDark:false});j.execute(function(){b.navigate("/MyAccount");this.doLeave();this.optionFloater.close()},this).show()};a.public={init:function(y,o){this.initParent(y);this.options=o;var u=b.S(this.find("#UserPanel"));var n=b.FL(this.find("#UserOptionFloater")).closeOnBlur().setSwitch(u).fix().belowToLeft(u);this.optionFloater=n;var x=b.S(this.find("#QuestionMarkButton"));var w=b.FL(this.find("#QuestionMarkFloater")).closeOnBlur().setSwitch(x).fix().belowToLeft(x);var m=b.NB(w.find("#BtnEmailSupport"),{isDark:false});var j=b.NB(w.find("#BtnManageCookies"),{isDark:false});var k=b.NB(w.find("#BtnPrivacyPolicy"),{isDark:false});k.html.href="https://www.almonds.com/privacy-policy-and-terms-of-use";k.click(function(){this.doLeave();w.close()});j.click(function(){this.doLeave();b.cookies.displayBanner();w.close()});this.logInPanel=this.find("#LogInPanel");b.state.onReady(c,this);b.call.on("login",d,this)},value:function(j){if(b.has(j)){this.info=j}else{return this.info}}};return a})(I,window));I.WebElement.add((function(b,c){var a={name:"VersionInformation",inherits:"Interface",template:function(d){return"<div class='versionInfo' style='display: none;'><div class='topVersion'></div><span class='deploymentLocation'></span><span class='version'></span><div class='creationDate'></div></div>"}};a.public={init:function(g,d){this.initParent(g)},value:function(g){if(b.has(g)){this.info=g;this.find(".creationDate").text(moment(g.assemblyCreationDate).format("MMM Do YYYY, h:mm a"));this.find(".version").text("v"+g.majorVersion+"."+g.minorVersion);var d=this.find(".deploymentLocation");d.text(g.deploymentLocation+" ");if(g.deploymentLocation.toUpperCase()==="LIVE"){d.css("color","forestgreen")}else{if(g.deploymentLocation.toUpperCase()==="TEST"){d.css("color","#105eb1")}else{if(g.deploymentLocation.toUpperCase()==="DEV"){d.css("color","#555")}else{d.css("color","red")}}}this.fadeIn()}else{return this.info}}};return a})(I,window));I.App={setup:function(a){var c=new I.Package({id:-1,name:"Efeedy",windows:[{id:-1,name:"Page",pos:"aboveMiddleOpen",w:200,h:200}]});I.toaster.setContainer(I(a.toaster?a.toaster:"#Toaster"));window.App={isAdmin:a.isAdminFunction};if(a.navigationBar){App.navigationBar=new I.NavigationBar(a.navigationBar===true?"#NavigationBar":a.navigationBar,a.navigationBarOptions);App.pageLoaded=function(g){App.navigationBar.selectPage(g)}}if(a.sideMenu){App.sideMenu=new I.SideMenu(a.sideMenu===true?"#SideMenu":a.sideMenu)}if(a.versionInformation){I.call.on("userLoaded",function(){if(App.isAdmin()){I.send("Version/Get",null,function(g){App.versionInformation=I.VersionInformation.create({target:a.versionInformation});if(g&&!g.error){App.versionInformation.value(g);I(a.versionInformation).replaceWith(App.versionInformation)}})}})}if(a.userPanel){var d=I.UserPanel.create(a.userPanelOptions);I(a.userPanel).replaceWith(d)}if(window.parseMasterViewModel){window.parseMasterViewModel()}I.desktop=App.dashboard=I("#Dashboard").extend({items:I("#DashboardItems"),fullscreen:I.useFor(I("#Fullscreen").extend({active:false,enter:function(g){if(!this.active){this.maximized=g;this.show();this.active=true;g.positionMax();I.Floater.closeAll();I.call.raise("fullscreenEnter")}},exit:function(g){if(this.active){this.hide();this.active=false;I.call.raise("fullscreenExit");I.Floater.checkReposition();this.maximized.fsExitDone()}}}),function(){this.click(function(){if(this.maximized){this.maximized.maximize()}},this)})});I.board=new I.Board(App.dashboard.items,false,false,true);if(a.loadBar!==false){if(a.loadBar==null){try{a.loadBar=I("#LoadBar")}catch(b){}if(a.loadBar.html==null){a.loadBar=I("<div></div>");I.body.append(a.loadBar)}}I.mainLoadBar=App.loadBar=new I.LoadBar(a.loadBar===true?"#LoadBar":a.loadBar)}}}; console.log('adding onloadFallback'); if(I.onloadFallback) { I.onloadFallback(); I.onloadFallback = null; }